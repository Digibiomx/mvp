/*! For license information please see main.58ffe528.js.LICENSE.txt */
(()=>{var e={33:(e,t)=>{"use strict";function n(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},109:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,n){return t instanceof s?t:new s(e,{pub:t,pubEnc:n})},s.fromPrivate=function(e,t,n){return t instanceof s?t:new s(e,{priv:t,privEnc:n})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},s.prototype.verify=function(e,t,n){return this.ec.verify(e,t,this,void 0,n)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},364:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(8251);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},1067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(6121).__exportStar(n(656),t)},1172:(e,t,n)=>{"use strict";var r=n(3697),i=n(9848),s=n(5482);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=o,o.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},o.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,i.encode(o,t)}},1198:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1510:(e,t,n)=>{"use strict";var r=n(7643).rotr32;function i(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}function o(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?o(t,n,r):2===e?s(t,n,r):void 0},t.ch32=i,t.maj32=s,t.p32=o,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},1636:e=>{"use strict";e.exports={rE:"6.6.1"}},1822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},1859:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=r.rotl32,o=r.sum32,a=r.sum32_3,c=r.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],b=n,v=r,w=i,E=l,A=u,S=0;S<80;S++){var x=o(s(c(n,h(S,r,i,l),e[p[S]+t],d(S)),m[S]),u);n=u,u=l,l=s(i,10),i=r,r=x,x=o(s(c(b,h(79-S,v,w,E),e[g[S]+t],f(S)),y[S]),A),b=A,A=E,E=s(w,10),w=v,v=x}x=a(this.h[1],i,E),this.h[1]=a(this.h[2],l,A),this.h[2]=a(this.h[3],u,b),this.h[3]=a(this.h[4],n,v),this.h[4]=a(this.h[0],r,w),this.h[0]=x},u.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},2155:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=n(5482),o=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,l=r.shr64_lo,u=r.sum64,h=r.sum64_hi,d=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,m=r.sum64_5_lo,y=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(e,t,n,r,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function E(e,t,n,r,i,s){var o=t&r^~t&s;return o<0&&(o+=4294967296),o}function A(e,t,n,r,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function S(e,t,n,r,i,s){var o=t&r^t&s^r&s;return o<0&&(o+=4294967296),o}function x(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function P(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function O(e,t){var n=o(e,t,1)^o(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function N(e,t){var n=o(e,t,19)^o(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function _(e,t){var n=a(e,t,19)^a(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(v,y),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=N(n[r-4],n[r-3]),s=_(n[r-4],n[r-3]),o=n[r-14],a=n[r-13],c=O(n[r-30],n[r-29]),l=C(n[r-30],n[r-29]),u=n[r-32],h=n[r-31];n[r]=f(i,s,o,a,c,l,u,h),n[r+1]=p(i,s,o,a,c,l,u,h)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],f=this.h[6],p=this.h[7],y=this.h[8],b=this.h[9],v=this.h[10],O=this.h[11],C=this.h[12],N=this.h[13],_=this.h[14],T=this.h[15];s(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var R=_,L=T,B=P(y,b),D=k(y,b),U=w(y,b,v,O,C),j=E(y,b,v,O,C,N),z=this.k[M],F=this.k[M+1],q=n[M],H=n[M+1],V=g(R,L,B,D,U,j,z,F,q,H),$=m(R,L,B,D,U,j,z,F,q,H);R=x(r,i),L=I(r,i),B=A(r,i,o,a,c),D=S(r,i,o,a,c,l);var G=h(R,L,B,D),K=d(R,L,B,D);_=C,T=N,C=v,N=O,v=y,O=b,y=h(f,p,V,$),b=d(p,p,V,$),f=c,p=l,c=o,l=a,o=r,a=i,r=h(V,$,G,K),i=d(V,$,G,K)}u(this.h,0,r,i),u(this.h,2,o,a),u(this.h,4,c,l),u(this.h,6,f,p),u(this.h,8,y,b),u(this.h,10,v,O),u(this.h,12,C,N),u(this.h,14,_,T)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},2236:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=n(1510),o=r.rotl32,a=r.sum32,c=r.sum32_5,l=s.ft_1,u=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,u),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=o(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],s=this.h[1],u=this.h[2],d=this.h[3],f=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),g=c(o(i,5),l(p,s,u,d),f,n[r],h[p]);f=d,d=u,u=o(s,30),s=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],f)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},2624:(e,t,n)=>{"use strict";t.sha1=n(2236),t.sha224=n(3291),t.sha256=n(3410),t.sha384=n(4282),t.sha512=n(2155)},2629:(e,t,n)=>{"use strict";var r=n(7643),i=n(5482);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,s=8;s<this.padLength;s++)r[i++]=0;return r}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");function r(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},3035:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},3291:(e,t,n)=>{"use strict";var r=n(7643),i=n(3410);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},3410:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=n(1510),o=n(5482),a=r.sum32,c=r.sum32_4,l=r.sum32_5,u=s.ch32,h=s.maj32,d=s.s0_256,f=s.s1_256,p=s.g0_256,g=s.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(b,m),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(g(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],s=this.h[1],m=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],E=this.h[7];for(o(this.k.length===n.length),r=0;r<n.length;r++){var A=l(E,f(b),u(b,v,w),this.k[r],n[r]),S=a(d(i),h(i,s,m));E=w,w=v,v=b,b=a(y,A),y=m,m=s,s=i,i=a(A,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],E)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},3697:(e,t,n)=>{var r=t;r.utils=n(7643),r.common=n(2629),r.sha=n(2624),r.ripemd=n(1859),r.hmac=n(7355),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},3776:()=>{},3901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(5871),t),r.__exportStar(n(1822),t),r.__exportStar(n(1067),t),r.__exportStar(n(8251),t)},4282:(e,t,n)=>{"use strict";var r=n(7643),i=n(2155);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,g(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(e,t,r,i,s,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(){}function C(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return C((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+k(e,0):s,E(o)?(i="",null!=u&&(i=u.replace(P,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(c=o,l=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+u,o=x(c.type,l,void 0,0,0,c.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(E(e))for(var g=0;g<e.length;g++)u+=C(s=e[g],t,i,a=p+k(s,g),o);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,a=p+k(s,g++),o);else if("object"===a){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(O,O):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return x(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return x(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.T,n={};A.T=n;try{var r=e(),i=A.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,T)}catch(s){T(s)}finally{A.T=t}},t.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},t.use=function(e){return A.H.use(e)},t.useActionState=function(e,t,n){return A.H.useActionState(e,t,n)},t.useCallback=function(e,t){return A.H.useCallback(e,t)},t.useContext=function(e){return A.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return A.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return A.H.useEffect(e,t)},t.useId=function(){return A.H.useId()},t.useImperativeHandle=function(e,t,n){return A.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.H.useMemo(e,t)},t.useOptimistic=function(e,t){return A.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return A.H.useReducer(e,t,n)},t.useRef=function(e){return A.H.useRef(e)},t.useState=function(e){return A.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.H.useTransition()},t.version="19.0.0"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4661:(e,t,n)=>{"use strict";var r=n(3697),i=n(6697),s=n(6864),o=s.assert,a=s.parseBytes,c=n(5206),l=n(3035);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=u,u.prototype.sign=function(e,t){e=a(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),s=this.encodePoint(i),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=r.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},u.prototype.verify=function(e,t,n){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(s)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),i=s.intFromLE(n);return this.curve.pointFromY(i,r)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return s.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5206:(e,t,n)=>{"use strict";var r=n(6864),i=r.assert,s=r.parseBytes,o=r.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},a.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=a},5482:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},5697:(e,t,n)=>{"use strict";var r=n(6864),i=n(6373),s=n(6329),o=n(6588),a=r.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function l(e,t,n,r,s){o.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},s(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,n,r){return new l(this,e,t,n,r)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=r.redAdd(t),o=s.redSub(n),a=r.redSub(t),c=i.redMul(o),l=s.redMul(a),u=i.redMul(a),h=o.redMul(s);return this.curve.point(c,l,h,u)},l.prototype._projDbl=function(){var e,t,n,r,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(r=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(r.redSub(c)),n=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),s=l.redSub(i).redISub(i),e=o.redSub(a).redISub(c).redMul(s),t=l.redMul(r.redSub(c)),n=l.redMul(s))}else r=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),s=r.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(r)).redMul(s),t=this.curve._mulC(r).redMul(a.redISub(c)),n=r.redMul(s);return this.curve.point(e,t,n)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(t),o=i.redSub(r),a=i.redAdd(r),c=n.redAdd(t),l=s.redMul(o),u=a.redMul(c),h=s.redMul(c),d=o.redMul(a);return this.curve.point(l,u,d,h)},l.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),l=i.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=r.redMul(c).redMul(u);return this.curve.twisted?(t=r.redMul(l).redMul(o.redSub(this.curve._mulA(s))),n=c.redMul(l)):(t=r.redMul(l).redMul(o.redSub(s)),n=this.curve._mulC(c).redMul(l)),this.curve.point(h,t,n)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},l.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},5711:(e,t,n)=>{"use strict";const r=n(5984);e.exports=o;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:f,wrapResponseSerializer:f,wrapErrorSerializer:f,req:d,res:d,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function o(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter((function(e){return"!stdSerializers.err"!==e}));return!0===e&&Object.keys(t)}(e.browser.serialize,r);let d=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(d=!1);"function"===typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");const f=e.level||"info",g=Object.create(n);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(m,g,"error","log"),a(m,g,"fatal","error"),a(m,g,"warn","error"),a(m,g,"info","log"),a(m,g,"debug","log"),a(m,g,"trace","log")}});const m={transmit:t,serialize:s,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(e)};return g.levels=o.levels,g.level=f,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=r,g._serialize=s,g._stdErrSerialize=d,g.child=function(n,i){if(!n)throw new Error("missing bindings for child Pino");i=i||{},s&&n.serializers&&(i.serializers=n.serializers);const o=i.serializers;if(s&&o){var a=Object.assign({},r,o),h=!0===e.browser.serialize?Object.keys(a):s;delete n.serializers,c([n],h,a,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,n,"error"),this.fatal=l(e,n,"fatal"),this.warn=l(e,n,"warn"),this.info=l(e,n,"info"),this.debug=l(e,n,"debug"),this.trace=l(e,n,"trace"),a&&(this.serializers=a,this._serialize=h),t&&(this._logEvent=u([].concat(e._logEvent.bindings,n)))}return d.prototype=this,new d(this)},t&&(g._logEvent=u()),g}function a(e,t,n,s){const a=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?p:a[n]?a[n]:i[n]||i[s]||p,function(e,t,n){if(!e.transmit&&t[n]===p)return;t[n]=(s=t[n],function(){const a=e.timestamp(),l=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];if(e.serialize&&!e.asObject&&c(l,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?s.call(h,function(e,t,n,i){e._serialize&&c(n,e._serialize,e.serializers,e._stdErrSerialize);const s=n.slice();let a=s[0];const l={};i&&(l.time=i),l.level=o.levels.values[t];let u=1+(0|e._childLevel);if(u<1&&(u=1),null!==a&&"object"===typeof a){for(;u--&&"object"===typeof s[0];)Object.assign(l,s.shift());a=s.length?r(s.shift(),s):void 0}else"string"===typeof a&&(a=r(s.shift(),s));return void 0!==a&&(l.msg=a),l}(this,n,l,a)):s.apply(h,l),e.transmit){const r=e.transmit.level||t.level,i=o.levels.values[r],s=o.levels.values[n];if(s<i)return;!function(e,t,n){const r=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,l=e._logEvent.bindings;c(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter((function(e){return-1===l.indexOf(e)})),e._logEvent.level.label=s,e._logEvent.level.value=o,r(s,e._logEvent,a),e._logEvent=u(l)}(this,{ts:a,methodLevel:n,methodValue:s,transmitLevel:r,transmitValue:o.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},l)}});var s}(e,t,n)}function c(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=o.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i]))for(const r in e[i])t&&t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function l(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function u(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function h(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?g:m}function d(){return{}}function f(e){return e}function p(){}function g(){return!1}function m(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},5746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},5871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(296),t),r.__exportStar(n(568),t)},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function E(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,_();else{var t=r(u);null!==t&&T(E,t.startTime-e)}}var A,S=!1,x=-1,I=5,P=-1;function k(){return!(t.unstable_now()-P<I)}function O(){if(S){var e=t.unstable_now();P=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(x),x=-1),p=!0;var s=f;try{t:{for(w(e),d=r(l);null!==d&&!(d.expirationTime>e&&k());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,w(e),n=!0;break t}d===r(l)&&i(l),w(e)}else i(l);d=r(l)}if(null!==d)n=!0;else{var c=r(u);null!==c&&T(E,c.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?A():S=!1}}}if("function"===typeof v)A=function(){v(O)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,N=C.port2;C.port1.onmessage=O,A=function(){N.postMessage(null)}}else A=function(){y(O,0)};function _(){S||(S=!0,A())}function T(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,_())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(m?(b(x),x=-1):m=!0,T(E,s-o))):(e.sortIndex=a,n(l,e),g||p||(g=!0,_())),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5984:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"===typeof e&&null!==e){var s=n.length+1;if(1===s)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(n[a]);return o.join(" ")}if("string"!==typeof e)return e;var c=n.length;if(0===c)return e;for(var l="",u=0,h=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Number(n[u]),h=f+2,f++;break;case 105:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Math.floor(Number(n[u])),h=f+2,f++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===n[u])break;h<f&&(l+=e.slice(h,f));var p=typeof n[u];if("string"===p){l+="'"+n[u]+"'",h=f+2,f++;break}if("function"===p){l+=n[u].name||"<anonymous>",h=f+2,f++;break}l+=i(n[u]),h=f+2,f++;break;case 115:if(u>=c)break;h<f&&(l+=e.slice(h,f)),l+=String(n[u]),h=f+2,f++;break;case 37:h<f&&(l+=e.slice(h,f)),l+="%",h=f+2,f++,u--}++u}++f}if(-1===h)return e;h<d&&(l+=e.slice(h));return l}},6121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>P,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>x,__importStar:()=>S,__makeTemplateObject:()=>A,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},6373:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(7790).Buffer}catch(I){}function a(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,s=Math.min(e.length,n),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},s.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,o=s%r,a=Math.min(s,s-o)+n,c=0,u=n;u<a;u+=r)c=l(e,u,u+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n.strip()}s.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?u[6-c.length]+c+n:c+n}for(0!==s&&(n=s.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(e);n=(p=p.idivn(f)).isZero()?g+n:u[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return r("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===t,l=new e(s),u=this.clone();if(c){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-i;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(t=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<n.length;o++)s=(t=(0|n.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,s,o=e.words,a=t.words,c=n.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],y=8191&m,b=m>>>13,v=0|o[3],w=8191&v,E=v>>>13,A=0|o[4],S=8191&A,x=A>>>13,I=0|o[5],P=8191&I,k=I>>>13,O=0|o[6],C=8191&O,N=O>>>13,_=0|o[7],T=8191&_,M=_>>>13,R=0|o[8],L=8191&R,B=R>>>13,D=0|o[9],U=8191&D,j=D>>>13,z=0|a[0],F=8191&z,q=z>>>13,H=0|a[1],V=8191&H,$=H>>>13,G=0|a[2],K=8191&G,Q=G>>>13,W=0|a[3],J=8191&W,Y=W>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],he=8191&ue,de=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,F)|0))<<13)|0;l=((s=Math.imul(d,q))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,q))+Math.imul(g,F)|0,s=Math.imul(g,q);var ye=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(d,V)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),i=(i=Math.imul(y,q))+Math.imul(b,F)|0,s=Math.imul(b,q),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,$)|0;var be=(l+(r=r+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(d,K)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),i=(i=Math.imul(w,q))+Math.imul(E,F)|0,s=Math.imul(E,q),r=r+Math.imul(y,V)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,$)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,Q)|0;var ve=(l+(r=r+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,q))+Math.imul(x,F)|0,s=Math.imul(x,q),r=r+Math.imul(w,V)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,$)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,Q)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,J)|0,s=s+Math.imul(g,Y)|0;var we=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(k,F)|0,s=Math.imul(k,q),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,$)|0,r=r+Math.imul(w,K)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,Q)|0,r=r+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,Y)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,ee)|0;var Ee=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(d,ne)|0))<<13)|0;l=((s=s+Math.imul(d,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(C,F),i=(i=Math.imul(C,q))+Math.imul(N,F)|0,s=Math.imul(N,q),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,$)|0,r=r+Math.imul(S,K)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,Q)|0,r=r+Math.imul(w,J)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,Y)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,s=s+Math.imul(g,re)|0;var Ae=(l+(r=r+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(d,se)|0))<<13)|0;l=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(T,F),i=(i=Math.imul(T,q))+Math.imul(M,F)|0,s=Math.imul(M,q),r=r+Math.imul(C,V)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,$)|0,r=r+Math.imul(P,K)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,Q)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(x,J)|0,s=s+Math.imul(x,Y)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(b,ne)|0,s=s+Math.imul(b,re)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var Se=(l+(r=r+Math.imul(h,ce)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((s=s+Math.imul(d,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(L,F),i=(i=Math.imul(L,q))+Math.imul(B,F)|0,s=Math.imul(B,q),r=r+Math.imul(T,V)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,$)|0,r=r+Math.imul(C,K)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Q)|0,r=r+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,Y)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(E,ne)|0,s=s+Math.imul(E,re)|0,r=r+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(U,F),i=(i=Math.imul(U,q))+Math.imul(j,F)|0,s=Math.imul(j,q),r=r+Math.imul(L,V)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,$)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(M,K)|0,s=s+Math.imul(M,Q)|0,r=r+Math.imul(C,J)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,Y)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,s=s+Math.imul(x,re)|0,r=r+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,r=r+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(b,ce)|0,s=s+Math.imul(b,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,de)|0;var Ie=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ge)|0)+Math.imul(d,pe)|0))<<13)|0;l=((s=s+Math.imul(d,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,$))+Math.imul(j,V)|0,s=Math.imul(j,$),r=r+Math.imul(L,K)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,Q)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,Y)|0,r=r+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(k,ne)|0,s=s+Math.imul(k,re)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(x,se)|0,s=s+Math.imul(x,oe)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(E,ce)|0,s=s+Math.imul(E,le)|0,r=r+Math.imul(y,he)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,de)|0;var Pe=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((s=s+Math.imul(g,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(U,K),i=(i=Math.imul(U,Q))+Math.imul(j,K)|0,s=Math.imul(j,Q),r=r+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(B,J)|0,s=s+Math.imul(B,Y)|0,r=r+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(N,ne)|0,s=s+Math.imul(N,re)|0,r=r+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(k,se)|0,s=s+Math.imul(k,oe)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ce)|0,s=s+Math.imul(x,le)|0,r=r+Math.imul(w,he)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(E,he)|0,s=s+Math.imul(E,de)|0;var ke=(l+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;l=((s=s+Math.imul(b,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,J),i=(i=Math.imul(U,Y))+Math.imul(j,J)|0,s=Math.imul(j,Y),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(M,ne)|0,s=s+Math.imul(M,re)|0,r=r+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,r=r+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(k,ce)|0,s=s+Math.imul(k,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(x,he)|0,s=s+Math.imul(x,de)|0;var Oe=(l+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(E,pe)|0))<<13)|0;l=((s=s+Math.imul(E,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(U,X),i=(i=Math.imul(U,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(B,ne)|0,s=s+Math.imul(B,re)|0,r=r+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,r=r+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(N,ce)|0,s=s+Math.imul(N,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(k,he)|0,s=s+Math.imul(k,de)|0;var Ce=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ge)|0)+Math.imul(x,pe)|0))<<13)|0;l=((s=s+Math.imul(x,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(U,ne),i=(i=Math.imul(U,re))+Math.imul(j,ne)|0,s=Math.imul(j,re),r=r+Math.imul(L,se)|0,i=(i=i+Math.imul(L,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,le)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,le)|0,r=r+Math.imul(C,he)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,de)|0;var Ne=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ge)|0)+Math.imul(k,pe)|0))<<13)|0;l=((s=s+Math.imul(k,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(U,se),i=(i=Math.imul(U,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),r=r+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(B,ce)|0,s=s+Math.imul(B,le)|0,r=r+Math.imul(T,he)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(M,he)|0,s=s+Math.imul(M,de)|0;var _e=(l+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ge)|0)+Math.imul(N,pe)|0))<<13)|0;l=((s=s+Math.imul(N,ge)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(U,ce),i=(i=Math.imul(U,le))+Math.imul(j,ce)|0,s=Math.imul(j,le),r=r+Math.imul(L,he)|0,i=(i=i+Math.imul(L,de)|0)+Math.imul(B,he)|0,s=s+Math.imul(B,de)|0;var Te=(l+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ge)|0)+Math.imul(M,pe)|0))<<13)|0;l=((s=s+Math.imul(M,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,he),i=(i=Math.imul(U,de))+Math.imul(j,he)|0,s=Math.imul(j,de);var Me=(l+(r=r+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ge)|0)+Math.imul(B,pe)|0))<<13)|0;l=((s=s+Math.imul(B,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Re=(l+(r=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,ge))+Math.imul(j,pe)|0))<<13)|0;return l=((s=Math.imul(j,ge))+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,c[0]=me,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=Ee,c[6]=Ae,c[7]=Se,c[8]=xe,c[9]=Ie,c[10]=Pe,c[11]=ke,c[12]=Oe,c[13]=Ce,c[14]=Ne,c[15]=_e,c[16]=Te,c[17]=Me,c[18]=Re,0!==l&&(c[19]=l,n.length++),n};function g(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,h=(0|e.words[u])*(0|t.words[l]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n.strip()}(this,e,t):g(this,e,t),n},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=s.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,s){for(var o=0;o<s;o++)r[o]=t[e[o]],i[o]=n[e[o]]},m.prototype.transform=function(e,t,n,r,i,s){this.permute(s,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var h=c,d=l,f=0;f<o;f++){var p=n[u+f],g=r[u+f],m=n[u+f+o],y=r[u+f+o],b=h*m-d*y;y=h*y+d*m,m=b,n[u+f]=p+m,r[u+f]=g+y,n[u+f+o]=p-m,r[u+f+o]=g-y,f!==a&&(b=c*h-l*d,d=c*d+l*h,h=b)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===s),r(0===(-8192&s))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),c=new Array(r),l=new Array(r),u=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,l,r),this.transform(o,s,a,c,r,i),this.transform(l,s,u,h,r,i);for(var f=0;f<r;f++){var p=a[f]*u[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,r),this.transform(a,c,d,s,r,i),this.conjugate(d,s,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[n]=67108863&s}return 0!==t&&(this.words[n]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<n;this.words[t]=c|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=n;if(i-=o,i=Math.max(0,i),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-s|h>>>s,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=r.clone()._ishlnsubmul(i,1,c);0===u.negative&&(r=u,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},s.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),o.isub(c)):(n.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:n.iushln(l)}},s.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;0===(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a)):(n.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new S(e)},s.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(E,b),i(A,b),A.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return y[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new s(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(h,new s(1).iushln(p-m-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=m}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],u=c-1;u>=0;u--){var h=l>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===r&&0===u)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}c=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},6454:(e,t)=>{"use strict";function n(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}},6499:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>f,Fc:()=>u,Id:()=>d,O8:()=>o,qv:()=>c,po:()=>g,Ow:()=>a,ZJ:()=>h,DH:()=>s,ld:()=>p});const r="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=n(8836);function s(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function o(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function a(e,t){return e<<32-t|e>>>t}const c=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function l(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function u(e){for(let t=0;t<e.length;t++)e[t]=l(e[t])}function h(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),(0,i.DO)(e),e}function d(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];(0,i.DO)(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class f{clone(){return this._cloneInto()}}function p(e){const t=t=>e().update(h(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(r&&"function"===typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"===typeof r.randomBytes)return r.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}},6588:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864),s=i.getNAF,o=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var n=e._getDoubles(),r=s(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var o,c,l=[];for(o=0;o<r.length;o+=n.step){c=0;for(var u=o+n.step-1;u>=o;u--)c=(c<<1)+r[u];l.push(c)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<l.length;o++)(c=l[o])===f?d=d.mixedAdd(n.points[o]):c===-f&&(d=d.mixedAdd(n.points[o].neg()));h=h.add(d)}return h.toP()},c.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=s(t,n,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var h=o[l];a(0!==h),c="affine"===e.type?h>0?c.mixedAdd(i[h-1>>1]):c.mixedAdd(i[-h-1>>1].neg()):h>0?c.add(i[h-1>>1]):c.add(i[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,r,i){var a,c,l,u=this._wnafT1,h=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<r;a++){var p=(l=t[a])._getNAFPoints(e);u[a]=p.wnd,h[a]=p.points}for(a=r-1;a>=1;a-=2){var g=a-1,m=a;if(1===u[g]&&1===u[m]){var y=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(y[1]=t[g].add(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].add(t[m].neg())):(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=o(n[g],n[m]);for(f=Math.max(v[0].length,f),d[g]=new Array(f),d[m]=new Array(f),c=0;c<f;c++){var w=0|v[0][c],E=0|v[1][c];d[g][c]=b[3*(w+1)+(E+1)],d[m][c]=0,h[g]=y}}else d[g]=s(n[g],u[g],this._bitLength),d[m]=s(n[m],u[m],this._bitLength),f=Math.max(d[g].length,f),f=Math.max(d[m].length,f)}var A=this.jpoint(null,null,null),S=this._wnafT4;for(a=f;a>=0;a--){for(var x=0;a>=0;){var I=!0;for(c=0;c<r;c++)S[c]=0|d[c][a],0!==S[c]&&(I=!1);if(!I)break;x++,a--}if(a>=0&&x++,A=A.dblp(x),a<0)break;for(c=0;c<r;c++){var P=S[c];0!==P&&(P>0?l=h[c][P-1>>1]:P<0&&(l=h[c][-P-1>>1].neg()),A="affine"===l.type?A.mixedAdd(l):A.add(l))}}for(a=0;a<r;a++)h[a]=null;return i?A:A.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)r=r.dbl();n.push(r)}return{step:e,points:n}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},6613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>P,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>x,__importStar:()=>S,__makeTemplateObject:()=>A,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.0.0"},6697:(e,t,n)=>{"use strict";var r,i=t,s=n(3697),o=n(7849),a=n(6864).assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(9112)}catch(u){r=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},6864:(e,t,n)=>{"use strict";var r=t,i=n(6373),s=n(5482),o=n(9848);r.assert=s,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(e,t,n){var r,i=new Array(Math.max(e.bitLength(),n)+1);for(r=0;r<i.length;r+=1)i[r]=0;var s=1<<t+1,o=e.clone();for(r=0;r<i.length;r++){var a,c=o.andln(s-1);o.isOdd()?(a=c>(s>>1)-1?(s>>1)-c:c,o.isubn(a)):a=0,i[r]=a,o.iushrn(1)}return i},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var o,a,c=e.andln(3)+i&3,l=t.andln(3)+s&3;3===c&&(c=-1),3===l&&(l=-1),o=0===(1&c)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==l?c:-c,n[0].push(o),a=0===(1&l)?0:3!==(r=t.andln(7)+s&7)&&5!==r||2!==c?l:-l,n[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),s=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var c=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function k(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:k(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return k(e(t))}catch(n){}}return null}var O,C,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=Object.assign;function T(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||"",C=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+O+e+C}var M=!1;function R(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split("\n"),l=a.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==l[i]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{M=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?T(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function B(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function D(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function U(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function j(e){if(D(e)!==e)throw Error(o(188))}function z(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=z(e)))return t;e=e.sibling}return null}var F=Array.isArray,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},V=[],$=-1;function G(e){return{current:e}}function K(e){0>$||(e.current=V[$],V[$]=null,$--)}function Q(e,t){$++,V[$]=e.current,e.current=t}var W=G(null),J=G(null),Y=G(null),Z=G(null);function X(e,t){switch(Q(Y,t),Q(J,e),Q(W,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Ju(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Yu(e=Ju(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(W),Q(W,t)}function ee(){K(W),K(J),K(Y)}function te(e){null!==e.memoizedState&&Q(Z,e);var t=W.current,n=Yu(t,e.type);t!==n&&(Q(J,e),Q(W,n))}function ne(e){J.current===e&&(K(W),K(J)),Z.current===e&&(K(Z),Bh._currentValue=H)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,ce=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,be=null;function ve(e){if("function"===typeof ge&&me(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ee(e)/Ae|0)|0},Ee=Math.log,Ae=Math.LN2;var Se=128,xe=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~i)?r=Ie(n):0!==(s&=a)?r=Ie(s):e||0!==(o=a&~o)&&(r=Ie(o)):0!==(a=n&~i)?r=Ie(a):0!==s?r=Ie(s):e||0!==(o=n&~o)&&(r=Ie(o)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||32===i&&0!==(4194176&o))?t:r}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Oe(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Ne(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=q.p;return 0!==e?e:void 0===(e=window.event)?32:Yh(e.type)}var De=Math.random().toString(36).slice(2),Ue="__reactFiber$"+De,je="__reactProps$"+De,ze="__reactContainer$"+De,Fe="__reactEvents$"+De,qe="__reactListeners$"+De,He="__reactHandles$"+De,Ve="__reactResources$"+De,$e="__reactMarker$"+De;function Ge(e){delete e[Ue],delete e[je],delete e[Fe],delete e[qe],delete e[He]}function Ke(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ch(e);null!==e;){if(n=e[Ue])return n;e=ch(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ue]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Je(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[$e]=!0}var Ze=new Set,Xe={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Xe[e]=t,e=0;e<t.length;e++)Ze.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function ot(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,lt(t)):null!=n?bt(e,o,lt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+lt(a):e.removeAttribute("name")}function yt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(F(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function At(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&xt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&xt(e,s,t[s])}function Pt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function _t(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Mt=null;function Rt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(o(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&vt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Bt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Tt||null!==Mt)&&(Ul(),Tt&&(t=Tt,e=Mt,Mt=Tt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ut=!1;if(nt)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(Ed){Ut=!1}var zt=null,Ft=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Ft,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Gt,this.isPropagationStopped=Gt,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Qt,Wt,Jt,Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Yt),Xt=_({},Yt,{view:0,detail:0}),en=Kt(Xt),tn=_({},Xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Wt=e.screenY-Jt.screenY):Wt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Wt}}),nn=Kt(tn),rn=Kt(_({},tn,{dataTransfer:0})),sn=Kt(_({},Xt,{relatedTarget:0})),on=Kt(_({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0})),an=Kt(_({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(_({},Yt,{data:0})),ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return dn}var pn=Kt(_({},Xt,{key:function(e){if(e.key){var t=ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(_({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Kt(_({},Xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Kt(_({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(_({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Kt(_({},Yt,{newState:0,oldState:0})),wn=[9,13,27,32],En=nt&&"CompositionEvent"in window,An=null;nt&&"documentMode"in document&&(An=document.documentMode);var Sn=nt&&"TextEvent"in window&&!An,xn=nt&&(!En||An&&8<An&&11>=An),In=String.fromCharCode(32),Pn=!1;function kn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Tn(e,t,n,r){Tt?Mt?Mt.push(r):Mt=[r]:Tt=r,0<(t=Bu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Rn=null;function Ln(e){Ou(e,0)}function Bn(e){if(dt(We(e)))return e}function Dn(e,t){if("change"===e)return t}var Un=!1;if(nt){var jn;if(nt){var zn="oninput"in document;if(!zn){var Fn=document.createElement("div");Fn.setAttribute("oninput","return;"),zn="function"===typeof Fn.oninput}jn=zn}else jn=!1;Un=jn&&(!document.documentMode||9<document.documentMode)}function qn(){Mn&&(Mn.detachEvent("onpropertychange",Hn),Rn=Mn=null)}function Hn(e){if("value"===e.propertyName&&Bn(Rn)){var t=[];Tn(t,Rn,e,_t(e)),Bt(Ln,t)}}function Vn(e,t,n){"focusin"===e?(qn(),Rn=n,(Mn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Rn)}function Gn(e,t){if("click"===e)return Bn(t)}function Kn(e,t){if("input"===e||"change"===e)return Bn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Wn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Xn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Xn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Zn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Yn(t,s);var o=Yn(t,r);i&&o&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,or=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Wn(sr,r)||(sr=r,0<(r=Bu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!lr[e])return e;var t,n=lr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}nt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),gr=dr("animationstart"),mr=dr("transitionrun"),yr=dr("transitionstart"),br=dr("transitioncancel"),vr=dr("transitionend"),wr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ar(e,t){wr.set(e,t),et(t,[e])}var Sr=[],xr=0,Ir=0;function Pr(){for(var e=xr,t=Ir=xr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var i=Sr[t];Sr[t++]=null;var s=Sr[t];if(Sr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Nr(n,i,s)}}function kr(e,t,n,r){Sr[xr++]=e,Sr[xr++]=t,Sr[xr++]=n,Sr[xr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return kr(e,t,n,r),_r(e)}function Cr(e,t){return kr(e,null,null,t),_r(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-we(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function _r(e){if(50<Ol)throw Ol=0,Cl=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Tr={},Mr=new WeakMap;function Rr(e,t){if("object"===typeof e&&null!==e){var n=Mr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:B(t)},Mr.set(e,t),t)}return{value:e,source:t,stack:B(t)}}var Lr=[],Br=0,Dr=null,Ur=0,jr=[],zr=0,Fr=null,qr=1,Hr="";function Vr(e,t){Lr[Br++]=Ur,Lr[Br++]=Dr,Dr=e,Ur=t}function $r(e,t,n){jr[zr++]=qr,jr[zr++]=Hr,jr[zr++]=Fr,Fr=e;var r=qr;e=Hr;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qr=1<<32-we(t)+i|n<<i|r,Hr=s+e}else qr=1<<s|n<<i|r,Hr=e}function Gr(e){null!==e.return&&(Vr(e,1),$r(e,1,0))}function Kr(e){for(;e===Dr;)Dr=Lr[--Br],Lr[Br]=null,Ur=Lr[--Br],Lr[Br]=null;for(;e===Fr;)Fr=jr[--zr],jr[zr]=null,Hr=jr[--zr],jr[zr]=null,qr=jr[--zr],jr[zr]=null}var Qr=null,Wr=null,Jr=!1,Yr=null,Zr=!1,Xr=Error(o(519));function ei(e){throw si(Rr(Error(o(418,"")),e)),Xr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[je]=r,n){case"dialog":Cu("cancel",t),Cu("close",t);break;case"iframe":case"object":case"embed":Cu("load",t);break;case"video":case"audio":for(n=0;n<Pu.length;n++)Cu(Pu[n],t);break;case"source":Cu("error",t);break;case"img":case"image":case"link":Cu("error",t),Cu("load",t);break;case"details":Cu("toggle",t);break;case"input":Cu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Cu("invalid",t);break;case"textarea":Cu("invalid",t),Et(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||qu(t.textContent,n)?(null!=r.popover&&(Cu("beforetoggle",t),Cu("toggle",t)),null!=r.onScroll&&Cu("scroll",t),null!=r.onScrollEnd&&Cu("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||ei(e)}function ni(e){for(Qr=e.return;Qr;)switch(Qr.tag){case 3:case 27:return void(Zr=!0);case 5:case 13:return void(Zr=!1);default:Qr=Qr.return}}function ri(e){if(e!==Qr)return!1;if(!Jr)return ni(e),Jr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Wr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Wr=ah(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Wr=null}}else Wr=Qr?ah(e.stateNode.nextSibling):null;return!0}function ii(){Wr=Qr=null,Jr=!1}function si(e){null===Yr?Yr=[e]:Yr.push(e)}var oi=Error(o(460)),ai=Error(o(474)),ci={then:function(){}};function li(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function hi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oi)throw Error(o(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oi)throw Error(o(483));throw e}throw di=t,oi}}var di=null;function fi(){if(null===di)throw Error(o(459));var e=di;return di=null,e}var pi=null,gi=0;function mi(e){var t=gi;return gi+=1,null===pi&&(pi=[]),hi(pi,e,t)}function yi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bi(e,t){if(t.$$typeof===c)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var s=n.type;return s===h?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&vi(s)===t.type)?(yi(t=i(t,n.props),n),t.return=e,t):(yi(t=jc(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=zc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return yi(n=jc(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Hc(t,e.mode,n)).return=e,t;case E:return g(e,t=(0,t._init)(t._payload),n)}if(F(t)||I(t))return(t=zc(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return g(e,mi(t),n);if(t.$$typeof===m)return g(e,Pa(e,t),n);bi(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?d(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case E:return y(e,t,n=(i=n._init)(n._payload),r)}if(F(n)||I(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,mi(n),r);if(n.$$typeof===m)return y(e,t,Pa(e,n),r);bi(e,n)}return null}function b(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return b(e,t,n,r=(0,r._init)(r._payload),i)}if(F(r)||I(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return b(e,t,n,mi(r),i);if(r.$$typeof===m)return b(e,t,n,Pa(t,r),i);bi(t,r)}return null}function v(c,d,f,p){if("object"===typeof f&&null!==f&&f.type===h&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case l:e:{for(var w=f.key;null!==d;){if(d.key===w){if((w=f.type)===h){if(7===d.tag){n(c,d.sibling),(p=i(d,f.props.children)).return=c,c=p;break e}}else if(d.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===E&&vi(w)===d.type){n(c,d.sibling),yi(p=i(d,f.props),f),p.return=c,c=p;break e}n(c,d);break}t(c,d),d=d.sibling}f.type===h?((p=zc(f.props.children,c.mode,p,f.key)).return=c,c=p):(yi(p=jc(f.type,f.key,f.props,null,c.mode,p),f),p.return=c,c=p)}return a(c);case u:e:{for(w=f.key;null!==d;){if(d.key===w){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(c,d.sibling),(p=i(d,f.children||[])).return=c,c=p;break e}n(c,d);break}t(c,d),d=d.sibling}(p=Hc(f,c.mode,p)).return=c,c=p}return a(c);case E:return v(c,d,f=(w=f._init)(f._payload),p)}if(F(f))return function(i,o,a,c){for(var l=null,u=null,h=o,d=o=0,f=null;null!==h&&d<a.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=y(i,h,a[d],c);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),o=s(p,o,d),null===u?l=p:u.sibling=p,u=p,h=f}if(d===a.length)return n(i,h),Jr&&Vr(i,d),l;if(null===h){for(;d<a.length;d++)null!==(h=g(i,a[d],c))&&(o=s(h,o,d),null===u?l=h:u.sibling=h,u=h);return Jr&&Vr(i,d),l}for(h=r(h);d<a.length;d++)null!==(f=b(h,i,d,a[d],c))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),o=s(f,o,d),null===u?l=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(i,e)})),Jr&&Vr(i,d),l}(c,d,f,p);if(I(f)){if("function"!==typeof(w=I(f)))throw Error(o(150));return function(i,a,c,l){if(null==c)throw Error(o(151));for(var u=null,h=null,d=a,f=a=0,p=null,m=c.next();null!==d&&!m.done;f++,m=c.next()){d.index>f?(p=d,d=null):p=d.sibling;var v=y(i,d,m.value,l);if(null===v){null===d&&(d=p);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,f),null===h?u=v:h.sibling=v,h=v,d=p}if(m.done)return n(i,d),Jr&&Vr(i,f),u;if(null===d){for(;!m.done;f++,m=c.next())null!==(m=g(i,m.value,l))&&(a=s(m,a,f),null===h?u=m:h.sibling=m,h=m);return Jr&&Vr(i,f),u}for(d=r(d);!m.done;f++,m=c.next())null!==(m=b(d,i,f,m.value,l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),a=s(m,a,f),null===h?u=m:h.sibling=m,h=m);return e&&d.forEach((function(e){return t(i,e)})),Jr&&Vr(i,f),u}(c,d,f=w.call(f),p)}if("function"===typeof f.then)return v(c,d,mi(f),p);if(f.$$typeof===m)return v(c,d,Pa(c,f),p);bi(c,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==d&&6===d.tag?(n(c,d.sibling),(p=i(d,f)).return=c,c=p):(n(c,d),(p=qc(f,c.mode,p)).return=c,c=p),a(c)):n(c,d)}return function(e,t,n,r){try{gi=0;var i=v(e,t,n,r);return pi=null,i}catch(o){if(o===oi)throw o;var s=Lc(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var Ei=wi(!0),Ai=wi(!1),Si=G(null),xi=G(0);function Ii(e,t){Q(xi,e=ll),Q(Si,t),ll=e|t.baseLanes}function Pi(){Q(xi,ll),Q(Si,Si.current)}function ki(){ll=xi.current,K(Si),K(xi)}var Oi=G(null),Ci=null;function Ni(e){var t=e.alternate;Q(Ri,1&Ri.current),Q(Oi,e),null===Ci&&(null===t||null!==Si.current||null!==t.memoizedState)&&(Ci=e)}function _i(e){if(22===e.tag){if(Q(Ri,Ri.current),Q(Oi,e),null===Ci){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ci=e)}}else Ti()}function Ti(){Q(Ri,Ri.current),Q(Oi,Oi.current)}function Mi(e){K(Oi),Ci===e&&(Ci=null),K(Ri)}var Ri=G(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Di=r.unstable_scheduleCallback,Ui=r.unstable_NormalPriority,ji={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Bi,data:new Map,refCount:0}}function Fi(e){e.refCount--,0===e.refCount&&Di(Ui,(function(){e.controller.abort()}))}var qi=null,Hi=0,Vi=0,$i=null;function Gi(){if(0===--Hi&&null!==qi){null!==$i&&($i.status="fulfilled");var e=qi;qi=null,Vi=0,$i=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=N.S;N.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qi){var n=qi=[];Hi=0,Vi=Eu(),$i={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Gi,Gi)}(0,t),null!==Ki&&Ki(e,t)};var Qi=G(null);function Wi(){var e=Qi.current;return null!==e?e:tl.pooledCache}function Ji(e,t){Q(Qi,null===t?Qi.current:t.pool)}function Yi(){var e=Wi();return null===e?null:{parent:ji._currentValue,pool:e}}var Zi=0,Xi=null,es=null,ts=null,ns=!1,rs=!1,is=!1,ss=0,os=0,as=null,cs=0;function ls(){throw Error(o(321))}function us(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function hs(e,t,n,r,i,s){return Zi=s,Xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Po:ko,is=!1,s=n(r,i),is=!1,rs&&(s=fs(t,n,r,i)),ds(e),s}function ds(e){N.H=Io;var t=null!==es&&null!==es.next;if(Zi=0,ts=es=Xi=null,ns=!1,os=0,as=null,t)throw Error(o(300));null===e||Vo||null!==(e=e.dependencies)&&Sa(e)&&(Vo=!0)}function fs(e,t,n,r){Xi=e;var i=0;do{if(rs&&(as=null),os=0,rs=!1,25<=i)throw Error(o(301));if(i+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}N.H=Oo,s=t(n,r)}while(rs);return s}function ps(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?ws(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Xi.flags|=1024),t}function gs(){var e=0!==ss;return ss=0,e}function ms(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ys(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Zi=0,ts=es=Xi=null,rs=!1,os=ss=0,as=null}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Xi.memoizedState=ts=e:ts=ts.next=e,ts}function vs(){if(null===es){var e=Xi.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Xi.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Xi.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Xi.memoizedState=ts=e:ts=ts.next=e}return ts}function ws(e){var t=os;return os+=1,null===as&&(as=[]),e=hi(as,e,t),t=Xi,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Po:ko),e}function Es(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ws(e);if(e.$$typeof===m)return Ia(e)}throw Error(o(438,String(e)))}function As(e){var t=null,n=Xi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Xi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Xi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ss(e,t){return"function"===typeof t?t(e):t}function xs(e){return Is(vs(),es,e)}function Is(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var c=a=null,l=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(rl&d)===d:(Zi&d)===d){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Vi&&(h=!0);else{if((Zi&f)===f){u=u.next,f===Vi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=d,a=s):l=l.next=d,Xi.lanes|=f,hl|=f}d=u.action,is&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,a=s):l=l.next=f,Xi.lanes|=d,hl|=d;u=u.next}while(null!==u&&u!==t);if(null===l?a=s:l.next=c,!Qn(s,e.memoizedState)&&(Vo=!0,h&&null!==(n=$i)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ps(e){var t=vs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Qn(s,t.memoizedState)||(Vo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(e,t,n){var r=Xi,i=vs(),s=Jr;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Qn((es||i).memoizedState,n);if(a&&(i.memoizedState=n,Vo=!0),i=i.queue,Zs(Ns.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Ks(9,Cs.bind(null,r,i,n,t),{destroy:void 0},null),null===tl)throw Error(o(349));s||0!==(60&Zi)||Os(r,t,n)}return n}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Xi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,_s(t)&&Ts(e)}function Ns(e,t,n){return n((function(){_s(t)&&Ts(e)}))}function _s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ts(e){var t=Cr(e,2);null!==t&&Tl(t,e,2)}function Ms(e){var t=bs();if("function"===typeof e){var n=e;if(e=n(),is){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t}function Rs(e,t,n,r){return e.baseState=n,Is(e,es,"function"===typeof r?r:Ss)}function Ls(e,t,n,r,i){if(Ao(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==N.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Bs(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Bs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=N.T,o={};N.T=o;try{var a=n(i,r),c=N.S;null!==c&&c(o,a),Ds(e,t,a)}catch(l){js(e,t,l)}finally{N.T=s}}else try{Ds(e,t,s=n(i,r))}catch(u){js(e,t,u)}}function Ds(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Us(e,t,n)}),(function(n){return js(e,t,n)})):Us(e,t,n)}function Us(e,t,n){t.status="fulfilled",t.value=n,zs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Bs(e,n)))}function js(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,zs(t),t=t.next}while(t!==r)}e.action=null}function zs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fs(e,t){return t}function qs(e,t){if(Jr){var n=tl.formState;if(null!==n){e:{var r=Xi;if(Jr){if(Wr){t:{for(var i=Wr,s=Zr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=ah(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Wr=ah(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=bs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:t},n.queue=r,n=vo.bind(null,Xi,r),r.dispatch=n,r=Ms(!1),s=Eo.bind(null,Xi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=bs()).queue=i,n=Ls.bind(null,Xi,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Hs(e){return Vs(vs(),es,e)}function Vs(e,t,n){t=Is(e,t,Fs)[0],e=xs(Ss)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ws(t):t;var r=vs(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Xi.flags|=2048,Ks(9,$s.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function $s(e,t){e.action=t}function Gs(e){var t=vs(),n=es;if(null!==n)return Vs(t,n,e);vs(),t=t.memoizedState;var r=(n=vs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ks(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Xi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Xi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qs(){return vs().memoizedState}function Ws(e,t,n,r){var i=bs();Xi.flags|=e,i.memoizedState=Ks(1|t,n,{destroy:void 0},void 0===r?null:r)}function Js(e,t,n,r){var i=vs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==es&&null!==r&&us(r,es.memoizedState.deps)?i.memoizedState=Ks(t,n,s,r):(Xi.flags|=e,i.memoizedState=Ks(1|t,n,s,r))}function Ys(e,t){Ws(8390656,8,e,t)}function Zs(e,t){Js(2048,8,e,t)}function Xs(e,t){return Js(4,2,e,t)}function eo(e,t){return Js(4,4,e,t)}function to(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function no(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Js(4,4,to.bind(null,t,e),n)}function ro(){}function io(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&us(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function so(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&us(t,r[1]))return r[0];if(r=e(),is){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function oo(e,t,n){return void 0===n||0!==(1073741824&Zi)?e.memoizedState=t:(e.memoizedState=n,e=_l(),Xi.lanes|=e,hl|=e,n)}function ao(e,t,n,r){return Qn(n,t)?n:null!==Si.current?(e=oo(e,n,r),Qn(e,t)||(Vo=!0),e):0===(42&Zi)?(Vo=!0,e.memoizedState=n):(e=_l(),Xi.lanes|=e,hl|=e,t)}function co(e,t,n,r,i){var s=q.p;q.p=0!==s&&8>s?s:8;var o=N.T,a={};N.T=a,Eo(e,!1,t,n);try{var c=i(),l=N.S;if(null!==l&&l(a,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)wo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(c,r),Nl());else wo(e,t,r,Nl())}catch(u){wo(e,t,{then:function(){},status:"rejected",reason:u},Nl())}finally{q.p=s,N.T=o}}function lo(){}function uo(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ho(e).queue;co(e,i,t,H,null===n?lo:function(){return fo(e),n(r)})}function ho(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:H},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fo(e){wo(e,ho(e).next.queue,{},Nl())}function po(){return Ia(Bh)}function go(){return vs().memoizedState}function mo(){return vs().memoizedState}function yo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nl(),r=Ta(t,e=_a(n),n);return null!==r&&(Tl(r,t,n),Ma(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function bo(e,t,n){var r=Nl();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ao(e)?So(t,n):null!==(n=Or(e,t,n,r))&&(Tl(n,e,r),xo(n,t,r))}function vo(e,t,n){wo(e,t,n,Nl())}function wo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ao(e))So(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,o))return kr(e,t,i,0),null===tl&&Pr(),!1}catch(c){}if(null!==(n=Or(e,t,i,r)))return Tl(n,e,r),xo(n,t,r),!0}return!1}function Eo(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ao(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&Tl(t,e,2)}function Ao(e){var t=e.alternate;return e===Xi||null!==t&&t===Xi}function So(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xo(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var Io={readContext:Ia,use:Es,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useLayoutEffect:ls,useInsertionEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useSyncExternalStore:ls,useId:ls};Io.useCacheRefresh=ls,Io.useMemoCache=ls,Io.useHostTransitionStatus=ls,Io.useFormState=ls,Io.useActionState=ls,Io.useOptimistic=ls;var Po={readContext:Ia,use:Es,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4194308,4,to.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){Ws(4,2,e,t)},useMemo:function(e,t){var n=bs();t=void 0===t?null:t;var r=e();if(is){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bs();if(void 0!==n){var i=n(t);if(is){ve(!0);try{n(t)}finally{ve(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=bo.bind(null,Xi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:function(e){var t=(e=Ms(e)).queue,n=vo.bind(null,Xi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ro,useDeferredValue:function(e,t){return oo(bs(),e,t)},useTransition:function(){var e=Ms(!1);return e=co.bind(null,Xi,e.queue,!0,!1),bs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Xi,i=bs();if(Jr){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===tl)throw Error(o(349));0!==(60&rl)||Os(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ys(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ks(9,Cs.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=bs(),t=tl.identifierPrefix;if(Jr){var n=Hr;t=":"+t+"R"+(n=(qr&~(1<<32-we(qr)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=cs++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bs().memoizedState=yo.bind(null,Xi)}};Po.useMemoCache=As,Po.useHostTransitionStatus=po,Po.useFormState=qs,Po.useActionState=qs,Po.useOptimistic=function(e){var t=bs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Eo.bind(null,Xi,!0,n),n.dispatch=t,[e,t]};var ko={readContext:Ia,use:Es,useCallback:io,useContext:Ia,useEffect:Zs,useImperativeHandle:no,useInsertionEffect:Xs,useLayoutEffect:eo,useMemo:so,useReducer:xs,useRef:Qs,useState:function(){return xs(Ss)},useDebugValue:ro,useDeferredValue:function(e,t){return ao(vs(),es.memoizedState,e,t)},useTransition:function(){var e=xs(Ss)[0],t=vs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:ks,useId:go};ko.useCacheRefresh=mo,ko.useMemoCache=As,ko.useHostTransitionStatus=po,ko.useFormState=Hs,ko.useActionState=Hs,ko.useOptimistic=function(e,t){return Rs(vs(),0,e,t)};var Oo={readContext:Ia,use:Es,useCallback:io,useContext:Ia,useEffect:Zs,useImperativeHandle:no,useInsertionEffect:Xs,useLayoutEffect:eo,useMemo:so,useReducer:Ps,useRef:Qs,useState:function(){return Ps(Ss)},useDebugValue:ro,useDeferredValue:function(e,t){var n=vs();return null===es?oo(n,e,t):ao(n,es.memoizedState,e,t)},useTransition:function(){var e=Ps(Ss)[0],t=vs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:ks,useId:go};function Co(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:_({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Oo.useCacheRefresh=mo,Oo.useMemoCache=As,Oo.useHostTransitionStatus=po,Oo.useFormState=Gs,Oo.useActionState=Gs,Oo.useOptimistic=function(e,t){var n=vs();return null!==es?Rs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var No={isMounted:function(e){return!!(e=e._reactInternals)&&D(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nl(),i=_a(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ta(e,i,r))&&(Tl(t,e,r),Ma(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nl(),i=_a(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ta(e,i,r))&&(Tl(t,e,r),Ma(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nl(),r=_a(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ta(e,r,n))&&(Tl(t,e,n),Ma(t,e,n))}};function _o(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Wn(n,r)||!Wn(i,s))}function To(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function Mo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=_({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Ro="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Lo(e){Ro(e)}function Bo(e){console.error(e)}function Do(e){Ro(e)}function Uo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function zo(e,t,n){return(n=_a(n)).tag=3,n.payload={element:null},n.callback=function(){Uo(e,t)},n}function Fo(e){return(e=_a(e)).tag=3,e}function qo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){jo(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){jo(t,n,r),"function"!==typeof i&&(null===Al?Al=new Set([this]):Al.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ho=Error(o(461)),Vo=!1;function $o(e,t,n,r){t.child=null===e?Ai(t,null,n,r):Ei(t,e.child,n,r)}function Go(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return xa(t),r=hs(e,t,n,o,s,i),a=gs(),null===e||Vo?(Jr&&a&&Gr(t),t.flags|=1,$o(e,t,r,i),t.child):(ms(e,t,i),da(e,t,i))}function Ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Qo(e,t,s,r,i))}if(s=e.child,!fa(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Wn)(o,r)&&e.ref===t.ref)return da(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Qo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Wn(s,r)&&e.ref===t.ref){if(Vo=!1,t.pendingProps=r=s,!fa(e,i))return t.lanes=e.lanes,da(e,t,i);0!==(131072&e.flags)&&(Vo=!0)}}return Zo(e,t,n,r,i)}function Wo(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(Yo(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Jo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Jo(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==o?o.cachePool:null),null!==o?Ii(t,o):Pi(),_i(t)}else null!==o?(Ji(0,o.cachePool),Ii(t,o),Ti(),t.memoizedState=null):(null!==e&&Ji(0,null),Pi(),Ti());return $o(e,t,i,n),t.child}function Jo(e,t,n,r){var i=Wi();return i=null===i?null:{parent:ji._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ji(0,null),Pi(),_i(t),null!==e&&Aa(e,t,r,!0),null}function Yo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Zo(e,t,n,r,i){return xa(t),n=hs(e,t,n,r,void 0,i),r=gs(),null===e||Vo?(Jr&&r&&Gr(t),t.flags|=1,$o(e,t,n,i),t.child):(ms(e,t,i),da(e,t,i))}function Xo(e,t,n,r,i,s){return xa(t),t.updateQueue=null,n=fs(t,r,n,i),ds(e),r=gs(),null===e||Vo?(Jr&&r&&Gr(t),t.flags|=1,$o(e,t,n,s),t.child):(ms(e,t,s),da(e,t,s))}function ea(e,t,n,r,i){if(xa(t),null===t.stateNode){var s=Tr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ia(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=No,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Ca(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ia(o):Tr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(Co(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&No.enqueueReplaceState(s,s.state,null),Da(t,r,s,i),Ba(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,c=Mo(n,a);s.props=c;var l=s.context,u=n.contextType;o=Tr,"object"===typeof u&&null!==u&&(o=Ia(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||l!==o)&&To(t,s,r,o),Oa=!1;var d=t.memoizedState;s.state=d,Da(t,r,s,i),Ba(),l=t.memoizedState,a||d!==l||Oa?("function"===typeof h&&(Co(t,n,h,r),l=t.memoizedState),(c=Oa||_o(t,n,c,r,d,l,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=o,r=c):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Na(e,t),u=Mo(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,l=n.contextType,c=Tr,"object"===typeof l&&null!==l&&(c=Ia(l)),(l="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==c)&&To(t,s,r,c),Oa=!1,d=t.memoizedState,s.state=d,Da(t,r,s,i),Ba();var f=t.memoizedState;o!==h||d!==f||Oa||null!==e&&null!==e.dependencies&&Sa(e.dependencies)?("function"===typeof a&&(Co(t,n,a,r),f=t.memoizedState),(u=Oa||_o(t,n,u,r,d,f,c)||null!==e&&null!==e.dependencies&&Sa(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Yo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,n,i)):$o(e,t,n,i),t.memoizedState=s.state,e=t.child):e=da(e,t,i),e}function ta(e,t,n,r){return ii(),t.flags|=256,$o(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:Yi()}}function ia(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pl),e}function sa(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ri.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Jr){if(s?Ni(t):Ti(),Jr){var c,l=Wr;if(c=l){e:{for(c=l,l=Zr;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=ah(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Fr?{id:qr,overflow:Hr}:null,retryLane:536870912},(c=Lc(18,null,null,0)).stateNode=l,c.return=t,t.child=c,Qr=t,Wr=null,c=!0):c=!1}c||ei(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return"$!"===l.data?t.lanes=16:t.lanes=536870912,null;Mi(t)}return l=i.children,i=i.fallback,s?(Ti(),l=aa({mode:"hidden",children:l},s=t.mode),i=zc(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(s=t.child).memoizedState=ra(n),s.childLanes=ia(e,r,n),t.memoizedState=na,i):(Ni(t),oa(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Ni(t),t.flags&=-257,t=ca(e,t,n)):null!==t.memoizedState?(Ti(),t.child=e.child,t.flags|=128,t=null):(Ti(),s=i.fallback,l=t.mode,i=aa({mode:"visible",children:i.children},l),(s=zc(s,l,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,Ei(t,e.child,null,n),(i=t.child).memoizedState=ra(n),i.childLanes=ia(e,r,n),t.memoizedState=na,t=s);else if(Ni(t),"$!"===l.data){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=ca(e,t,n)}else if(Vo||Aa(e,t,n,!1),r=0!==(n&e.childLanes),Vo||r){if(null!==(r=tl)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==c.retryLane)throw c.retryLane=i,Cr(e,i),Tl(r,e,i),Ho}"$?"===l.data||Vl(),t=ca(e,t,n)}else"$?"===l.data?(t.flags|=128,t.child=e.child,t=au.bind(null,e),l._reactRetry=t,t=null):(e=c.treeContext,Wr=ah(l.nextSibling),Qr=t,Jr=!0,Yr=null,Zr=!1,null!==e&&(jr[zr++]=qr,jr[zr++]=Hr,jr[zr++]=Fr,qr=e.id,Hr=e.overflow,Fr=t),(t=oa(t,i.children)).flags|=4096);return t}return s?(Ti(),s=i.fallback,l=t.mode,u=(c=e.child).sibling,(i=Dc(c,{mode:"hidden",children:i.children})).subtreeFlags=31457280&c.subtreeFlags,null!==u?s=Dc(u,s):(s=zc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(l=e.child.memoizedState)?l=ra(n):(null!==(c=l.cachePool)?(u=ji._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Yi(),l={baseLanes:l.baseLanes|n,cachePool:c}),s.memoizedState=l,s.childLanes=ia(e,r,n),t.memoizedState=na,i):(Ni(t),e=(n=e.child).sibling,(n=Dc(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function oa(e,t){return(t=aa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function aa(e,t){return Fc(e,t,0,null)}function ca(e,t,n){return Ei(t,e.child,null,n),(e=oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function la(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function ua(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if($o(e,t,r.children,n),0!==(2&(r=Ri.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&la(e,n,t);else if(19===e.tag)la(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Q(Ri,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ua(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Li(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ua(t,!0,n,null,s);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Aa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sa(e))}function pa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Vo=!0;else{if(!fa(e,n)&&0===(128&t.flags))return Vo=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),ba(t,ji,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:ba(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ni(t),t.flags|=128,null):0!==(n&t.child.childLanes)?sa(e,t,n):(Ni(t),null!==(e=da(e,t,n))?e.sibling:null);Ni(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Aa(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(Ri,Ri.current),r)break;return null;case 22:case 23:return t.lanes=0,Wo(e,t,n);case 24:ba(t,ji,e.memoizedState.cache)}return da(e,t,n)}(e,t,n);Vo=0!==(131072&e.flags)}else Vo=!1,Jr&&0!==(1048576&t.flags)&&$r(t,Ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){t.tag=11,t=Go(null,t,r,e,n);break e}if(i===w){t.tag=14,t=Ko(null,t,r,e,n);break e}}throw t=k(r)||r,Error(o(306,t,""))}Bc(r)?(e=Mo(r,e),t.tag=1,t=ea(null,t,r,e,n)):(t.tag=0,t=Zo(null,t,r,e,n))}return t;case 0:return Zo(e,t,t.type,t.pendingProps,n);case 1:return ea(e,t,r=t.type,i=Mo(r,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(o(387));var s=t.pendingProps;r=(i=t.memoizedState).element,Na(e,t),Da(t,s,null,n);var a=t.memoizedState;if(s=a.cache,ba(t,ji,s),s!==i.cache&&Ea(t,[ji],n,!0),Ba(),s=a.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ta(e,t,s,n);break e}if(s!==r){si(r=Rr(Error(o(424)),t)),t=ta(e,t,s,n);break e}for(Wr=ah(t.stateNode.containerInfo.firstChild),Qr=t,Jr=!0,Yr=null,Zr=!0,n=Ai(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=da(e,t,n);break e}$o(e,t,s,n)}t=t.child}return t;case 26:return Yo(e,t),null===e?(n=mh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Jr||(n=t.type,e=t.pendingProps,(r=Wu(Y.current).createElement(n))[Ue]=t,r[je]=e,Gu(r,n,e),Ye(r),t.stateNode=r):t.memoizedState=mh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Jr&&(r=t.stateNode=lh(t.type,t.pendingProps,Y.current),Qr=t,Zr=!0,Wr=ah(r.firstChild)),r=t.pendingProps.children,null!==e||Jr?$o(e,t,r,n):t.child=Ei(t,null,r,n),Yo(e,t),t.child;case 5:return null===e&&Jr&&((i=r=Wr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=ah(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Zr))?(t.stateNode=r,Qr=t,Wr=ah(r.firstChild),Zr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,Zu(i,s)?r=null:null!==a&&Zu(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=hs(e,t,ps,null,null,n),Bh._currentValue=i),Yo(e,t),$o(e,t,r,n),t.child;case 6:return null===e&&Jr&&((e=n=Wr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ah(e.nextSibling)))return null}return e}(n,t.pendingProps,Zr))?(t.stateNode=n,Qr=t,Wr=null,e=!0):e=!1),e||ei(t)),null;case 13:return sa(e,t,n);case 4:return X(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ei(t,null,r,n):$o(e,t,r,n),t.child;case 11:return Go(e,t,t.type,t.pendingProps,n);case 7:return $o(e,t,t.pendingProps,n),t.child;case 8:case 12:return $o(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(t,t.type,r.value),$o(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,xa(t),r=r(i=Ia(i)),t.flags|=1,$o(e,t,r,n),t.child;case 14:return Ko(e,t,t.type,t.pendingProps,n);case 15:return Qo(e,t,t.type,t.pendingProps,n);case 19:return ha(e,t,n);case 22:return Wo(e,t,n);case 24:return xa(t),r=Ia(ji),null===e?(null===(i=Wi())&&(i=tl,s=zi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Ca(t),ba(t,ji,i)):(0!==(e.lanes&n)&&(Na(e,t),Da(t,null,null,n),Ba()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ba(t,ji,r)):(r=s.cache,ba(t,ji,r),r!==i.cache&&Ea(t,[ji],n,!0))),$o(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var ga=G(null),ma=null,ya=null;function ba(e,t,n){Q(ga,t._currentValue),t._currentValue=n}function va(e){e._currentValue=ga.current,K(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),wa(s.return,n,e),r||(a=null);break e}s=c.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),wa(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Aa(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var c=i.type;Qn(i.pendingProps.value,a.value)||(null!==e?e.push(c):e=[c])}}else if(i===Z.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Bh):e=[Bh])}i=i.return}null!==e&&Ea(t,e,n,r),t.flags|=262144}function Sa(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xa(e){ma=e,ya=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ia(e){return ka(ma,e)}function Pa(e,t){return null===ma&&xa(e),ka(e,t)}function ka(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ya){if(null===e)throw Error(o(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return n}var Oa=!1;function Ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&el)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=_r(e),Nr(e,null,n),t}return kr(e,r,t,n),_r(e)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var La=!1;function Ba(){if(La){if(null!==$i)throw $i}}function Da(e,t,n,r){La=!1;var i=e.updateQueue;Oa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var d=-536870913&a.lane,f=d!==a.lane;if(f?(rl&d)===d:(r&d)===d){0!==d&&d===Vi&&(La=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=e,g=a;d=t;var m=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(m,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(m,h,d):p)||void 0===d)break e;h=_({},h,d);break e;case 2:Oa=!0}}null!==(d=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[d]:f.push(d))}else f={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),hl|=o,e.lanes=o,e.memoizedState=h}}function Ua(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ja(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ua(n[e],t)}function za(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){ru(t,t.return,a)}}function Fa(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var c=n;try{a()}catch(l){ru(i,c,l)}}}r=r.next}while(r!==s)}}catch(l){ru(t,t.return,l)}}function qa(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ja(t,n)}catch(r){ru(e,e.return,r)}}}function Ha(e,t,n){n.props=Mo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Va(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){ru(e,t,s)}}function $a(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){ru(e,t,s)}else n.current=null}function Ga(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Ka(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,c=null,l=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||Vu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Vu(e,t,f,p,r,d)}}return void mt(e,a,c,l,u,h,s,i);case"select":for(s in p=a=c=f=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||Vu(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":c=s;break;case"multiple":a=s;default:s!==l&&Vu(e,t,i,s,r,l)}return t=c,n=a,r=p,void(null!=f?vt(e,!!n,f,!1):!!r!==!!n&&(null!=t?vt(e,!!n,t,!0):vt(e,!!n,n?[]:"",!1)));case"textarea":for(c in p=f=null,n)if(i=n[c],n.hasOwnProperty(c)&&null!=i&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Vu(e,t,c,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&Vu(e,t,a,i,r,s)}return void wt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Vu(e,t,g,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Vu(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Vu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Vu(e,t,u,f,r,p)}return;default:if(Pt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&$u(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||$u(e,t,h,f,r,p);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!r.hasOwnProperty(b)&&Vu(e,t,b,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Vu(e,t,d,f,r,p)}(r,e.type,n,t),r[je]=t}catch(i){ru(e,e.return,i)}}function Qa(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Wa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ja(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Ja(e,t,n),e=e.sibling;null!==e;)Ja(e,t,n),e=e.sibling}function Ya(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Ya(e,t,n),e=e.sibling;null!==e;)Ya(e,t,n),e=e.sibling}var Za=!1,Xa=!1,ec=!1,tc="function"===typeof WeakSet?WeakSet:Set,nc=null,rc=!1;function ic(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yc(e,n),4&r&&za(5,n);break;case 1:if(yc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){ru(n,n.return,a)}else{var i=Mo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){ru(n,n.return,c)}}64&r&&qa(n),512&r&&Va(n,n.return);break;case 3:if(yc(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{ja(r,e)}catch(a){ru(n,n.return,a)}}break;case 26:yc(e,n),512&r&&Va(n,n.return);break;case 27:case 5:yc(e,n),null===t&&4&r&&Ga(n),512&r&&Va(n,n.return);break;case 12:default:yc(e,n);break;case 13:yc(e,n),4&r&&uc(e,n);break;case 22:if(!(i=null!==n.memoizedState||Za)){t=null!==t&&null!==t.memoizedState||Xa;var s=Za,o=Xa;Za=i,(Xa=t)&&!o?vc(e,n,0!==(8772&n.subtreeFlags)):yc(e,n),Za=s,Xa=o}512&r&&("manual"===n.memoizedProps.mode?Va(n,n.return):$a(n,n.return))}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oc=null,ac=!1;function cc(e,t,n){for(n=n.child;null!==n;)lc(e,t,n),n=n.sibling}function lc(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Xa||$a(n,t),cc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Xa||$a(n,t);var r=oc,i=ac;for(oc=n.stateNode,cc(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ge(n),oc=r,ac=i;break;case 5:Xa||$a(n,t);case 6:i=oc;var s=ac;if(oc=null,cc(e,t,n),ac=s,null!==(oc=i))if(ac)try{e=oc,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(a){ru(n,t,a)}else try{oc.removeChild(n.stateNode)}catch(a){ru(n,t,a)}break;case 18:null!==oc&&(ac?(t=oc,n=n.stateNode,8===t.nodeType?sh(t.parentNode,n):1===t.nodeType&&sh(t,n),gd(t)):sh(oc,n.stateNode));break;case 4:r=oc,i=ac,oc=n.stateNode.containerInfo,ac=!0,cc(e,t,n),oc=r,ac=i;break;case 0:case 11:case 14:case 15:Xa||Fa(2,n,t),Xa||Fa(4,n,t),cc(e,t,n);break;case 1:Xa||($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Ha(n,t,r)),cc(e,t,n);break;case 21:cc(e,t,n);break;case 22:Xa||$a(n,t),Xa=(r=Xa)||null!==n.memoizedState,cc(e,t,n),Xa=r;break;default:cc(e,t,n)}}function uc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gd(e)}catch(n){ru(t,t.return,n)}}function hc(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var r=cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function dc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 27:case 5:oc=c.stateNode,ac=!1;break e;case 3:case 4:oc=c.stateNode.containerInfo,ac=!0;break e}c=c.return}if(null===oc)throw Error(o(160));lc(s,a,i),oc=null,ac=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pc(t,e),t=t.sibling}var fc=null;function pc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dc(t,e),gc(e),4&r&&(Fa(3,e,e.return),za(3,e),Fa(5,e,e.return));break;case 1:dc(t,e),gc(e),512&r&&(Xa||null===n||$a(n,n.return)),64&r&&Za&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fc;if(dc(t,e),gc(e),512&r&&(Xa||null===n||$a(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[$e]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Gu(s,r,n),s[Ue]=e,Ye(s),r=s;break e;case"link":var a=kh("link","href",i).get(r+(n.href||""));if(a)for(var c=0;c<a.length;c++)if((s=a[c]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(c,1);break t}Gu(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=kh("meta","content",i).get(r+(n.content||"")))for(c=0;c<a.length;c++)if((s=a[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(c,1);break t}Gu(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Ue]=e,Ye(s),r=s}e.stateNode=r}else Oh(i,e.type,e.stateNode);else e.stateNode=Ah(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Oh(i,e.type,e.stateNode):Ah(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ka(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var l=i.firstChild;l;){var u=l.nextSibling,h=l.nodeName;l[$e]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===l.rel.toLowerCase()||i.removeChild(l),l=u}for(var d=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gu(i,d,s),i[Ue]=e,i[je]=s}catch(g){ru(e,e.return,g)}}case 5:if(dc(t,e),gc(e),512&r&&(Xa||null===n||$a(n,n.return)),32&e.flags){i=e.stateNode;try{At(i,"")}catch(g){ru(e,e.return,g)}}4&r&&null!=e.stateNode&&Ka(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(ec=!0);break;case 6:if(dc(t,e),gc(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){ru(e,e.return,g)}}break;case 3:if(Ph=null,i=fc,fc=dh(t.containerInfo),dc(t,e),fc=i,gc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gd(t.containerInfo)}catch(g){ru(e,e.return,g)}ec&&(ec=!1,mc(e));break;case 4:r=fc,fc=dh(e.stateNode.containerInfo),dc(t,e),gc(e),fc=r;break;case 12:dc(t,e),gc(e);break;case 13:dc(t,e),gc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(vl=ce()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hc(e,r)));break;case 22:if(512&r&&(Xa||null===n||$a(n,n.return)),l=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Za=(h=Za)||l,Xa=(d=Xa)||u,dc(t,e),Xa=d,Za=h,gc(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=l?-2&t._visibility:1|t._visibility,l&&(t=Za||Xa,null===n||u||t||bc(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,l)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{a=u.stateNode;var p=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null;a.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){ru(u,u.return,g)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(g){ru(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hc(e,n))));break;case 19:dc(t,e),gc(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hc(e,r)));break;case 21:break;default:dc(t,e),gc(e)}}function gc(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Qa(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 27:var i=r.stateNode;Ya(e,Wa(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(At(s,""),r.flags&=-33),Ya(e,Wa(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;Ja(e,Wa(e),a);break;default:throw Error(o(161))}}}catch(c){ru(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;mc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ic(e,t.alternate,t),t=t.sibling}function bc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fa(4,t,t.return),bc(t);break;case 1:$a(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Ha(t,t.return,n),bc(t);break;case 26:case 27:case 5:$a(t,t.return),bc(t);break;case 22:$a(t,t.return),null===t.memoizedState&&bc(t);break;default:bc(t)}e=e.sibling}}function vc(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:vc(i,s,n),za(4,s);break;case 1:if(vc(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){ru(r,r.return,l)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ua(c[i],a)}catch(l){ru(r,r.return,l)}}n&&64&o&&qa(s),Va(s,s.return);break;case 26:case 27:case 5:vc(i,s,n),n&&null===r&&4&o&&Ga(s),Va(s,s.return);break;case 12:default:vc(i,s,n);break;case 13:vc(i,s,n),n&&4&o&&uc(i,s);break;case 22:null===s.memoizedState&&vc(i,s,n),Va(s,s.return)}t=t.sibling}}function wc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fi(n))}function Ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e))}function Ac(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sc(e,t,n,r),t=t.sibling}function Sc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ac(e,t,n,r),2048&i&&za(9,t);break;case 3:Ac(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e)));break;case 12:if(2048&i){Ac(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ru(t,t.return,c)}}else Ac(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?Ac(e,t,n,r):Ic(e,t):4&s._visibility?Ac(e,t,n,r):(s._visibility|=4,xc(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&wc(t.alternate,t);break;case 24:Ac(e,t,n,r),2048&i&&Ec(t.alternate,t);break;default:Ac(e,t,n,r)}}function xc(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:xc(s,o,a,c,i),za(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?4&u._visibility?xc(s,o,a,c,i):Ic(s,o):(u._visibility|=4,xc(s,o,a,c,i)),i&&2048&l&&wc(o.alternate,o);break;case 24:xc(s,o,a,c,i),i&&2048&l&&Ec(o.alternate,o);break;default:xc(s,o,a,c,i)}t=t.sibling}}function Ic(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Ic(n,r),2048&i&&wc(r.alternate,r);break;case 24:Ic(n,r),2048&i&&Ec(r.alternate,r);break;default:Ic(n,r)}t=t.sibling}}var Pc=8192;function kc(e){if(e.subtreeFlags&Pc)for(e=e.child;null!==e;)Oc(e),e=e.sibling}function Oc(e){switch(e.tag){case 26:kc(e),e.flags&Pc&&null!==e.memoizedState&&function(e,t,n){if(null===Nh)throw Error(o(475));var r=Nh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=yh(n.href),s=e.querySelector(bh(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Th.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Ye(s);s=e.ownerDocument||e,n=vh(n),(i=uh.get(i))&&xh(n,i),Ye(s=s.createElement("link"));var a=s;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Gu(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Th.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fc,e.memoizedState,e.memoizedProps);break;case 5:default:kc(e);break;case 3:case 4:var t=fc;fc=dh(e.stateNode.containerInfo),kc(e),fc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Pc,Pc=16777216,kc(e),Pc=t):kc(e))}}function Cc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Nc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nc=r,Mc(r,e)}Cc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)_c(e),e=e.sibling}function _c(e){switch(e.tag){case 0:case 11:case 15:Nc(e),2048&e.flags&&Fa(9,e,e.return);break;case 3:case 12:default:Nc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Tc(e)):Nc(e)}}function Tc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nc=r,Mc(r,e)}Cc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Fa(8,t,t.return),Tc(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Tc(t));break;default:Tc(t)}e=e.sibling}}function Mc(e,t){for(;null!==nc;){var n=nc;switch(n.tag){case 0:case 11:case 15:Fa(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nc=r;else e:for(n=e;null!==nc;){var i=(r=nc).sibling,s=r.return;if(sc(r),r===n){nc=null;break e}if(null!==i){i.return=s,nc=i;break e}nc=s}}}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Rc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Uc(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jc(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Bc(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case h:return zc(n.children,i,s,t);case d:a=8,i|=24;break;case f:return(e=Lc(12,n,t,2|i)).elementType=f,e.lanes=s,e;case b:return(e=Lc(13,n,t,i)).elementType=b,e.lanes=s,e;case v:return(e=Lc(19,n,t,i)).elementType=v,e.lanes=s,e;case A:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case m:a=10;break e;case g:a=9;break e;case y:a=11;break e;case w:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Lc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){(e=Lc(22,e,r,t)).elementType=A,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(o(456));if(0===(2&i._pendingVisibility)){var t=Cr(e,2);null!==t&&(i._pendingVisibility|=2,Tl(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(o(456));if(0!==(2&i._pendingVisibility)){var t=Cr(e,2);null!==t&&(i._pendingVisibility&=-3,Tl(t,e,2))}}};return e.stateNode=i,e}function qc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e){e.flags|=4}function $c(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ch(t)){if(null!==(t=Oi.current)&&((4194176&rl)===rl?null!==Ci:(62914560&rl)!==rl&&0===(536870912&rl)||t!==Ci))throw di=ci,ai;e.flags|=8192}}function Gc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,gl|=t)}function Kc(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wc(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Qc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),va(ji),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Vc(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Yr&&(Rl(Yr),Yr=null))),Qc(t),null;case 26:return n=t.memoizedState,null===e?(Vc(t),null!==n?(Qc(t),$c(t,n)):(Qc(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Vc(t),Qc(t),$c(t,n)):(Qc(t),t.flags&=-16777217):(e.memoizedProps!==r&&Vc(t),Qc(t),t.flags&=-16777217),null;case 27:ne(t),n=Y.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Vc(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Qc(t),null}e=W.current,ri(t)?ti(t):(e=lh(i,r,n),t.stateNode=e,Vc(t))}return Qc(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Vc(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Qc(t),null}if(e=W.current,ri(t))ti(t);else{switch(i=Wu(Y.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ue]=t,e[je]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Gu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vc(t)}}return Qc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Vc(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=Y.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Qr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||qu(e.nodeValue,n)))||ei(t)}else(e=Wu(e).createTextNode(r))[Ue]=t,t.stateNode=e}return Qc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Ue]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qc(t),i=!1}else null!==Yr&&(Rl(Yr),Yr=null),i=!0;if(!i)return 256&t.flags?(Mi(t),t):(Mi(t),null)}if(Mi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Gc(t,t.updateQueue),Qc(t),null;case 4:return ee(),null===e&&Tu(t.stateNode.containerInfo),Qc(t),null;case 10:return va(t.type),Qc(t),null;case 19:if(K(Ri),null===(i=t.memoizedState))return Qc(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Kc(i,!1);else{if(0!==ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Li(e))){for(t.flags|=128,Kc(i,!1),e=s.updateQueue,t.updateQueue=e,Gc(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Uc(n,e),n=n.sibling;return Q(Ri,1&Ri.current|2),t.child}e=e.sibling}null!==i.tail&&ce()>wl&&(t.flags|=128,r=!0,Kc(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Li(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gc(t,e),Kc(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Jr)return Qc(t),null}else 2*ce()-i.renderingStartTime>wl&&536870912!==n&&(t.flags|=128,r=!0,Kc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,e=Ri.current,Q(Ri,r?1&e|2:1&e),t):(Qc(t),null);case 22:case 23:return Mi(t),ki(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Qc(t),6&t.subtreeFlags&&(t.flags|=8192)):Qc(t),null!==(n=t.updateQueue)&&Gc(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),va(ji),Qc(t),null;case 25:return null}throw Error(o(156,t.tag))}function Jc(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return va(ji),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Mi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Ri),null;case 4:return ee(),null;case 10:return va(t.type),null;case 22:case 23:return Mi(t),ki(),null!==e&&K(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return va(ji),null;default:return null}}function Yc(e,t){switch(Kr(t),t.tag){case 3:va(ji),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Mi(t);break;case 19:K(Ri);break;case 10:va(t.type);break;case 22:case 23:Mi(t),ki(),null!==e&&K(Qi);break;case 24:va(ji)}}var Zc={getCacheForType:function(e){var t=Ia(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Xc="function"===typeof WeakMap?WeakMap:Map,el=0,tl=null,nl=null,rl=0,il=0,sl=null,ol=!1,al=!1,cl=!1,ll=0,ul=0,hl=0,dl=0,fl=0,pl=0,gl=0,ml=null,yl=null,bl=!1,vl=0,wl=1/0,El=null,Al=null,Sl=!1,xl=null,Il=0,Pl=0,kl=null,Ol=0,Cl=null;function Nl(){if(0!==(2&el)&&0!==rl)return rl&-rl;if(null!==N.T){return 0!==Vi?Vi:Eu()}return Be()}function _l(){0===pl&&(pl=0===(536870912&rl)||Jr?Ce():536870912);var e=Oi.current;return null!==e&&(e.flags|=32),pl}function Tl(e,t,n){(e===tl&&2===il||null!==e.cancelPendingCommit)&&(zl(e,0),Dl(e,rl,pl,!1)),Te(e,n),0!==(2&el)&&e===tl||(e===tl&&(0===(2&el)&&(dl|=n),4===ul&&Dl(e,rl,pl,!1)),gu(e))}function Ml(e,t,n){if(0!==(6&el))throw Error(o(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||ke(e,t),i=r?function(e,t){var n=el;el|=2;var r=ql(),i=Hl();tl!==e||rl!==t?(El=null,wl=ce()+500,zl(e,t)):al=ke(e,t);e:for(;;)try{if(0!==il&&null!==nl){t=nl;var s=sl;t:switch(il){case 1:il=0,sl=null,Jl(e,t,s,1);break;case 2:if(li(s)){il=0,sl=null,Wl(t);break}t=function(){2===il&&tl===e&&(il=7),gu(e)},s.then(t,t);break e;case 3:il=7;break e;case 4:il=5;break e;case 7:li(s)?(il=0,sl=null,Wl(t)):(il=0,sl=null,Jl(e,t,s,7));break;case 5:var a=null;switch(nl.tag){case 26:a=nl.memoizedState;case 5:case 27:var c=nl;if(!a||Ch(a)){il=0,sl=null;var l=c.sibling;if(null!==l)nl=l;else{var u=c.return;null!==u?(nl=u,Yl(u)):nl=null}break t}}il=0,sl=null,Jl(e,t,s,5);break;case 6:il=0,sl=null,Jl(e,t,s,6);break;case 8:jl(),ul=6;break e;default:throw Error(o(462))}}Kl();break}catch(h){Fl(e,h)}return ya=ma=null,N.H=r,N.A=i,el=n,null!==nl?0:(tl=null,rl=0,Pr(),ul)}(e,t):$l(e,t,!0),s=r;;){if(0===i){al&&!r&&Dl(e,t,0,!1);break}if(6===i)Dl(e,t,0,!ol);else{if(n=e.current.alternate,s&&!Bl(n)){i=$l(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var c=e;i=ml;var l=c.current.memoizedState.isDehydrated;if(l&&(zl(c,a).flags|=256),2!==(a=$l(c,a,!1))){if(cl&&!l){c.errorRecoveryDisabledLanes|=s,dl|=s,i=4;break e}s=yl,yl=i,null!==s&&Rl(s)}i=a}if(s=!1,2!==i)continue}}if(1===i){zl(e,0),Dl(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(o(345));case 4:if((4194176&t)===t){Dl(r,t,pl,!ol);break e}break;case 2:yl=null;break;case 3:case 5:break;default:throw Error(o(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=vl+300-ce())){if(Dl(r,t,pl,!ol),0!==Pe(r,0))break e;r.timeoutHandle=eh(Ll.bind(null,r,n,yl,El,bl,t,pl,dl,gl,ol,2,-0,0),s)}else Ll(r,n,yl,El,bl,t,pl,dl,gl,ol,0,-0,0)}}break}gu(e)}function Rl(e){null===yl?yl=e:yl.push.apply(yl,e)}function Ll(e,t,n,r,i,s,a,c,l,u,h,d,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Nh={stylesheets:null,count:0,unsuspend:_h},Oc(t),null!==(t=function(){if(null===Nh)throw Error(o(475));var e=Nh;return e.stylesheets&&0===e.count&&Rh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Rh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Xl.bind(null,e,n,r,i,a,c,l,1,d,f)),void Dl(e,s,a,!u);Xl(e,n,r,i,a,c,l,h,d,f)}function Bl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dl(e,t,n,r){t&=~fl,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Me(e,n,t)}function Ul(){return 0!==(6&el)||(mu(0,!1),!1)}function jl(){if(null!==nl){if(0===il)var e=nl.return;else ya=ma=null,ys(e=nl),pi=null,gi=0,e=nl;for(;null!==e;)Yc(e.alternate,e),e=e.return;nl=null}}function zl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,th(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),jl(),tl=e,nl=n=Dc(e.current,null),rl=t,il=0,sl=null,ol=!1,al=ke(e,t),cl=!1,gl=pl=fl=dl=hl=ul=0,yl=ml=null,bl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return ll=t,Pr(),n}function Fl(e,t){Xi=null,N.H=Io,t===oi?(t=fi(),il=3):t===ai?(t=fi(),il=4):il=t===Ho?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sl=t,null===nl&&(ul=1,Uo(e,Rr(t,e.current)))}function ql(){var e=N.H;return N.H=Io,null===e?Io:e}function Hl(){var e=N.A;return N.A=Zc,e}function Vl(){ul=4,ol||(4194176&rl)!==rl&&null!==Oi.current||(al=!0),0===(134217727&hl)&&0===(134217727&dl)||null===tl||Dl(tl,rl,pl,!1)}function $l(e,t,n){var r=el;el|=2;var i=ql(),s=Hl();tl===e&&rl===t||(El=null,zl(e,t)),t=!1;var o=ul;e:for(;;)try{if(0!==il&&null!==nl){var a=nl,c=sl;switch(il){case 8:jl(),o=6;break e;case 3:case 2:case 6:null===Oi.current&&(t=!0);var l=il;if(il=0,sl=null,Jl(e,a,c,l),n&&al){o=0;break e}break;default:l=il,il=0,sl=null,Jl(e,a,c,l)}}Gl(),o=ul;break}catch(u){Fl(e,u)}return t&&e.shellSuspendCounter++,ya=ma=null,el=r,N.H=i,N.A=s,null===nl&&(tl=null,rl=0,Pr()),o}function Gl(){for(;null!==nl;)Ql(nl)}function Kl(){for(;null!==nl&&!oe();)Ql(nl)}function Ql(e){var t=pa(e.alternate,e,ll);e.memoizedProps=e.pendingProps,null===t?Yl(e):nl=t}function Wl(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xo(n,t,t.pendingProps,t.type,void 0,rl);break;case 11:t=Xo(n,t,t.pendingProps,t.type.render,t.ref,rl);break;case 5:ys(t);default:Yc(n,t),t=pa(n,t=nl=Uc(t,ll),ll)}e.memoizedProps=e.pendingProps,null===t?Yl(e):nl=t}function Jl(e,t,n,r){ya=ma=null,ys(t),pi=null,gi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Aa(t,n,i,!0),null!==(n=Oi.current)){switch(n.tag){case 13:return null===Ci?Vl():null===n.alternate&&0===ul&&(ul=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ci?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===ci?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(o(435,n.tag))}return iu(e,r,i),Vl(),!1}if(Jr)return null!==(t=Oi.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Xr&&si(Rr(e=Error(o(422),{cause:r}),n))):(r!==Xr&&si(Rr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Rr(r,n),Ra(e,i=zo(e.stateNode,r,i)),4!==ul&&(ul=2)),!1;var s=Error(o(520),{cause:r});if(s=Rr(s,n),null===ml?ml=[s]:ml.push(s),4!==ul&&(ul=2),null===t)return!0;r=Rr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ra(n,e=zo(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Al||!Al.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,qo(i=Fo(i),e,n,r),Ra(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rl))return ul=1,Uo(e,Rr(n,e.current)),void(nl=null)}catch(s){if(null!==i)throw nl=i,s;return ul=1,Uo(e,Rr(n,e.current)),void(nl=null)}32768&t.flags?(Jr||1===r?e=!0:al||0!==(536870912&rl)?e=!1:(ol=e=!0,(2===r||3===r||6===r)&&(null!==(r=Oi.current)&&13===r.tag&&(r.flags|=16384))),Zl(t,e)):Yl(t)}function Yl(e){var t=e;do{if(0!==(32768&t.flags))return void Zl(t,ol);e=t.return;var n=Wc(t.alternate,t,ll);if(null!==n)return void(nl=n);if(null!==(t=t.sibling))return void(nl=t);nl=t=e}while(null!==t);0===ul&&(ul=5)}function Zl(e,t){do{var n=Jc(e.alternate,e);if(null!==n)return n.flags&=32767,void(nl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nl=e);nl=e=n}while(null!==e);ul=6,nl=null}function Xl(e,t,n,r,i,s,a,c,l,u){var h=N.T,d=q.p;try{q.p=2,N.T=null,function(e,t,n,r,i,s,a,c){do{tu()}while(null!==xl);if(0!==(6&el))throw Error(o(327));var l=e.finishedWork;if(r=e.finishedLanes,null===l)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=l.lanes|l.childLanes;if(function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-we(n),h=1<<u;a[u]=0,c[u]=-1;var d=l[u];if(null!==d)for(l[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Me(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,r,u|=Ir,s,a,c),e===tl&&(nl=tl=null,rl=0),0===(10256&l.subtreeFlags)&&0===(10256&l.flags)||Sl||(Sl=!0,Pl=u,kl=n,function(e,t){ie(e,t)}(de,(function(){return tu(),null}))),n=0!==(15990&l.flags),0!==(15990&l.subtreeFlags)||n?(n=N.T,N.T=null,s=q.p,q.p=2,a=el,el|=4,function(e,t){if(e=e.containerInfo,Ku=Vh,er(e=Xn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(m){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},Vh=!1,nc=t;null!==nc;)if(e=(t=nc).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nc=e;else for(;null!==nc;){switch(s=(t=nc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var g=Mo(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){ru(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))oh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,nc=e;break}nc=t.return}g=rc,rc=!1}(e,l),pc(l,e),tr(Qu,e.containerInfo),Vh=!!Ku,Qu=Ku=null,e.current=l,ic(e,l.alternate,l),ae(),el=a,q.p=s,N.T=n):e.current=l,Sl?(Sl=!1,xl=e,Il=r):eu(e,u),u=e.pendingLanes,0===u&&(Al=null),function(e){if(be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(l.stateNode),gu(e),null!==t)for(i=e.onRecoverableError,l=0;l<t.length;l++)u=t[l],i(u.value,{componentStack:u.stack});0!==(3&Il)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Cl?Ol++:(Ol=0,Cl=e):Ol=0,mu(0,!1)}(e,t,n,r,d,i,s,a)}finally{N.T=h,q.p=d}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fi(t)))}function tu(){if(null!==xl){var e=xl,t=Pl;Pl=0;var n=Le(Il),r=N.T,i=q.p;try{if(q.p=32>n?32:n,N.T=null,null===xl)var s=!1;else{n=kl,kl=null;var a=xl,c=Il;if(xl=null,Il=0,0!==(6&el))throw Error(o(331));var l=el;if(el|=4,_c(a.current),Sc(a,a.current,c,n),el=l,mu(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,a)}catch(u){}s=!0}return s}finally{q.p=i,N.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Rr(n,t),null!==(e=Ta(e,t=zo(e.stateNode,t,2),2))&&(Te(e,2),gu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Al||!Al.has(r))){e=Rr(n,e),null!==(r=Ta(t,n=Fo(2),2))&&(qo(n,r,t,e),Te(r,2),gu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Xc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cl=!0,i.add(n),e=su.bind(null,e,t,n),t.then(e,e))}function su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tl===e&&(rl&n)===n&&(4===ul||3===ul&&(62914560&rl)===rl&&300>ce()-vl?0===(2&el)&&zl(e,0):fl|=n,gl===rl&&(gl=0)),gu(e)}function ou(e,t){0===t&&(t=Ne()),null!==(e=Cr(e,t))&&(Te(e,t),gu(e))}function au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ou(e,n)}function cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),ou(e,n)}var lu=null,uu=null,hu=!1,du=!1,fu=!1,pu=0;function gu(e){var t;e!==uu&&null===e.next&&(null===uu?lu=uu=e:uu=uu.next=e),du=!0,hu||(hu=!0,t=yu,rh((function(){0!==(6&el)?ie(ue,t):t()})))}function mu(e,t){if(!fu&&du){fu=!0;do{for(var n=!1,r=lu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326677&(s&=i&~(o&~a))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,wu(r,s))}else s=rl,0===(3&(s=Pe(r,r===tl?s:0)))||ke(r,s)||(n=!0,wu(r,s));r=r.next}}while(n);fu=!1}}function yu(){du=hu=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Xu&&(Xu=e,!0);return Xu=null,!1}()&&(e=pu),pu=0);for(var t=ce(),n=null,r=lu;null!==r;){var i=r.next,s=bu(r,t);0===s?(r.next=null,null===n?lu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&s))&&(du=!0)),r=i}mu(e,!1)}function bu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-we(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=Oe(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(n=rl,n=Pe(e,e===(t=tl)?n:0),r=e.callbackNode,0===n||e===t&&2===il||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=vu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function vu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rl;return 0===(r=Pe(e,e===tl?r:0))?null:(Ml(e,r,t),bu(e,ce()),null!=e.callbackNode&&e.callbackNode===n?vu.bind(null,e):null)}function wu(e,t){if(tu())return null;Ml(e,t,!0)}function Eu(){return 0===pu&&(pu=Ce()),pu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var xu=0;xu<Er.length;xu++){var Iu=Er[xu];Ar(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}Ar(fr,"onAnimationEnd"),Ar(pr,"onAnimationIteration"),Ar(gr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(mr,"onTransitionRun"),Ar(yr,"onTransitionStart"),Ar(br,"onTransitionCancel"),Ar(vr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Ou(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){Ro(u)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){Ro(u)}i.currentTarget=null,s=c}}}}function Cu(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var r=e+"__bubble";n.has(r)||(Mu(t,e,2,!1),n.add(r))}function Nu(e,t,n){var r=0;t&&(r|=4),Mu(n,e,r,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[_u]){e[_u]=!0,Ze.forEach((function(t){"selectionchange"!==t&&(ku.has(t)||Nu(t,!1,e),Nu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_u]||(t[_u]=!0,Nu("selectionchange",!1,t))}}function Mu(e,t,n,r){switch(Yh(t)){case 2:var i=$h;break;case 8:i=Gh;break;default:i=Kh}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ru(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Ke(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Bt((function(){var r=s,i=_t(n),o=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,l=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":c=pn;break;case"focusin":l="focus",c=sn;break;case"focusout":l="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=mn;break;case fr:case pr:case gr:c=on;break;case vr:c=yn;break;case"scroll":case"scrollend":c=en;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=vn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===d||null!=(g=Dt(p,d))&&u.push(Lu(p,g,f)),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Nt||!(l=n.relatedTarget||n.fromElement)||!Ke(l)&&!l[ze])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?Ke(l):null)&&(h=D(l),u=l.tag,l!==h||5!==u&&27!==u&&6!==u)&&(l=null)):(c=null,l=r),c!==l)){if(u=nn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:We(c),f=null==l?a:We(l),(a=new u(g,p+"leave",c,n,i)).target=h,a.relatedTarget=f,g=null,Ke(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,g=u),h=g,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Du(f))p++;for(f=0,g=d;g;g=Du(g))f++;for(;0<p-f;)u=Du(u),p--;for(;0<f-p;)d=Du(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Du(u),d=Du(d)}u=null}else u=null;null!==c&&Uu(o,a,c,u,!1),null!==l&&null!==h&&Uu(o,h,l,u,!0)}if("select"===(c=(a=r?We(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var m=Dn;else if(_n(a))if(Un)m=Kn;else{m=$n;var y=Vn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Pt(r.elementType)&&(m=Dn):m=Gn;switch(m&&(m=m(e,r))?Tn(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&bt(a,"number",a.value)),y=r?We(r):window,e){case"focusin":(_n(y)||"true"===y.contentEditable)&&(rr=y,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,ar(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(o,n,i)}var b;if(En)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Cn?kn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(xn&&"ko"!==n.locale&&(Cn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Cn&&(b=Ht()):(Ft="value"in(zt=i)?zt.value:zt.textContent,Cn=!0)),0<(y=Bu(r,v)).length&&(v=new cn(v,e,null,n,i),o.push({event:v,listeners:y}),b?v.data=b:null!==(b=On(n))&&(v.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Pn=!0,In);case"textInput":return(e=t.data)===In&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Cn)return"compositionend"===e||!En&&kn(e,t)?(e=Ht(),qt=Ft=zt=null,Cn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Bu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:v}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Au((i[je]||null).action),o=r.submitter;o&&null!==(t=(t=o[je]||null)?Au(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=o?Su(i,o):new FormData(i);uo(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Su(i,o):new FormData(i),uo(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ou(o,t)}))}function Lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Dt(e,n))&&r.unshift(Lu(e,i,s)),null!=(i=Dt(e,t))&&r.push(Lu(e,i,s))),e=e.return}return r}function Du(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uu(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(a=a.tag,null!==c&&c===r)break;5!==a&&26!==a&&27!==a||null===l||(c=l,i?null!=(l=Dt(n,s))&&o.unshift(Lu(n,l,c)):i||null!=(l=Dt(n,s))&&o.push(Lu(n,l,c))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ju=/\r\n?/g,zu=/\u0000|\uFFFD/g;function Fu(e){return("string"===typeof e?e:""+e).replace(ju,"\n").replace(zu,"")}function qu(e,t){return t=Fu(t),Fu(e)===t}function Hu(){}function Vu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||At(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&At(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":It(e,r,s);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Vu(e,t,"name",i.name,i,null),Vu(e,t,"formEncType",i.formEncType,i,null),Vu(e,t,"formMethod",i.formMethod,i,null),Vu(e,t,"formTarget",i.formTarget,i,null)):(Vu(e,t,"encType",i.encType,i,null),Vu(e,t,"method",i.method,i,null),Vu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"onScroll":null!=r&&Cu("scroll",e);break;case"onScrollEnd":null!=r&&Cu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Cu("beforetoggle",e),Cu("toggle",e),ot(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ot(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=kt.get(n)||n,r)}}function $u(e,t,n,r,i,s){switch(n){case"style":It(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?At(e,r):("number"===typeof r||"bigint"===typeof r)&&At(e,""+r);break;case"onScroll":null!=r&&Cu("scroll",e);break;case"onScrollEnd":null!=r&&Cu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[je]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ot(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Gu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cu("error",e),Cu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Vu(e,t,r,a,n,null)}}return s&&Vu(e,t,"srcSet",n.srcSet,n,null),void(i&&Vu(e,t,"src",n.src,n,null));case"input":Cu("invalid",e);var c=r=a=s=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Vu(e,t,i,h,n,null)}}return yt(e,r,c,l,u,a,s,!1),void ht(e);case"select":for(s in Cu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":r=c;break;case"defaultValue":a=c;break;case"multiple":i=c;default:Vu(e,t,s,c,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?vt(e,!!i,t,!1):null!=n&&vt(e,!!i,n,!0));case"textarea":for(a in Cu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(c=n[a]))switch(a){case"value":i=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:Vu(e,t,a,c,n,null)}return Et(e,i,s,r),void ht(e);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Vu(e,t,l,i,n,null);return;case"dialog":Cu("cancel",e),Cu("close",e);break;case"iframe":case"object":Cu("load",e);break;case"video":case"audio":for(i=0;i<Pu.length;i++)Cu(Pu[i],e);break;case"image":Cu("error",e),Cu("load",e);break;case"details":Cu("toggle",e);break;case"embed":case"source":case"link":Cu("error",e),Cu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Vu(e,t,u,i,n,null)}return;default:if(Pt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&$u(e,t,h,i,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(i=n[c])&&Vu(e,t,c,i,n,null))}var Ku=null,Qu=null;function Wu(e){return 9===e.nodeType?e:e.ownerDocument}function Ju(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Xu=null;var eh="function"===typeof setTimeout?setTimeout:void 0,th="function"===typeof clearTimeout?clearTimeout:void 0,nh="function"===typeof Promise?Promise:void 0,rh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nh?function(e){return nh.resolve(null).then(e).catch(ih)}:eh;function ih(e){setTimeout((function(){throw e}))}function sh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void gd(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);gd(t)}function oh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":oh(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ah(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ch(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function lh(e,t,n){switch(t=Wu(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}var uh=new Map,hh=new Set;function dh(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fh=q.d;q.d={f:function(){var e=fh.f(),t=Ul();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?fo(t):fh.r(e)},D:function(e){fh.D(e),gh("dns-prefetch",e,null)},C:function(e,t){fh.C(e,t),gh("preconnect",e,t)},L:function(e,t,n){fh.L(e,t,n);var r=ph;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var s=i;switch(t){case"style":s=yh(e);break;case"script":s=wh(e)}uh.has(s)||(e=_({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),uh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(bh(s))||"script"===t&&r.querySelector(Eh(s))||(Gu(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}},m:function(e,t){fh.m(e,t);var n=ph;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=wh(e)}if(!uh.has(s)&&(e=_({rel:"modulepreload",href:e},t),uh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Eh(s)))return}Gu(r=n.createElement("link"),"link",e),Ye(r),n.head.appendChild(r)}}},X:function(e,t){fh.X(e,t);var n=ph;if(n&&e){var r=Je(n).hoistableScripts,i=wh(e),s=r.get(i);s||((s=n.querySelector(Eh(i)))||(e=_({src:e,async:!0},t),(t=uh.get(i))&&Ih(e,t),Ye(s=n.createElement("script")),Gu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){fh.S(e,t,n);var r=ph;if(r&&e){var i=Je(r).hoistableStyles,s=yh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(bh(s)))a.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=uh.get(s))&&xh(e,n);var c=o=r.createElement("link");Ye(c),Gu(c,"link",e),c._p=new Promise((function(e,t){c.onload=e,c.onerror=t})),c.addEventListener("load",(function(){a.loading|=1})),c.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Sh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){fh.M(e,t);var n=ph;if(n&&e){var r=Je(n).hoistableScripts,i=wh(e),s=r.get(i);s||((s=n.querySelector(Eh(i)))||(e=_({src:e,async:!0,type:"module"},t),(t=uh.get(i))&&Ih(e,t),Ye(s=n.createElement("script")),Gu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var ph="undefined"===typeof document?null:document;function gh(e,t,n){var r=ph;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hh.has(i)||(hh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Gu(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}}function mh(e,t,n,r){var i,s,a,c,l=(l=Y.current)?dh(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yh(n.href),(r=(n=Je(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yh(n.href);var u=Je(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(bh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),uh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},uh.set(e,n),u||(i=l,s=e,a=n,c=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",(function(){return c.loading|=1})),s.addEventListener("error",(function(){return c.loading|=2})),Gu(s,"link",a),Ye(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wh(n),(r=(n=Je(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function yh(e){return'href="'+gt(e)+'"'}function bh(e){return'link[rel="stylesheet"]['+e+"]"}function vh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function wh(e){return'[src="'+gt(e)+'"]'}function Eh(e){return"script[async]"+e}function Ah(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Ye(r),r;var i=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ye(r=(e.ownerDocument||e).createElement("style")),Gu(r,"style",i),Sh(r,n.precedence,e),t.instance=r;case"stylesheet":i=yh(n.href);var s=e.querySelector(bh(i));if(s)return t.state.loading|=4,t.instance=s,Ye(s),s;r=vh(n),(i=uh.get(i))&&xh(r,i),Ye(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Gu(s,"link",r),t.state.loading|=4,Sh(s,n.precedence,e),t.instance=s;case"script":return s=wh(n.src),(i=e.querySelector(Eh(s)))?(t.instance=i,Ye(i),i):(r=n,(i=uh.get(s))&&Ih(r=_({},n),i),Ye(i=(e=e.ownerDocument||e).createElement("script")),Gu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Sh(r,n.precedence,e));return t.instance}function Sh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function xh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ih(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ph=null;function kh(e,t,n){if(null===Ph){var r=new Map,i=Ph=new Map;i.set(n,r)}else(r=(i=Ph).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[$e]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function Oh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ch(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Nh=null;function _h(){}function Th(){if(this.count--,0===this.count)if(this.stylesheets)Rh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Mh=null;function Rh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Mh=new Map,t.forEach(Lh,e),Mh=null,Th.call(e))}function Lh(e,t){if(!(4&t.state.loading)){var n=Mh.get(e);if(n)var r=n.get(null);else{n=new Map,Mh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Th.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Bh={$$typeof:m,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Dh(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Uh(e,t,n,r,i,s,o,a,c,l,u,h){return e=new Dh(e,t,n,o,a,c,l,h),t=1,!0===s&&(t|=24),s=Lc(3,null,null,t),e.current=s,s.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Ca(s),e}function jh(e){return e?e=Tr:Tr}function zh(e,t,n,r,i,s){i=jh(i),null===r.context?r.context=i:r.pendingContext=i,(r=_a(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Ta(e,r,t))&&(Tl(n,0,t),Ma(n,e,t))}function Fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qh(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function Hh(e){if(13===e.tag){var t=Cr(e,67108864);null!==t&&Tl(t,0,67108864),qh(e,67108864)}}var Vh=!0;function $h(e,t,n,r){var i=N.T;N.T=null;var s=q.p;try{q.p=2,Kh(e,t,n,r)}finally{q.p=s,N.T=i}}function Gh(e,t,n,r){var i=N.T;N.T=null;var s=q.p;try{q.p=8,Kh(e,t,n,r)}finally{q.p=s,N.T=i}}function Kh(e,t,n,r){if(Vh){var i=Qh(r);if(null===i)Ru(e,t,r,Wh,n),od(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Xh=ad(Xh,e,t,n,r,i),!0;case"dragenter":return ed=ad(ed,e,t,n,r,i),!0;case"mouseover":return td=ad(td,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,ad(nd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,ad(rd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(od(e,r),4&t&&-1<sd.indexOf(e)){for(;null!==i;){var s=Qe(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Ie(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-we(o);a.entanglements[1]|=c,o&=~c}gu(s),0===(6&el)&&(wl=ce()+500,mu(0,!1))}}break;case 13:null!==(a=Cr(s,2))&&Tl(a,0,2),Ul(),qh(s,2)}if(null===(s=Qh(r))&&Ru(e,t,r,Wh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Ru(e,t,r,null,n)}}function Qh(e){return Jh(e=_t(e))}var Wh=null;function Jh(e){if(Wh=null,null!==(e=Ke(e))){var t=D(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=U(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wh=e,null}function Yh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zh=!1,Xh=null,ed=null,td=null,nd=new Map,rd=new Map,id=[],sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function od(e,t){switch(e){case"focusin":case"focusout":Xh=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(t.pointerId)}}function ad(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Qe(t))&&Hh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function cd(e){var t=Ke(e.target);if(null!==t){var n=D(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=U(n)))return e.blockedOn=t,void function(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}(e.priority,(function(){if(13===n.tag){var e=Nl(),t=Cr(n,e);null!==t&&Tl(t,0,e),qh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ld(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qh(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&Hh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function ud(e,t,n){ld(e)&&n.delete(t)}function hd(){Zh=!1,null!==Xh&&ld(Xh)&&(Xh=null),null!==ed&&ld(ed)&&(ed=null),null!==td&&ld(td)&&(td=null),nd.forEach(ud),rd.forEach(ud)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,Zh||(Zh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hd)))}var fd=null;function pd(e){fd!==e&&(fd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fd===e&&(fd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Jh(r||n))continue;break}var s=Qe(n);null!==s&&(e.splice(t,3),t-=3,uo(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function gd(e){function t(t){return dd(t,e)}null!==Xh&&dd(Xh,e),null!==ed&&dd(ed,e),null!==td&&dd(td,e),nd.forEach(t),rd.forEach(t);for(var n=0;n<id.length;n++){var r=id[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<id.length&&null===(n=id[0]).blockedOn;)cd(n),null===n.blockedOn&&id.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[je]||null;if("function"===typeof s)o||pd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[je]||null)a=o.formAction;else if(null!==Jh(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),pd(n)}}}function md(e){this._internalRoot=e}function yd(e){this._internalRoot=e}yd.prototype.render=md.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zh(t.current,Nl(),e,t,null,null)},yd.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),zh(e.current,2,null,e,null,null),Ul(),t[ze]=null}},yd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<id.length&&0!==t&&t<id[n].priority;n++);id.splice(n,0,e),0===n&&cd(e)}};var bd=i.version;if("19.0.0"!==bd)throw Error(o(527,bd,"19.0.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=D(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return j(i),e;if(s===r)return j(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?z(e):null)?null:e.stateNode};var vd={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{ye=wd.inject(vd),be=wd}catch(Ad){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Lo,s=Bo,c=Do;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Uh(e,1,!1,null,0,n,r,i,s,c,0,null),e[ze]=t.current,Tu(8===e.nodeType?e.parentNode:e),new md(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Lo,c=Bo,l=Do,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(c=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Uh(e,1,!0,t,0,r,i,s,c,l,0,u)).context=jh(null),n=t.current,(i=_a(r=Nl())).callback=null,Ta(n,i,r),t.current.lanes=r,Te(t,r),gu(t),e[ze]=t.current,Tu(e),new yd(t)},t.version="19.0.0"},7043:(e,t,n)=>{"use strict";var r=n(6373),i=n(6329),s=n(6588),o=n(6864);function a(e){s.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){s.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(n),o=i.redMul(r),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},7171:(e,t,n)=>{"use strict";n.d(t,{WalletConnectModal:()=>i});var r=n(7697);class i{constructor(e){this.openModal=r.D8.open,this.closeModal=r.D8.close,this.subscribeModal=r.D8.subscribe,this.setTheme=r.lH.setThemeConfig,r.lH.setThemeConfig(e),r.mb.setConfig(e),this.initUi()}async initUi(){if("undefined"!==typeof window){await n.e(126).then(n.bind(n,9126));const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),r.IN.setIsUiLoaded(!0)}}}},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"===typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7355:(e,t,n)=>{"use strict";var r=n(7643),i=n(5482);function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},7643:(e,t,n)=>{"use strict";var r=n(5482),i=n(6329);function s(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=63&o|128):s(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=63&o|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=63&o|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=o(i)),n+=c(i.toString(16))}return n},t.zero2=a,t.zero8=c,t.join32=function(e,t,n,i){var s=n-t;r(s%4===0);for(var o=new Array(s/4),a=0,c=t;a<o.length;a++,c+=4){var l;l="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[a]=l>>>0}return o},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var s=e[r];"big"===t?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=255&s):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=255&s)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],s=r+e[t+1]>>>0,o=(s<r?1:0)+n+i;e[t]=o>>>0,e[t+1]=s},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,s,o,a){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+s>>>0)<s?1:0,e+n+i+o+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,s,o,a){return t+r+s+a>>>0},t.sum64_5_hi=function(e,t,n,r,i,s,o,a,c,l){var u=0,h=t;return u+=(h=h+r>>>0)<t?1:0,u+=(h=h+s>>>0)<s?1:0,u+=(h=h+a>>>0)<a?1:0,e+n+i+o+c+(u+=(h=h+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,s,o,a,c,l){return t+r+s+a+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},7697:(e,t,n)=>{"use strict";n.d(t,{mb:()=>S,Ao:()=>y,vZ:()=>v,pV:()=>F,D8:()=>H,IN:()=>E,jL:()=>m,lH:()=>J,dC:()=>Z});Symbol();const r=Symbol();const i=Object.getPrototypeOf,s=new WeakMap,o=e=>e&&(s.has(e)?s.get(e):i(e)===Object.prototype||i(e)===Array.prototype),a=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.set(e,t)},c=e=>"object"===typeof e&&null!==e,l=new WeakMap,u=new WeakSet,h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>new Proxy(e,t),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>c(e)&&!u.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new WeakMap,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const r=s.get(e);if((null==r?void 0:r[0])===t)return r[1];const o=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return a(o,!0),s.set(e,[t,o]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(o,t))return;const r=Reflect.get(e,t),i={value:r,enumerable:!0,configurable:!0};if(u.has(r))a(r,!1);else if(r instanceof Promise)delete i.value,i.get=()=>n(r);else if(l.has(r)){const[e,t]=l.get(r);i.value=h(e,t(),n)}Object.defineProperty(o,t,i)})),Object.preventExtensions(o)},d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new WeakMap,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[1,1],p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:i=>{if(!c(i))throw new Error("object required");const s=d.get(i);if(s)return s;let a=f[0];const g=new Set,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:++f[0];a!==t&&(a=t,g.forEach((n=>n(e,t))))};let y=f[1];const b=e=>(t,n)=>{const r=[...t];r[1]=[e,...r[1]],m(r,n)},v=new Map,w=e=>{var t;const n=v.get(e);n&&(v.delete(e),null==(t=n[1])||t.call(n))},E=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),A={deleteProperty(e,t){const n=Reflect.get(e,t);w(t);const r=Reflect.deleteProperty(e,t);return r&&m(["delete",[t],n]),r},set(t,i,s,a){const h=Reflect.has(t,i),f=Reflect.get(t,i,a);if(h&&(e(f,s)||d.has(s)&&e(f,d.get(s))))return!0;w(i),c(s)&&(s=(e=>o(e)&&e[r]||null)(s)||s);let y=s;if(s instanceof Promise)s.then((e=>{s.status="fulfilled",s.value=e,m(["resolve",[i],e])})).catch((e=>{s.status="rejected",s.reason=e,m(["reject",[i],e])}));else{!l.has(s)&&n(s)&&(y=p(s));const e=!u.has(y)&&l.get(y);e&&((e,t)=>{if(v.has(e))throw new Error("prop listener already exists");if(g.size){const n=t[3](b(e));v.set(e,[t,n])}else v.set(e,[t])})(i,e)}return Reflect.set(t,i,y,a),m(["set",[i],s,f]),!0}},S=t(E,A);d.set(i,S);const x=[E,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:++f[1];return y===e||g.size||(y=e,v.forEach((t=>{let[n]=t;const r=n[1](e);r>a&&(a=r)}))),a},h,e=>{g.add(e),1===g.size&&v.forEach(((e,t)=>{let[n,r]=e;if(r)throw new Error("remove already exists");const i=n[3](b(t));v.set(t,[n,i])}));return()=>{g.delete(e),0===g.size&&v.forEach(((e,t)=>{let[n,r]=e;r&&(r(),v.set(t,[n]))}))}}];return l.set(S,x),Reflect.ownKeys(i).forEach((e=>{const t=Object.getOwnPropertyDescriptor(i,e);"value"in t&&(S[e]=i[e],delete t.value,delete t.writable),Object.defineProperty(E,e,t)})),S};return[p,l,u,e,t,n,i,s,h,d,f]},[d]=h();function f(){return d(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t,n){const r=l.get(e);let i;r||console.warn("Please use proxy object");const s=[],o=r[3];let a=!1;const c=o((e=>{s.push(e),n?t(s.splice(0)):i||(i=Promise.resolve().then((()=>{i=void 0,a&&t(s.splice(0))})))}));return a=!0,()=>{a=!1,c()}}const g=f({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),m={state:g,subscribe:e=>p(g,(()=>e(g))),push(e,t){e!==g.view&&(g.view=e,t&&(g.data=t),g.history.push(e))},reset(e){g.view=e,g.history=[e]},replace(e){g.history.length>1&&(g.history[g.history.length-1]=e,g.view=e)},goBack(){if(g.history.length>1){g.history.pop();const[e]=g.history.slice(-1);g.view=e}},setData(e){g.data=e}},y={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>"undefined"!==typeof window&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>y.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return y.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,isTelegram:()=>"undefined"!==typeof window&&(Boolean(window.TelegramWebviewProxy)||Boolean(window.Telegram)||Boolean(window.TelegramWebviewProxyProto)),formatNativeUrl(e,t,n){if(y.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,n){if(!y.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let r=e;if(r.startsWith("https://t.me")){const e=Buffer.from(t).toString("base64").replace(/[=]/g,"");r.endsWith("/")&&(r=r.slice(0,-1)),this.setWalletConnectDeepLink(r,n);const i=new URL(r);i.searchParams.set("startapp",e);return i.toString()}r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},wait:async e=>new Promise((t=>{setTimeout(t,e)})),openHref(e,t){const n=this.isTelegram()?"_blank":t;window.open(e,n,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(y.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(n){console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(y.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch(t){console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(y.WALLETCONNECT_DEEPLINK_CHOICE)}catch(e){console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{"undefined"!==typeof localStorage&&localStorage.setItem(y.WCM_VERSION,"2.7.0")}catch(e){console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=m.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},b=f({enabled:"undefined"!==typeof location&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),v={state:b,subscribe:e=>p(b.events,(()=>e(function(e,t){const n=l.get(e);n||console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),t)}(b.events[b.events.length-1])))),initialize(){b.enabled&&"undefined"!==typeof(null==crypto?void 0:crypto.randomUUID)&&(b.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){b.connectedWalletId=e},click(e){if(b.enabled){const t={type:"CLICK",name:e.name,userSessionId:b.userSessionId,timestamp:Date.now(),data:e};b.events.push(t)}},track(e){if(b.enabled){const t={type:"TRACK",name:e.name,userSessionId:b.userSessionId,timestamp:Date.now(),data:e};b.events.push(t)}},view(e){if(b.enabled){const t={type:"VIEW",name:e.name,userSessionId:b.userSessionId,timestamp:Date.now(),data:e};b.events.push(t)}}},w=f({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),E={state:w,subscribe:e=>p(w,(()=>e(w))),setChains(e){w.chains=e},setWalletConnectUri(e){w.walletConnectUri=e},setIsCustomDesktop(e){w.isCustomDesktop=e},setIsCustomMobile(e){w.isCustomMobile=e},setIsDataLoaded(e){w.isDataLoaded=e},setIsUiLoaded(e){w.isUiLoaded=e},setIsAuth(e){w.isAuth=e}},A=f({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),S={state:A,subscribe:e=>p(A,(()=>e(A))),setConfig(e){var t,n;v.initialize(),E.setChains(e.chains),E.setIsAuth(Boolean(e.enableAuthMode)),E.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),E.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),y.setModalVersionInStorage(),Object.assign(A,e)}};var x=Object.defineProperty,I=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const C="https://explorer-api.walletconnect.com",N="wcm",_="js-2.7.0";async function T(e,t){const n=((e,t)=>{for(var n in t||(t={}))P.call(t,n)&&O(e,n,t[n]);if(I)for(var n of I(t))k.call(t,n)&&O(e,n,t[n]);return e})({sdkType:N,sdkVersion:_},t),r=new URL(e,C);r.searchParams.append("projectId",S.state.projectId),Object.entries(n).forEach((e=>{let[t,n]=e;n&&r.searchParams.append(t,String(n))}));return(await fetch(r)).json()}const M={getDesktopListings:async e=>T("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>T("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>T("/w3m/v1/getInjectedListings",e),getAllListings:async e=>T("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${C}/w3m/v1/getWalletImage/${e}?projectId=${S.state.projectId}&sdkType=${N}&sdkVersion=${_}`,getAssetImageUrl:e=>`${C}/w3m/v1/getAssetImage/${e}?projectId=${S.state.projectId}&sdkType=${N}&sdkVersion=${_}`};var R=Object.defineProperty,L=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const j=y.isMobile(),z=f({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),F={state:z,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=S.state;if("NONE"===e||"ALL"===t&&!e)return z.recomendedWallets;if(y.isArray(e)){const t={recommendedIds:e.join(",")},{listings:n}=await M.getAllListings(t),r=Object.values(n);r.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id))),z.recomendedWallets=r}else{const{chains:e,isAuth:n}=E.state,r=null==e?void 0:e.join(","),i=y.isArray(t),s={page:1,sdks:n?"auth_v1":void 0,entries:y.RECOMMENDED_WALLET_AMOUNT,chains:r,version:2,excludedIds:i?t.join(","):void 0},{listings:o}=j?await M.getMobileListings(s):await M.getDesktopListings(s);z.recomendedWallets=Object.values(o)}return z.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var n in t||(t={}))B.call(t,n)&&U(e,n,t[n]);if(L)for(var n of L(t))D.call(t,n)&&U(e,n,t[n]);return e})({},e),{explorerRecommendedWalletIds:n,explorerExcludedWalletIds:r}=S.state,{recomendedWallets:i}=z;if("ALL"===r)return z.wallets;i.length?t.excludedIds=i.map((e=>e.id)).join(","):y.isArray(n)&&(t.excludedIds=n.join(",")),y.isArray(r)&&(t.excludedIds=[t.excludedIds,r].filter(Boolean).join(",")),E.state.isAuth&&(t.sdks="auth_v1");const{page:s,search:o}=e,{listings:a,total:c}=j?await M.getMobileListings(t):await M.getDesktopListings(t),l=Object.values(a),u=o?"search":"wallets";return z[u]={listings:[...z[u].listings,...l],total:c,page:null!=s?s:1},{listings:l,total:c}},getWalletImageUrl:e=>M.getWalletImageUrl(e),getAssetImageUrl:e=>M.getAssetImageUrl(e),resetSearch(){z.search={listings:[],total:0,page:1}}},q=f({open:!1}),H={state:q,subscribe:e=>p(q,(()=>e(q))),open:async e=>new Promise((t=>{const{isUiLoaded:n,isDataLoaded:r}=E.state;if(y.removeWalletConnectDeepLink(),E.setWalletConnectUri(null==e?void 0:e.uri),E.setChains(null==e?void 0:e.chains),m.reset("ConnectWallet"),n&&r)q.open=!0,t();else{const e=setInterval((()=>{const n=E.state;n.isUiLoaded&&n.isDataLoaded&&(clearInterval(e),q.open=!0,t())}),200)}})),close(){q.open=!1}};var V=Object.defineProperty,$=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const W=f({themeMode:"undefined"!==typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),J={state:W,subscribe:e=>p(W,(()=>e(W))),setThemeConfig(e){const{themeMode:t,themeVariables:n}=e;t&&(W.themeMode=t),n&&(W.themeVariables=((e,t)=>{for(var n in t||(t={}))G.call(t,n)&&Q(e,n,t[n]);if($)for(var n of $(t))K.call(t,n)&&Q(e,n,t[n]);return e})({},n))}},Y=f({open:!1,message:"",variant:"success"}),Z={state:Y,subscribe:e=>p(Y,(()=>e(Y))),openToast(e,t){Y.open=!0,Y.message=e,Y.variant=t},closeToast(){Y.open=!1}}},7790:()=>{},7794:(e,t,n)=>{"use strict";var r=n(6373),i=n(1172),s=n(6864),o=n(6697),a=n(8462),c=s.assert,l=n(109),u=n(9300);function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new r(2));;){var o=new r(t.generate(n));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(e,t,n){var i;if(r.isBN(e)||"number"===typeof e)i=(e=new r(e,16)).byteLength();else if("object"===typeof e)i=e.length,e=new r(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new r(s,16)}"number"!==typeof n&&(n=8*i);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,n,s){if("object"===typeof n&&(s=n,n=null),s||(s={}),"string"!==typeof e&&"number"!==typeof e&&!r.isBN(e)){c("object"===typeof e&&e&&"number"===typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var o=0;o<e.length;o++)c((255&e[o])===e[o])}t=this.keyFromPrivate(t,n),e=this._truncateToN(e,!1,s.msgBitLength),c(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),l=t.getPrivate().toArray("be",a),h=e.toArray("be",a);c(new r(h).eq(e),"Can not sign message");for(var d=new i({hash:this.hash,entropy:l,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new r(1)),p=0;;p++){var g=s.k?s.k(p):new r(d.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(f)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var y=m.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var v=g.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var w=(m.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),w^=1),new u({r:b,s:v,recoveryParam:w})}}}}}},h.prototype.verify=function(e,t,n,r,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),n=this.keyFromPublic(n,r);var s=(t=new u(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,n.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,n.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(e,t,n,i){c((3&n)===n,"The recovery param is more than two bits"),t=new u(t,i);var s=this.n,o=new r(e),a=t.r,l=t.s,h=1&n,d=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),g=l.mul(f).umod(s);return this.g.mulAdd(p,a,g)},h.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new u(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},7849:(e,t,n)=>{"use strict";var r=t;r.base=n(6588),r.short=n(8475),r.mont=n(7043),r.edwards=n(5697)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8086:(e,t,n)=>{"use strict";var r=t;r.version=n(1636).rE,r.utils=n(6864),r.rand=n(8462),r.curve=n(7849),r.curves=n(6697),r.ec=n(7794),r.eddsa=n(4661)},8129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6613);r.__exportStar(n(364),t),r.__exportStar(n(6454),t)},8251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(8951),t),r.__exportStar(n(5746),t)},8462:(e,t,n)=>{var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=n(3776);if("function"!==typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(o){}},8475:(e,t,n)=>{"use strict";var r=n(6864),i=n(6373),s=n(6329),o=n(6588),a=r.assert;function c(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,n,r){o.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,n,r){o.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?n=s[0]:(n=s[1],a(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(s).fromRed(),r.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,r,s,o,a,c,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),y=new i(1),b=0;0!==d.cmpn(0);){var v=f.div(d);l=f.sub(v.mul(d)),u=m.sub(v.mul(p));var w=y.sub(v.mul(g));if(!r&&l.cmp(h)<0)t=c.neg(),n=p,r=l.neg(),s=u;else if(r&&2===++b)break;c=l,f=d,d=l,m=p,p=u,y=g,g=w}o=l.neg(),a=u;var E=r.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(E)>=0&&(o=t,a=n),r.negative&&(r=r.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),a=s.mul(r.a),c=i.mul(n.b),l=s.mul(r.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(t&&!s||!t&&s)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),r[2*s]=a,r[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,r,i,2*s,n),u=0;u<2*s;u++)r[u]=null,i[u]=null;return l},s(l,o.BasePoint),c.prototype.point=function(e,t,n){return new l(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var s=t[2];return r.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[r].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[r].concat(s.naf.points.map(i))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},l.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(e,t,n){return new u(this,e,t,n)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),a=r.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=r.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=n.redSub(r),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=n.redMul(c),h=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(h)).redISub(i.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=f.redMul(m);y=y.redIAdd(y).redISub(d);var b=l.redMul(a);t+1<e&&(c=c.redMul(d)),s=g,a=b,l=y}return this.curve.jpoint(s,l.redMul(i),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(s);o=o.redIAdd(o);var a=r.redAdd(r).redIAdd(r),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},u.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(s);o=o.redIAdd(o);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=f.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,n)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),s=t.redSqr(),o=n.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(r),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(a).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(n).redISub(a);return this.curve.jpoint(h,d,f)},u.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},8836:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e){if(!((t=e)instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function s(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}n.d(t,{CC:()=>o,DO:()=>i,Fe:()=>r,Ht:()=>a,sd:()=>s})},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9038:(e,t,n)=>{var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=m(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=h(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function A(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(s){console.warn("Response "+s.message)}}})),t}function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},v.call(E.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var I=[301,302,303,307,308];x.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(k){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function P(e,n){return new Promise((function(i,s){var a=new E(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:S(l.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout((function(){i(new x(t,e))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"===typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){f.push(h(e)),l.setRequestHeader(e,d(n.headers[e]))})),a.headers.forEach((function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}P.polyfill=!0,r.fetch||(r.fetch=P,r.Headers=p,r.Request=E,r.Response=x),t.Headers=p,t.Request=E,t.Response=x,t.fetch=P,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},9112:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},9300:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864),s=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;if(0===e[t.place])return!1;for(var i=0,s=0,o=t.place;s<r;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function l(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new a;if(48!==e[n.place++])return!1;var s=c(e,n);if(!1===s)return!1;if(s+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=c(e,n);if(!1===o)return!1;if(0!==(128&e[n.place]))return!1;var l=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var u=c(e,n);if(!1===u)return!1;if(e.length!==u+n.place)return!1;if(0!==(128&e[n.place]))return!1;var h=e.slice(n.place,u+n.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new r(l),this.s=new r(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=l(t),n=l(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];u(r,t.length),(r=r.concat(t)).push(2),u(r,n.length);var s=r.concat(n),o=[48];return u(o,s.length),o=o.concat(s),i.encode(o,e)}},9332:(e,t,n)=>{"use strict";t.g=void 0;const r=n(33);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(s){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.getElementsByTagName("meta");for(let e=0;e<i.length;e++){const t=i[e],r=["itemprop","property","name"].map((e=>t.getAttribute(e))).filter((e=>!!e&&n.includes(e)));if(r.length&&r){const e=t.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},9848:(e,t)=>{"use strict";var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),s=i>>8,o=255&i;s?n.push(s,o):n.push(o)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{126:"2ccf782d",453:"a8b591ce",846:"559ccb99"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="omega-nft-frontend:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/omega-nft-frontend/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],c=r[2],l=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkomega_nft_frontend=self.webpackChunkomega_nft_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>vo,My:()=>lo,Ph:()=>fo,lX:()=>po,Id:()=>bo,fg:()=>Ao,qj:()=>yo,aT:()=>ho,lq:()=>go,z:()=>mo,Q5:()=>xo});var t={};n.r(t),n.d(t,{identity:()=>bp});var r={};n.r(r),n.d(r,{base2:()=>vp});var i={};n.r(i),n.d(i,{base8:()=>wp});var s={};n.r(s),n.d(s,{base10:()=>Ep});var o={};n.r(o),n.d(o,{base16:()=>Ap,base16upper:()=>Sp});var a={};n.r(a),n.d(a,{base32:()=>xp,base32hex:()=>Op,base32hexpad:()=>Np,base32hexpadupper:()=>_p,base32hexupper:()=>Cp,base32pad:()=>Pp,base32padupper:()=>kp,base32upper:()=>Ip,base32z:()=>Tp});var c={};n.r(c),n.d(c,{base36:()=>Mp,base36upper:()=>Rp});var l={};n.r(l),n.d(l,{base58btc:()=>Lp,base58flickr:()=>Bp});var u={};n.r(u),n.d(u,{base64:()=>Dp,base64pad:()=>Up,base64url:()=>jp,base64urlpad:()=>zp});var h={};n.r(h),n.d(h,{base256emoji:()=>Vp});var d={};n.r(d),n.d(d,{sha256:()=>gg,sha512:()=>mg});var f={};n.r(f),n.d(f,{identity:()=>bg});var p={};n.r(p),n.d(p,{code:()=>wg,decode:()=>Ag,encode:()=>Eg,name:()=>vg});var g={};n.r(g),n.d(g,{code:()=>Pg,decode:()=>Og,encode:()=>kg,name:()=>Ig});var m=n(5043),y=n(4391);function b(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=e,i}async function v(e){const t=Object.keys(e),n=await Promise.all(t.map((t=>Promise.resolve(e[t]))));return n.reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function w(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&b(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function E(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(E).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return E(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${E(t)}: ${E(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function A(e,t){return e&&e.code===t}function S(e){return A(e,"CALL_EXCEPTION")}function x(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${E(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+E(t))}}r.push(`code=${t}`),r.push("version=6.13.5"),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return w(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&w(r,{shortMessage:i}),r}function I(e,t,n,r){if(!e)throw x(t,n,r)}function P(e,t,n,r){I(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function k(e,t,n){null==n&&(n=""),n&&(n=": "+n),I(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),I(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const O=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e}),[]);function C(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),I(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function N(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}P(!1,"invalid BytesLike value",t||"value",e)}function _(e,t){return N(e,t,!1)}function T(e,t){return N(e,t,!0)}function M(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function R(e){return M(e,!0)||e instanceof Uint8Array}const L="0123456789abcdef";function B(e){const t=_(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=L[(240&e)>>4]+L[15&e]}return n}function D(e){return"0x"+e.map((e=>B(e).substring(2))).join("")}function U(e){return M(e,!0)?(e.length-2)/2:_(e).length}function j(e,t,n){const r=_(e);return null!=n&&n>r.length&&I(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),B(r.slice(null==t?0:t,null==n?r.length:n))}function z(e,t,n){const r=_(e);I(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),B(i)}function F(e,t){return z(e,t,!0)}const q=BigInt(0),H=BigInt(1),V=9007199254740991;function $(e,t){const n=W(e,"value"),r=BigInt(Z(t,"width"));if(I(n>>r===q,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-H){return-((~n&(H<<r)-H)+H)}return n}function G(e,t){let n=Q(e,"value");const r=BigInt(Z(t,"width")),i=H<<r-H;if(n<q){n=-n,I(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(H<<r)-H)+H}return I(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function K(e,t){const n=W(e,"value"),r=BigInt(Z(t,"bits"));return n&(H<<r)-H}function Q(e,t){switch(typeof e){case"bigint":return e;case"number":return P(Number.isInteger(e),"underflow",t||"value",e),P(e>=-V&&e<=V,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){P(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}P(!1,"invalid BigNumberish value",t||"value",e)}function W(e,t){const n=Q(e,t);return I(n>=q,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const J="0123456789abcdef";function Y(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=J[n>>4],t+=J[15&n];return BigInt(t)}return Q(e)}function Z(e,t){switch(typeof e){case"bigint":return P(e>=-V&&e<=V,"overflow",t||"value",e),Number(e);case"number":return P(Number.isInteger(e),"underflow",t||"value",e),P(e>=-V&&e<=V,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Z(BigInt(e),t)}catch(n){P(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}P(!1,"invalid numeric value",t||"value",e)}function X(e,t){let n=W(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=Z(t,"width");for(I(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function ee(e){const t=W(e,"value");if(t===q)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function te(e){let t=B(R(e)?e:ee(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const ne=32,re=new Uint8Array(ne),ie=["then"],se={},oe=new WeakMap;function ae(e){return oe.get(e)}function ce(e,t){oe.set(e,t)}function le(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function ue(e,t,n){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof he?ue(ae(e),e,n):e)):e.reduce(((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof he&&(s=ue(ae(s),s,n)),e[r]=s),e}),{})}class he extends Array{#e;constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;r!==se&&(i=t,s=[],o=!1),super(i.length),i.forEach(((e,t)=>{this[t]=e}));const a=s.reduce(((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(ce(this,Object.freeze(i.map(((e,t)=>{const n=s[t];return null!=n&&1===a.get(n)?n:null})))),this.#e=[],null==this.#e&&this.#e,!o)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=Z(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&le(`index ${n}`,r),r}if(ie.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return ce(c,ae(this)),c}toArray(e){const t=[];return this.forEach(((n,r)=>{n instanceof Error&&le(`index ${r}`,n),e&&n instanceof he&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){const t=ae(this);return t.reduce(((n,r,i)=>(I(null!=r,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ue(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=ae(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new he(se,r,i)}filter(e,t){const n=ae(this),r=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&le(`index ${s}`,o),e.call(t,o,s,this)&&(r.push(o),i.push(n[s]))}return new he(se,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&le(`index ${r}`,i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=ae(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&le(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new he(se,e,t)}}function de(e){let t=ee(e);return I(t.length<=ne,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:ne,offset:t.length}),t.length!==ne&&(t=T(D([re.slice(t.length%ne),t]))),t}class fe{name;type;localName;dynamic;constructor(e,t,n,r){w(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){P(!1,e,this.localName,t)}}class pe{#t;#n;constructor(){this.#t=[],this.#n=0}get data(){return D(this.#t)}get length(){return this.#n}#r(e){return this.#t.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#r(T(e.data))}writeBytes(e){let t=T(e);const n=t.length%ne;return n&&(t=T(D([t,re.slice(n)]))),this.#r(t)}writeValue(e){return this.#r(de(e))}writeUpdatableValue(){const e=this.#t.length;return this.#t.push(re),this.#n+=ne,t=>{this.#t[e]=de(t)}}}class ge{allowLoose;#t;#i;#s;#o;#a;constructor(e,t,n){w(this,{allowLoose:!!t}),this.#t=T(e),this.#s=0,this.#o=null,this.#a=null!=n?n:1024,this.#i=0}get data(){return B(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#t)}#c(e){if(this.#o)return this.#o.#c(e);this.#s+=e,I(this.#a<1||this.#s<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:T(this.#t),offset:this.#i,length:e,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#l(e,t,n){let r=Math.ceil(t/ne)*ne;return this.#i+r>this.#t.length&&(this.allowLoose&&n&&this.#i+t<=this.#t.length?r=t:I(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:T(this.#t),length:this.#t.length,offset:this.#i+r})),this.#t.slice(this.#i,this.#i+r)}subReader(e){const t=new ge(this.#t.slice(this.#i+e),this.allowLoose,this.#a);return t.#o=this,t}readBytes(e,t){let n=this.#l(0,e,!!t);return this.#c(e),this.#i+=n.length,n.slice(0,e)}readValue(){return Y(this.readBytes(ne))}readIndex(){return Z(Y(this.readBytes(ne)))}}function me(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ye(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function be(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");me(e.outputLen),me(e.blockLen)}function ve(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function we(e,t){ye(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ee=BigInt(2**32-1),Ae=BigInt(32);function Se(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Ee),l:Number(e>>Ae&Ee)}:{h:0|Number(e>>Ae&Ee),l:0|Number(e&Ee)}}function xe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Se(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Ie=(e,t,n)=>e<<n|t>>>32-n,Pe=(e,t,n)=>t<<n|e>>>32-n,ke=(e,t,n)=>t<<n-32|e>>>64-n,Oe=(e,t,n)=>e<<n-32|t>>>64-n;const Ce={fromBig:Se,split:xe,toBig:(e,t)=>BigInt(e>>>0)<<Ae|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Ie,rotlSL:Pe,rotlBH:ke,rotlBL:Oe,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Ne=Ce,_e="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Te=e=>e instanceof Uint8Array,Me=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Re=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Le(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Te(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Be{clone(){return this._cloneInto()}}function De(e){const t=t=>e().update(Le(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(_e&&"function"===typeof _e.getRandomValues)return _e.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[je,ze,Fe]=[[],[],[]],qe=BigInt(0),He=BigInt(1),Ve=BigInt(2),$e=BigInt(7),Ge=BigInt(256),Ke=BigInt(113);for(let n=0,wN=He,EN=1,AN=0;n<24;n++){[EN,AN]=[AN,(2*EN+3*AN)%5],je.push(2*(5*AN+EN)),ze.push((n+1)*(n+2)/2%64);let e=qe;for(let t=0;t<7;t++)wN=(wN<<He^(wN>>$e)*Ke)%Ge,wN&Ve&&(e^=He<<(He<<BigInt(t))-He);Fe.push(e)}const[Qe,We]=xe(Fe,!0),Je=(e,t,n)=>n>32?ke(e,t,n):Ie(e,t,n),Ye=(e,t,n)=>n>32?Oe(e,t,n):Pe(e,t,n);class Ze extends Be{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,me(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Je(s,o,1)^n[t],c=Ye(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=ze[n],s=Je(t,i,r),o=Ye(t,i,r),a=je[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Qe[r],e[1]^=We[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ve(this);const{blockLen:t,state:n}=this,r=(e=Le(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){ve(this,!1),ye(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return me(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(we(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Ze(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Xe=(e,t,n)=>De((()=>new Ze(t,e,n))),et=Xe(1,136,32);let tt=!1;const nt=function(e){return et(e)};let rt=nt;function it(e){const t=_(e,"data");return B(rt(t))}it._=nt,it.lock=function(){tt=!0},it.register=function(e){if(tt)throw new TypeError("keccak256 is locked");rt=e},Object.freeze(it);const st=BigInt(0),ot=BigInt(36);function at(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=_(it(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const ct={};for(let n=0;n<10;n++)ct[String(n)]=String(n);for(let n=0;n<26;n++)ct[String.fromCharCode(65+n)]=String(10+n);function lt(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ct[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const ut=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function ht(e){if(P("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=at(e);return P(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){P(e.substring(2,4)===lt(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=st;for(let n=0;n<e.length;n++)t=t*ot+ut[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return at("0x"+t)}P(!1,"invalid address","address",e)}const dt={};function ft(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new mt(dt,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function pt(e,t){return new mt(dt,`bytes${t||""}`,e,{size:t})}const gt=Symbol.for("_ethers_typed");class mt{type;value;#u;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),C(dt,e,"Typed"),w(this,{_typedSymbol:gt,type:t,value:n}),this.#u=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#u}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#u?-1:!1===this.#u?this.value.length:null}static from(e,t){return new mt(dt,e,t)}static uint8(e){return ft(e,8)}static uint16(e){return ft(e,16)}static uint24(e){return ft(e,24)}static uint32(e){return ft(e,32)}static uint40(e){return ft(e,40)}static uint48(e){return ft(e,48)}static uint56(e){return ft(e,56)}static uint64(e){return ft(e,64)}static uint72(e){return ft(e,72)}static uint80(e){return ft(e,80)}static uint88(e){return ft(e,88)}static uint96(e){return ft(e,96)}static uint104(e){return ft(e,104)}static uint112(e){return ft(e,112)}static uint120(e){return ft(e,120)}static uint128(e){return ft(e,128)}static uint136(e){return ft(e,136)}static uint144(e){return ft(e,144)}static uint152(e){return ft(e,152)}static uint160(e){return ft(e,160)}static uint168(e){return ft(e,168)}static uint176(e){return ft(e,176)}static uint184(e){return ft(e,184)}static uint192(e){return ft(e,192)}static uint200(e){return ft(e,200)}static uint208(e){return ft(e,208)}static uint216(e){return ft(e,216)}static uint224(e){return ft(e,224)}static uint232(e){return ft(e,232)}static uint240(e){return ft(e,240)}static uint248(e){return ft(e,248)}static uint256(e){return ft(e,256)}static uint(e){return ft(e,256)}static int8(e){return ft(e,-8)}static int16(e){return ft(e,-16)}static int24(e){return ft(e,-24)}static int32(e){return ft(e,-32)}static int40(e){return ft(e,-40)}static int48(e){return ft(e,-48)}static int56(e){return ft(e,-56)}static int64(e){return ft(e,-64)}static int72(e){return ft(e,-72)}static int80(e){return ft(e,-80)}static int88(e){return ft(e,-88)}static int96(e){return ft(e,-96)}static int104(e){return ft(e,-104)}static int112(e){return ft(e,-112)}static int120(e){return ft(e,-120)}static int128(e){return ft(e,-128)}static int136(e){return ft(e,-136)}static int144(e){return ft(e,-144)}static int152(e){return ft(e,-152)}static int160(e){return ft(e,-160)}static int168(e){return ft(e,-168)}static int176(e){return ft(e,-176)}static int184(e){return ft(e,-184)}static int192(e){return ft(e,-192)}static int200(e){return ft(e,-200)}static int208(e){return ft(e,-208)}static int216(e){return ft(e,-216)}static int224(e){return ft(e,-224)}static int232(e){return ft(e,-232)}static int240(e){return ft(e,-240)}static int248(e){return ft(e,-248)}static int256(e){return ft(e,-256)}static int(e){return ft(e,-256)}static bytes1(e){return pt(e,1)}static bytes2(e){return pt(e,2)}static bytes3(e){return pt(e,3)}static bytes4(e){return pt(e,4)}static bytes5(e){return pt(e,5)}static bytes6(e){return pt(e,6)}static bytes7(e){return pt(e,7)}static bytes8(e){return pt(e,8)}static bytes9(e){return pt(e,9)}static bytes10(e){return pt(e,10)}static bytes11(e){return pt(e,11)}static bytes12(e){return pt(e,12)}static bytes13(e){return pt(e,13)}static bytes14(e){return pt(e,14)}static bytes15(e){return pt(e,15)}static bytes16(e){return pt(e,16)}static bytes17(e){return pt(e,17)}static bytes18(e){return pt(e,18)}static bytes19(e){return pt(e,19)}static bytes20(e){return pt(e,20)}static bytes21(e){return pt(e,21)}static bytes22(e){return pt(e,22)}static bytes23(e){return pt(e,23)}static bytes24(e){return pt(e,24)}static bytes25(e){return pt(e,25)}static bytes26(e){return pt(e,26)}static bytes27(e){return pt(e,27)}static bytes28(e){return pt(e,28)}static bytes29(e){return pt(e,29)}static bytes30(e){return pt(e,30)}static bytes31(e){return pt(e,31)}static bytes32(e){return pt(e,32)}static address(e){return new mt(dt,"address",e)}static bool(e){return new mt(dt,"bool",!!e)}static bytes(e){return new mt(dt,"bytes",e)}static string(e){return new mt(dt,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new mt(dt,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===gt}static dereference(e,t){if(mt.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class yt extends fe{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=mt.dereference(t,"string");try{n=ht(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return ht(X(e.readValue(),20))}}class bt extends fe{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function vt(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map((t=>{const r=t.localName;return I(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),I(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else P(!1,"invalid tuple value","tuple",n);P(t.length===r.length,"types/value length mismatch","tuple",n);let i=new pe,s=new pe,o=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();o.push((e=>{r(e+t)}))}else e.encode(i,n)})),o.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function wt(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach((t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(o){if(A(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(o){if(A(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)})),he.fromItems(n,r)}class Et extends fe{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),w(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=mt.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),k(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return vt(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),I(t*ne<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*ne,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new bt(this.coder));return wt(e,n)}}class At extends fe{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=mt.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class St extends fe{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=T(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class xt extends St{constructor(e){super("bytes",e)}decode(e){return B(super.decode(e))}}class It extends fe{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),w(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=T(mt.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return B(e.readBytes(this.size))}}const Pt=new Uint8Array([]);class kt extends fe{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Pt)}decode(e){return e.readBytes(0),null}}const Ot=BigInt(0),Ct=BigInt(1),Nt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class _t extends fe{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),w(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=Q(mt.dereference(t,this.type)),r=K(Nt,256);if(this.signed){let e=K(r,8*this.size-1);(n>e||n<-(e+Ct))&&this._throwError("value out-of-bounds",t),n=G(n,256)}else(n<Ot||n>K(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=K(e.readValue(),8*this.size);return this.signed&&(t=$(t,8*this.size)),t}}function Tt(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const Mt=Object.freeze({error:function(e,t,n,r,i){P(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:Tt,replace:function(e,t,n,r,i){return"OVERLONG"===e?(P("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),Tt(e,t,n))}});function Rt(e,t){null==t&&(t=Mt.error);const n=_(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=t("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function Lt(e,t){P("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){I(O.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);P(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function Bt(e,t){return Rt(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Dt extends St{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Lt(mt.dereference(t,"string")))}decode(e){return Bt(super.decode(e))}}class Ut extends fe{coders;constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),w(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){const n=mt.dereference(t,"tuple");return vt(e,this.coders,n)}decode(e){return wt(e,this.coders)}}function jt(e){return it(Lt(e))}function zt(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const Ft=zt("external public payable override".split(" ")),qt="constant external internal payable private public pure view override",Ht=zt(qt.split(" ")),Vt="constructor error event fallback function receive struct",$t=zt(Vt.split(" ")),Gt="calldata memory storage payable indexed",Kt=zt(Gt.split(" ")),Qt=zt([Vt,Gt,"tuple returns",qt].join(" ").split(" ")),Wt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Jt=new RegExp("^(\\s*)"),Yt=new RegExp("^([0-9]+)"),Zt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Xt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),en=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class tn{#i;#h;get offset(){return this.#i}get length(){return this.#h.length-this.#i}constructor(e){this.#i=0,this.#h=e.slice()}clone(){return new tn(this.#h)}reset(){this.#i=0}#d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new tn(this.#h.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#d(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#i<e.match-1;){const e=this.peek().linkNext;t.push(this.#d(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#h.length)throw new Error("out-of-bounds");return this.#h[this.#i]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#i++,e}toString(){const e=[];for(let t=this.#i;t<this.#h.length;t++){const n=this.#h[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function nn(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error(`invalid token ${n} at ${s}: ${t}`)};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(Jt);a&&(s+=a[1].length,o=e.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=Wt[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=Z(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(Zt),a){if(c.text=a[1],s+=c.text.length,Qt.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(en)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match(Yt),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);c.text=a[1],c.type="NUMBER",s+=c.text.length}}return new tn(t.map((e=>Object.freeze(e))))}function rn(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function sn(e,t){if(t.peekKeyword($t)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function on(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function an(e){let t=on(e,Ht);return rn(t,zt("constant payable nonpayable".split(" "))),rn(t,zt("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function cn(e,t){return e.popParams().map((e=>An.from(e,t)))}function ln(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Q(e.pop().text);throw new Error("invalid gas")}return null}function un(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const hn=new RegExp(/^(.*)\[([0-9]*)\]$/);function dn(e){const t=e.match(en);if(P(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);P(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);P(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const fn={},pn=Symbol.for("_ethers_internal"),gn="_ParamTypeInternal",mn="_ErrorInternal",yn="_EventInternal",bn="_ConstructorInternal",vn="_FallbackInternal",wn="_FunctionInternal",En="_StructInternal";class An{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,i,s,o,a){if(C(e,fn,"ParamType"),Object.defineProperty(this,pn,{value:gn}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");w(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}#f(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach(((t,r)=>{i.#f(e,t,n,(e=>{s[r]=e}))})),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((t,r)=>{i[r].#f(e,t,n,(e=>{s[r]=e}))})),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}async walkAsync(e,t){const n=[],r=[e];return this.#f(n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(An.isParamType(e))return e;if("string"===typeof e)try{return An.from(nn(e),t)}catch(o){P(!1,"invalid param type","obj",e)}else if(e instanceof tn){let n="",r="",i=null;on(e,zt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map((e=>An.from(e))),n=`tuple(${i.map((e=>e.format())).join(",")})`):(n=dn(e.popType("TYPE")),r=n);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new An(fn,"",n,r,null,i,o,s),o=t.value,n+=t.text,r="array",i=null}let a=null;if(on(e,Kt).has("indexed")){if(!t)throw new Error("");a=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new An(fn,c,n,r,a,i,o,s)}const n=e.name;P(!n||"string"===typeof n&&n.match(Xt),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(P(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(hn);if(s){const t=parseInt(s[2]||"-1"),o=An.from({type:s[1],components:e.components});return new An(fn,n||"",i,"array",r,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>An.from(e))):null;return new An(fn,n||"",i,"tuple",r,t,null,null)}return i=dn(e.type),new An(fn,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[pn]===gn}}class Sn{type;inputs;constructor(e,t,n){C(e,fn,"Fragment"),w(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{Sn.from(JSON.parse(e))}catch(t){}return Sn.from(nn(e))}if(e instanceof tn){switch(e.peekKeyword($t)){case"constructor":return On.from(e);case"error":return Pn.from(e);case"event":return kn.from(e);case"fallback":case"receive":return Cn.from(e);case"function":return Nn.from(e);case"struct":return _n.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return On.from(e);case"error":return Pn.from(e);case"event":return kn.from(e);case"fallback":case"receive":return Cn.from(e);case"function":return Nn.from(e);case"struct":return _n.from(e)}I(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}P(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return On.isFragment(e)}static isError(e){return Pn.isFragment(e)}static isEvent(e){return kn.isFragment(e)}static isFunction(e){return Nn.isFragment(e)}static isStruct(e){return _n.isFragment(e)}}class xn extends Sn{name;constructor(e,t,n,r){super(e,t,r),P("string"===typeof n&&n.match(Xt),"invalid identifier","name",n),r=Object.freeze(r.slice()),w(this,{name:n})}}function In(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Pn extends xn{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,pn,{value:mn})}get selector(){return jt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+In(e,this.inputs)),t.join(" ")}static from(e){if(Pn.isFragment(e))return e;if("string"===typeof e)return Pn.from(nn(e));if(e instanceof tn){const t=sn("error",e),n=cn(e);return un(e),new Pn(fn,t,n)}return new Pn(fn,e.name,e.inputs?e.inputs.map(An.from):[])}static isFragment(e){return e&&e[pn]===mn}}class kn extends xn{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,pn,{value:yn}),w(this,{anonymous:r})}get topicHash(){return jt(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+In(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>An.from(e)));return new kn(fn,e,t,!1).topicHash}static from(e){if(kn.isFragment(e))return e;if("string"===typeof e)try{return kn.from(nn(e))}catch(t){P(!1,"invalid event fragment","obj",e)}else if(e instanceof tn){const t=sn("event",e),n=cn(e,!0),r=!!on(e,zt(["anonymous"])).has("anonymous");return un(e),new kn(fn,t,n,r)}return new kn(fn,e.name,e.inputs?e.inputs.map((e=>An.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[pn]===yn}}class On extends Sn{payable;gas;constructor(e,t,n,r,i){super(e,t,n),Object.defineProperty(this,pn,{value:bn}),w(this,{payable:r,gas:i})}format(e){if(I(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${In(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(On.isFragment(e))return e;if("string"===typeof e)try{return On.from(nn(e))}catch(t){P(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof tn){on(e,zt(["constructor"]));const t=cn(e),n=!!on(e,Ft).has("payable"),r=ln(e);return un(e),new On(fn,"constructor",t,n,r)}return new On(fn,"constructor",e.inputs?e.inputs.map(An.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[pn]===bn}}class Cn extends Sn{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,pn,{value:vn}),w(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Cn.isFragment(e))return e;if("string"===typeof e)try{return Cn.from(nn(e))}catch(t){P(!1,"invalid fallback fragment","obj",e)}else if(e instanceof tn){const t=e.toString();P(e.peekKeyword(zt(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(zt(["fallback","receive"]))){const t=cn(e);return P(0===t.length,"receive cannot have arguments","obj.inputs",t),on(e,zt(["payable"])),un(e),new Cn(fn,[],!0)}let n=cn(e);n.length?P(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[An.from("bytes")];const r=an(e);if(P("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),on(e,zt(["returns"])).has("returns")){const t=cn(e);P(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return un(e),new Cn(fn,n,"payable"===r)}if("receive"===e.type)return new Cn(fn,[],!0);if("fallback"===e.type){const t=[An.from("bytes")],n="payable"===e.stateMutability;return new Cn(fn,t,n)}P(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[pn]===vn}}class Nn extends xn{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,i,s){super(e,"function",t,r),Object.defineProperty(this,pn,{value:wn});w(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return jt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+In(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(In(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>An.from(e)));return new Nn(fn,e,"view",t,[],null).selector}static from(e){if(Nn.isFragment(e))return e;if("string"===typeof e)try{return Nn.from(nn(e))}catch(n){P(!1,"invalid function fragment","obj",e)}else if(e instanceof tn){const t=sn("function",e),n=cn(e),r=an(e);let i=[];on(e,zt(["returns"])).has("returns")&&(i=cn(e));const s=ln(e);return un(e),new Nn(fn,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Nn(fn,e.name,t,e.inputs?e.inputs.map(An.from):[],e.outputs?e.outputs.map(An.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[pn]===wn}}class _n extends xn{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,pn,{value:En})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return _n.from(nn(e))}catch(t){P(!1,"invalid struct fragment","obj",e)}else if(e instanceof tn){const t=sn("struct",e),n=cn(e);return un(e),new _n(fn,t,n)}return new _n(fn,e.name,e.inputs?e.inputs.map(An.from):[])}static isFragment(e){return e&&e[pn]===En}}const Tn=new Map;Tn.set(0,"GENERIC_PANIC"),Tn.set(1,"ASSERT_FALSE"),Tn.set(17,"OVERFLOW"),Tn.set(18,"DIVIDE_BY_ZERO"),Tn.set(33,"ENUM_RANGE_ERROR"),Tn.set(34,"BAD_STORAGE_DATA"),Tn.set(49,"STACK_UNDERFLOW"),Tn.set(50,"ARRAY_RANGE_ERROR"),Tn.set(65,"OUT_OF_MEMORY"),Tn.set(81,"UNINITIALIZED_FUNCTION_CALL");const Mn=new RegExp(/^bytes([0-9]*)$/),Rn=new RegExp(/^(u?int)([0-9]*)$/);let Ln=null,Bn=1024;class Dn{#p(e){if(e.isArray())return new Et(this.#p(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Ut(e.components.map((e=>this.#p(e))),e.name);switch(e.baseType){case"address":return new yt(e.name);case"bool":return new At(e.name);case"string":return new Dt(e.name);case"bytes":return new xt(e.name);case"":return new kt(e.name)}let t=e.type.match(Rn);if(t){let n=parseInt(t[2]||"256");return P(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new _t(n/8,"int"===t[1],e.name)}if(t=e.type.match(Mn),t){let n=parseInt(t[1]);return P(0!==n&&n<=32,"invalid bytes length","param",e),new It(n,e.name)}P(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#p(An.from(e))));return new Ut(t,"_").defaultValue()}encode(e,t){k(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#p(An.from(e)))),r=new Ut(n,"_"),i=new pe;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>this.#p(An.from(e))));return new Ut(r,"_").decode(new ge(t,n,Bn))}static _setDefaultMaxInflation(e){P("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Bn=e}static defaultAbiCoder(){return null==Ln&&(Ln=new Dn),Ln}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const e=_(n);if(n=B(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===B(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===B(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${Tn.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?ht(t.to):null,data:t.data||"0x"};return t.from&&(a.from=ht(t.from)),x(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:null,revert:o})}(e,t,n,Dn.defaultAbiCoder())}}function Un(e){return e&&"function"===typeof e.getAddress}async function jn(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(I("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),P(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),ht(n)}function zn(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?ht(e):(I(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),jn(e,t.resolveName(e))):Un(e)?jn(e,e.getAddress()):e&&"function"===typeof e.then?jn(e,e):void P(!1,"unsupported addressable value","target",e)}const Fn=new Uint8Array(32);Fn.fill(0);const qn=BigInt(-1),Hn=BigInt(0),Vn=BigInt(1),$n=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Gn=X(Vn,32),Kn=X(Hn,32),Qn={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wn=["name","version","chainId","verifyingContract","salt"];function Jn(e){return function(t){return P("string"===typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Yn={name:Jn("name"),version:Jn("version"),chainId:function(e){const t=Q(e,"domain.chainId");return P(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):te(t)},verifyingContract:function(e){try{return ht(e).toLowerCase()}catch(t){}P(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=_(e,"domain.salt");return P(32===t.length,'invalid domain value "salt"',"domain.salt",e),B(t)}};function Zn(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);P(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=K($n,n?r-1:r),s=n?(i+Vn)*qn:Hn;return function(t){const r=Q(t,"value");return P(r>=s&&r<=i,`value out-of-bounds for ${e}`,"value",r),X(n?G(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return P(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return P(_(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=_(e),n=t.length%32;return n?D([t,Fn.slice(n)]):B(t)}(t)}}}switch(e){case"address":return function(e){return F(ht(e),32)};case"bool":return function(e){return e?Gn:Kn};case"bytes":return function(e){return it(e)};case"string":return function(e){return jt(e)}}return null}function Xn(e,t){return`${e}(${t.map((e=>{let{name:t,type:n}=e;return n+" "+t})).join(",")})`}function er(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class tr{primaryType;#g;get types(){return JSON.parse(this.#g)}#m;#y;constructor(e){this.#m=new Map,this.#y=new Map;const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach((s=>{i[s]=e[s].map((t=>{let{name:n,type:r}=t,{base:i,index:s}=er(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}})),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)})),this.#g=JSON.stringify(i);for(const o in i){const r=new Set;for(const s of i[o]){P(!r.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(o)}`,"types",e),r.add(s.name);const i=er(s.type).base;P(i!==o,`circular type reference to ${JSON.stringify(i)}`,"types",e);Zn(i)||(P(n.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),n.get(i).push(o),t.get(o).add(i))}}const s=Array.from(n.keys()).filter((e=>0===n.get(e).length));P(0!==s.length,"missing primary type","types",e),P(1===s.length,`ambiguous primary types or unused types: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),w(this,{primaryType:s[0]}),function i(s,o){P(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s);for(const e of t.get(s))if(n.has(e)){i(e,o);for(const t of o)r.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of r){const e=Array.from(a);e.sort(),this.#m.set(o,Xn(o,i[o])+e.map((e=>Xn(e,i[e]))).join(""))}}getEncoder(e){let t=this.#y.get(e);return t||(t=this.#b(e),this.#y.set(e,t)),t}#b(e){{const t=Zn(e);if(t)return t}const t=er(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{P(-1===t.count||t.count===r.length,`array length mismatch; expected length ${t.count}`,"value",r);let i=r.map(n);return this.#m.has(e)&&(i=i.map(it)),it(D(i))}}const n=this.types[e];if(n){const t=jt(this.#m.get(e));return e=>{const r=n.map((t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return this.#m.has(r)?it(i):i}));return r.unshift(t),D(r)}}P(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#m.get(e);return P(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return it(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Zn(e))return n(e,t);const r=er(e).array;if(r)return P(-1===r.count||r.count===t.length,`array length mismatch; expected length ${r.count}`,"value",t),t.map((e=>this._visit(r.prefix,e,n)));const i=this.types[e];if(i)return i.reduce(((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e}),{});P(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new tr(e)}static getPrimaryType(e){return tr.from(e).primaryType}static hashStruct(e,t,n){return tr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Qn[n];P(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>Wn.indexOf(e.name)-Wn.indexOf(t.name))),tr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return D(["0x1901",tr.hashDomain(e),tr.from(t).hash(n)])}static hash(e,t,n){return it(tr.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!M(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=tr.from(t);s.visit(n,((e,t)=>("address"!==e||M(t,20)||(i[t]="0x"),t)));for(const o in i)i[o]=await r(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,n){tr.hashDomain(e);const r={},i=[];Wn.forEach((t=>{const n=e[t];null!=n&&(r[t]=Yn[t](n),i.push({name:t,type:Qn[t]}))}));const s=tr.from(t);t=s.types;const o=Object.assign({},t);return P(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(n),{types:o,domain:r,primaryType:s.primaryType,message:s.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return B(_(t));if(e.match(/^u?int/))return Q(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return P("string"===typeof t,"invalid string","value",t),t}P(!1,"unsupported type","type",e)}))}}}function nr(e,t){return{address:ht(e),storageKeys:t.map(((e,t)=>(P(M(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function rr(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(P(2===t.length,"invalid slot set",`value[${n}]`,t),nr(t[0],t[1])):(P(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),nr(t.address,t.storageKeys))));P(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return nr(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function ir(e){return async function(e,t){I(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const n=e.url.split(":")[0].toLowerCase();I("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),I("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const i=new AbortController,s=setTimeout((()=>{r=x("request timeout","TIMEOUT"),i.abort()}),e.timeout);t&&t.addListener((()=>{r=x("request cancelled","CANCELLED"),i.abort()}));const o={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:i.signal};let a;try{a=await fetch(e.url,o)}catch(h){if(clearTimeout(s),r)throw r;throw h}clearTimeout(s);const c={};a.headers.forEach(((e,t)=>{c[t.toLowerCase()]=e}));const l=await a.arrayBuffer(),u=null==l?null:new Uint8Array(l);return{statusCode:a.status,statusMessage:a.statusText,headers:c,body:u}}}ir();let sr=ir();const or=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),ar=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let cr=!1;async function lr(e,t){try{const t=e.match(or);if(!t)throw new Error("invalid data");return new mr(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return _(t)}(t[3]):Lt(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(n){return new mr(599,"BAD REQUEST (invalid data: URI)",{},null,new gr(e))}}function ur(e){return async function(t,n){try{const n=t.match(ar);if(!n)throw new Error("invalid link");return new gr(`${e}${n[2]}`)}catch(r){return new mr(599,"BAD REQUEST (invalid IPFS URI)",{},null,new gr(t))}}}const hr={data:lr,ipfs:ur("https://gateway.ipfs.io/ipfs/")},dr=new WeakMap;class fr{#v;#w;constructor(e){this.#v=[],this.#w=!1,dr.set(e,(()=>{if(!this.#w){this.#w=!0;for(const e of this.#v)setTimeout((()=>{e()}),0);this.#v=[]}}))}addListener(e){I(!this.#w,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#v.push(e)}get cancelled(){return this.#w}checkSignal(){I(!this.cancelled,"cancelled","CANCELLED",{})}}function pr(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class gr{#E;#A;#S;#x;#I;#P;#k;#O;#C;#N;#_;#T;#M;#R;#L;get url(){return this.#P}set url(e){this.#P=String(e)}get body(){return null==this.#k?null:new Uint8Array(this.#k)}set body(e){if(null==e)this.#k=void 0,this.#O=void 0;else if("string"===typeof e)this.#k=Lt(e),this.#O="text/plain";else if(e instanceof Uint8Array)this.#k=e,this.#O="application/octet-stream";else{if("object"!==typeof e)throw new Error("invalid body");this.#k=Lt(JSON.stringify(e)),this.#O="application/json"}}hasBody(){return null!=this.#k}get method(){return this.#x?this.#x:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#x=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#S);return this.#C&&(e.authorization=`Basic ${function(e){const t=_(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(Lt(this.#C))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#O&&(e["content-type"]=this.#O),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#S[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#S={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#C||null}setCredentials(e,t){P(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#C=`${e}:${t}`}get allowGzip(){return this.#A}set allowGzip(e){this.#A=!!e}get allowInsecureAuthentication(){return!!this.#E}set allowInsecureAuthentication(e){this.#E=!!e}get timeout(){return this.#I}set timeout(e){P(e>=0,"timeout must be non-zero","timeout",e),this.#I=e}get preflightFunc(){return this.#N||null}set preflightFunc(e){this.#N=e}get processFunc(){return this.#_||null}set processFunc(e){this.#_=e}get retryFunc(){return this.#T||null}set retryFunc(e){this.#T=e}get getUrlFunc(){return this.#L||sr}set getUrlFunc(e){this.#L=e}constructor(e){this.#P=String(e),this.#E=!1,this.#A=!0,this.#S={},this.#x="",this.#I=3e5,this.#R={slotInterval:250,maxAttempts:12},this.#L=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#k?B(this.#k):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#R.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#R.maxAttempts=e.maxAttempts)}async#B(e,t,n,r,i){if(e>=this.#R.maxAttempts)return i.makeServerError("exceeded maximum retry limit");I(yr()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in hr){const e=await hr[o](s.url,pr(r.#M));if(e instanceof mr){let t=e;if(this.processFunc){pr(r.#M);try{t=await this.processFunc(s,t)}catch(l){null!=l.throttle&&"number"===typeof l.stall||t.makeServerError("error in post-processing function",l).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,pr(r.#M));let c=new mr(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===c.statusCode||302===c.statusCode){try{const n=c.headers.location||"";return s.redirect(n).#B(e+1,t,0,r,c)}catch(l){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){const n=c.headers["retry-after"];let i=this.#R.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),s.clone().#B(e+1,t,i,r,c)}if(this.processFunc){pr(r.#M);try{c=await this.processFunc(s,c)}catch(l){null!=l.throttle&&"number"===typeof l.stall||c.makeServerError("error in post-processing function",l).assertOk();let n=this.#R.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return l.stall>=0&&(n=l.stall),s.clone().#B(e+1,t,n,r,c)}}return c}send(){return I(null==this.#M,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#M=new fr(this),this.#B(0,yr()+this.timeout,0,this,new mr(0,"",{},null,this))}cancel(){I(null!=this.#M,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=dr.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();I("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new gr(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#S=Object.assign({},this.#S),this.#k&&(r.#k=new Uint8Array(this.#k)),r.#O=this.#O,r}clone(){const e=new gr(this.url);return e.#x=this.#x,this.#k&&(e.#k=this.#k),e.#O=this.#O,e.#S=Object.assign({},this.#S),e.#C=this.#C,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#N=this.#N,e.#_=this.#_,e.#T=this.#T,e.#R=Object.assign({},this.#R),e.#L=this.#L,e}static lockConfig(){cr=!0}static getGateway(e){return hr[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(cr)throw new Error("gateways locked");hr[e]=t}static registerGetUrl(e){if(cr)throw new Error("gateways locked");sr=e}static createGetUrlFunc(e){return ir()}static createDataGateway(){return lr}static createIpfsGatewayFunc(e){return ur(e)}}class mr{#D;#U;#S;#k;#j;#z;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#k?B(this.#k):"null"}>`}get statusCode(){return this.#D}get statusMessage(){return this.#U}get headers(){return Object.assign({},this.#S)}get body(){return null==this.#k?null:new Uint8Array(this.#k)}get bodyText(){try{return null==this.#k?"":Bt(this.#k)}catch(e){I(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){I(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){this.#D=e,this.#U=t,this.#S=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#k=null==r?null:new Uint8Array(r),this.#j=i||null,this.#z={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new mr(599,n,this.headers,this.body,this.#j||void 0);return r.#z={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:P(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw w(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#k}get request(){return this.#j}ok(){return""===this.#z.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#z;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let r=null;try{this.#k&&(r=Bt(this.#k))}catch(i){}I(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function yr(){return(new Date).getTime()}const br="0x0000000000000000000000000000000000000000";class vr{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,i=e.format();w(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class wr{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const i=e.name,s=e.format();w(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class Er{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,i=e.format();w(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class Ar{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){w(this,{hash:e,_isIndexed:!0})}}const Sr={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},xr={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Sr[e.toString()]&&(t=Sr[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class Ir{fragments;deploy;fallback;receive;#F;#q;#H;#V;constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,this.#H=new Map,this.#F=new Map,this.#q=new Map;const n=[];for(const o of t)try{n.push(Sn.from(o))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,s.message)}w(this,{fragments:Object.freeze(n)});let r=null,i=!1;this.#V=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void w(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(P(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,i=r.payable));case"function":n=this.#H;break;case"event":n=this.#q;break;case"error":n=this.#F;break;default:return}const s=e.format();n.has(s)||n.set(s,e)})),this.deploy||w(this,{deploy:On.from("constructor()")}),w(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full",n=this.fragments.map((e=>e.format(t)));return n}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return Dn.defaultAbiCoder()}#$(e,t,n){if(M(e)){const t=e.toLowerCase();for(const e of this.#H.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#H)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;mt.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(mt.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");P(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return r[0]}const r=this.#H.get(Nn.from(e).format());return r||null}getFunctionName(e){const t=this.#$(e,null,!1);return P(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#$(e,null,!1)}getFunction(e,t){return this.#$(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#H.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#H.get(r),n)}}#G(e,t,n){if(M(e)){const t=e.toLowerCase();for(const e of this.#q.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#q)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(mt.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");P(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return r[0]}const r=this.#q.get(kn.from(e).format());return r||null}getEventName(e){const t=this.#G(e,null,!1);return P(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#G(e,null,!1)}getEvent(e,t){return this.#G(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#q.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#q.get(r),n)}}getError(e,t){if(M(e)){const t=e.toLowerCase();if(xr[t])return Pn.from(xr[t].signature);for(const e of this.#F.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#F)n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?Pn.from("error Error(string)"):"Panic"===e?Pn.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map((e=>JSON.stringify(e.format()))).join(", ");P(!1,`ambiguous error description (i.e. ${n})`,"name",e)}return t[0]}if("Error(string)"===(e=Pn.from(e).format()))return Pn.from("error Error(string)");if("Panic(uint256)"===e)return Pn.from("error Panic(uint256)");const n=this.#F.get(e);return n||null}forEachError(e){const t=Array.from(this.#F.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#F.get(r),n)}}_decodeParams(e,t){return this.#V.decode(e,t)}_encodeParams(e,t){return this.#V.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);P(t,"unknown error","fragment",e),e=t}return P(j(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,j(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);P(t,"unknown error","fragment",e),e=t}return D([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}return P(j(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,j(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}return D([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=T(t);if(r.length%32===0)try{return this.#V.decode(e.outputs,r)}catch(i){n="could not decode result data"}I(!1,n,"BAD_DATA",{value:B(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=_(e,"data"),r=Dn.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=B(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#V.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(s){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}return B(this.#V.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);P(t,"unknown event","eventFragment",e),e=t}I(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?jt(t):"bytes"===e.type?it(B(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=X(t):e.type.match(/^bytes/)?t=z(t,32,!1):"address"===e.type&&this.#V.encode(["address"],[t]),F(B(t),32));for(t.forEach(((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?P(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map((e=>r(s,e)))):n.push(r(s,t)):P(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);P(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),P(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)n.push(jt(o));else if("bytes"===e.type)n.push(it(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#V.encode([e.type],[o]))}else r.push(e),i.push(o)})),{data:this.#V.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);P(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;P(M(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(An.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))}));const o=null!=n?this.#V.decode(r,D(n)):null,a=this.#V.decode(i,t,!0),c=[],l=[];let u=0,h=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new Ar(null);else if(s[t])n=new Ar(o[h++]);else try{n=o[h++]}catch(r){n=r}else try{n=a[u++]}catch(r){n=r}c.push(n),l.push(e.name||null)})),he.fromItems(c,l)}parseTransaction(e){const t=_(e.data,"tx.data"),n=Q(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(B(t.slice(0,4)));if(!r)return null;const i=this.#V.decode(r.inputs,t.slice(4));return new wr(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new vr(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=B(e),n=this.getError(j(t,0,4));if(!n)return null;const r=this.#V.decode(n.inputs,j(t,4));return new Er(n,n.selector,r)}static from(e){return e instanceof Ir?e:"string"===typeof e?new Ir(JSON.parse(e)):"function"===typeof e.formatJson?new Ir(e.formatJson()):"function"===typeof e.format?new Ir(e.format("json")):new Ir(e)}}const Pr=BigInt(0);function kr(e){return null==e?null:e}function Or(e){return null==e?null:e.toString()}class Cr{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){w(this,{gasPrice:kr(e),maxFeePerGas:kr(t),maxPriorityFeePerGas:kr(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Or(e),maxFeePerGas:Or(t),maxPriorityFeePerGas:Or(n)}}}function Nr(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=B(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=Q(e[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=Z(e[i],`request.${i}`));return e.accessList&&(t.accessList=rr(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>R(e)?B(e):Object.assign({},e)))),t}class _r{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#K;constructor(e,t){this.#K=e.transactions.map((e=>"string"!==typeof e?new Rr(e,t):e)),w(this,{provider:t,hash:kr(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:kr(e.prevRandao),extraData:e.extraData,baseFeePerGas:kr(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#K.map((e=>"string"===typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#K.slice();return 0===e.length?[]:(I("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:Or(e),difficulty:Or(t),extraData:n,gasLimit:Or(r),gasUsed:Or(i),blobGasUsed:Or(this.blobGasUsed),excessBlobGas:Or(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,timestamp:p,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#K.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=this.#K[e];else{const n=e.toLowerCase();for(const e of this.#K){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;P(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class Tr{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());w(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return I(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return I(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return I(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class Mr{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#Q;constructor(e,t){this.#Q=Object.freeze(e.logs.map((e=>new Tr(e,t))));let n=Pr;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),w(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#Q}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:n,cumulativeGasUsed:Or(this.cumulativeGasUsed),from:t,gasPrice:Or(this.gasPrice),blobGasUsed:Or(this.blobGasUsed),blobGasPrice:Or(this.blobGasPrice),gasUsed:Or(this.gasUsed),hash:r,index:i,logs:c,logsBloom:a,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Br(this)}reorderedEvent(e){return I(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Lr(this,e)}}class Rr{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#W;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#W=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:o,nonce:a,data:c,signature:l,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:Or(this.chainId),data:c,from:o,gasLimit:Or(this.gasLimit),gasPrice:Or(this.gasPrice),hash:r,maxFeePerGas:Or(this.maxFeePerGas),maxPriorityFeePerGas:Or(this.maxPriorityFeePerGas),maxFeePerBlobGas:Or(this.maxFeePerBlobGas),nonce:a,signature:l,to:s,index:n,type:i,value:Or(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await v({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=this.#W,s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await v({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<this.#W&&(s=this.#W));s<=e;){if(o)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===Pr&&(r="cancelled"),I(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},c=e=>{if(null==e||0!==e.status)return e;I(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(l);if(l){if(await l.confirmations()>=n)return c(l)}else if(await a(),0===n)return null;const u=new Promise(((e,t)=>{const s=[],l=()=>{s.forEach((e=>e()))};if(s.push((()=>{o=!0})),r>0){const e=setTimeout((()=>{l(),t(x("wait for transaction timeout","TIMEOUT"))}),r);s.push((()=>{clearTimeout(e)}))}const u=async r=>{if(await r.confirmations()>=n){l();try{e(c(r))}catch(i){t(i)}}};if(s.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await a()}catch(n){if(A(n,"TRANSACTION_REPLACED"))return l(),void t(n)}o||this.provider.once("block",e)};s.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return I(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Br(this)}reorderedEvent(e){return I(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),I(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Lr(this,e)}replaceableTransaction(e){P(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Rr(this,this.provider);return t.#W=e,t}}function Lr(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Br(e){return{orphan:"drop-transaction",tx:e}}class Dr{filter;emitter;#J;constructor(e,t,n){this.#J=t,w(this,{emitter:e,filter:n})}async removeListener(){null!=this.#J&&await this.emitter.off(this.filter,this.#J)}}class Ur extends Tr{interface;fragment;args;constructor(e,t,n){super(e,e.provider);w(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class jr extends Tr{error;constructor(e,t){super(e,e.provider),w(this,{error:t})}}class zr extends Mr{#Y;constructor(e,t,n){super(n,t),this.#Y=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#Y.getEvent(e.topics[0]):null;if(t)try{return new Ur(e,this.#Y,t)}catch(n){return new jr(e,n)}return e}))}}class Fr extends Rr{#Y;constructor(e,t,n){super(n,t),this.#Y=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new zr(this.#Y,this.provider,n)}}class qr extends Dr{log;constructor(e,t,n,r){super(e,t,n),w(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Hr extends qr{constructor(e,t,n,r,i){super(e,t,n,new Ur(i,e.interface,r));w(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Vr=BigInt(0);function $r(e){return e&&"function"===typeof e.call}function Gr(e){return e&&"function"===typeof e.estimateGas}function Kr(e){return e&&"function"===typeof e.resolveName}function Qr(e){return e&&"function"===typeof e.sendTransaction}function Wr(e){if(null!=e){if(Kr(e))return e;if(e.provider)return e.provider}}class Jr{#Z;fragment;constructor(e,t,n){if(w(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=Yr(e.runner,"resolveName"),i=Kr(r)?r:null;this.#Z=async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>zn(e,i)))):zn(t,i):t)))));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#Z}}function Yr(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Zr(e){return null==e?null:e.provider||null}async function Xr(e,t){const n=mt.dereference(e,"overrides");P("object"===typeof n,"invalid overrides parameter","overrides",e);const r=Nr(n);return P(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),P(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function ei(e){const t=async function(t){const n=await Xr(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await zn(n.from,Wr(e.runner)));const r=e.interface,i=Q(n.value||Vr,"overrides.value")===Vr,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||P(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),P(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return P(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),P(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;I(Qr(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=Zr(e.runner);return new Fr(e.interface,s,i)},r=async e=>await n(e);return w(r,{_contract:e,estimateGas:async function(n){const r=Yr(e.runner,"estimateGas");return I(Gr(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=Yr(e.runner,"call");I($r(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(S(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function ti(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return I(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let o={};if(s.inputs.length+1===r.length&&(o=await Xr(r.pop()),o.from&&(o.from=await zn(o.from,Wr(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,n){const r=Yr(e,"resolveName"),i=Kr(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=mt.dereference(t,e),"address"===e?zn(t,i):t))))))}(e.runner,s.inputs,r);return Object.assign({},o,await v({to:e.getAddress(),data:e.interface.encodeFunctionData(s,a)}))},i=async function(){const e=await o(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;I(Qr(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=Zr(e.runner);return new Fr(e.interface,i,n)},o=async function(){const t=Yr(e.runner,"call");I($r(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(a){if(S(a)&&a.data)throw e.interface.makeError(a.data,i);throw a}const o=n(...arguments);return e.interface.decodeFunctionResult(o,s)},a=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return w(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=Yr(e.runner,"estimateGas");return I(Gr(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return I(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),a}const ni=Symbol.for("_ethersInternal_contract"),ri=new WeakMap;function ii(e){return ri.get(e[ni])}async function si(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(M(t,32))return t;const n=e.interface.getEvent(t);return P(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"===typeof t?M(t,32)?n=[t]:(r=e.interface.getEvent(t),P(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):P(!1,"unknown event name","event",t);var i;n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:r,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function oi(e,t){const{subs:n}=ii(e);return n.get((await si(e,t)).tag)||null}async function ai(e,t,n){const r=Zr(e.runner);I(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await si(e,n),{addr:a,subs:c}=ii(e);let l=c.get(s);if(!l){const t={address:a||e,topics:o},u=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];li(e,n,o,(r=>new Hr(e,r,n,s,t)))}else li(e,n,[],(r=>new qr(e,r,n,t)))};let h=[];l={tag:s,listeners:[],start:()=>{h.length||h.push(r.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,u)}},c.set(s,l)}return l}let ci=Promise.resolve();async function li(e,t,n,r){try{await ci}catch(s){}const i=async function(e,t,n,r){await ci;const i=await oi(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:i,once:o}=t;const a=Array.from(n);r&&a.push(r(o?null:i));try{i.call(e,...a)}catch(s){}return!o})),0===i.listeners.length&&(i.stop(),ii(e).subs.delete(i.tag)),o>0}(e,t,n,r);return ci=i,await i}const ui=["then"];class hi{target;interface;runner;filters;[ni];fallback;constructor(e,t,n,r){P("string"===typeof e||Un(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=Ir.from(t);let s;w(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,ni,{value:{}});let o=null,a=null;if(r){const e=Zr(n);a=new Fr(this.interface,e,r)}let c=new Map;if("string"===typeof e)if(M(e))o=e,s=Promise.resolve(e);else{const t=Yr(n,"resolveName");if(!Kr(t))throw x("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then((t=>{if(null==t)throw x("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ii(this).addr=t,t}))}else s=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return ii(this).addr=e,e}));!function(e,t){ri.set(e[ni],t)}(this,{addrPromise:s,addr:o,deployTx:a,subs:c});const l=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||ui.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!A(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>ui.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return w(this,{filters:l}),w(this,{fallback:i.receive||i.fallback?ei(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||ui.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!A(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||ui.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new hi(this.target,this.interface,e)}attach(e){return new hi(e,this.interface,this.runner)}async getAddress(){return await ii(this).addrPromise}async getDeployedCode(){const e=Zr(this.runner);I(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Zr(this.runner);return I(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()}))}deploymentTransaction(){return ii(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return ti(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return I(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new Jr(e,n(...r),r)};return w(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return I(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=ii(this),s=r||await i,{fragment:o,topics:a}=await si(this,e),c={address:s,topics:a,fromBlock:t,toBlock:n},l=Zr(this.runner);return I(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map((e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Ur(e,this.interface,t)}catch(n){return new jr(e,n)}return new Tr(e,l)}))}async on(e,t){const n=await ai(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await ai(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await li(this,e,n,null)}async listenerCount(e){if(e){const t=await oi(this,e);return t?t.listeners.length:0}const{subs:t}=ii(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await oi(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}const{subs:t}=ii(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map((e=>{let{listener:t}=e;return t})));return n}async off(e,t){const n=await oi(this,e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),ii(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await oi(this,e);if(!t)return this;t.stop(),ii(this).subs.delete(t.tag)}else{const{subs:e}=ii(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends hi{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class di extends(function(){return hi}()){}const fi=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function pi(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let w=1;w<r;w++)s.push(i+=n());let o=n(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const h=2**31,d=h>>>1,f=d>>1,p=h-1;let g=0;for(let w=0;w<31;w++)g=g<<1|u();let m=[],y=0,b=h;for(;;){let e=Math.floor(((g-y+1)*i-1)/b),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;m.push(t);let o=y+Math.floor(b*s[t]/i),a=y+Math.floor(b*s[t+1]/i)-1;for(;0==((o^a)&d);)g=g<<1&p|u(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)g=g&d|g<<1&p>>>1|u(),o=o<<1^d,a=(a^d)<<1|d|1;y=o,b=1+a-o}let v=r-4;return m.map((t=>{switch(t-v){case 3:return v+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return v+256+(e[a++]<<8|e[a++]);case 1:return v+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function gi(e){return 1&e?~e>>1:e>>1}function mi(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=gi(t());return n}function yi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function bi(e){return wi((()=>{let t=yi(e);if(t.length)return t}))}function vi(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Ai(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Si(n,e))}return t.flat()}function wi(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Ei(e,t,n){let r=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)mi(e,n).forEach(((e,t)=>r[t].push(e)));return r}function Ai(e,t){let n=1+t(),r=t(),i=wi(t);return Ei(i.length,1+e,t).flatMap(((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*r;return[s+t*n,o.map((e=>e+i))]}))}))}function Si(e,t){return Ei(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function xi(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function Ii(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Pi(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function ki(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const Oi=44032,Ci=4352,Ni=4449,_i=4519,Ti=28,Mi=588;function Ri(e){return e>>24&255}function Li(e){return 16777215&e}let Bi,Di,Ui,ji;function zi(e){return e>=Oi&&e<55204}function Fi(e,t){if(e>=Ci&&e<4371&&t>=Ni&&t<4470)return Oi+(e-Ci)*Mi+(t-Ni)*Ti;if(zi(e)&&t>_i&&t<4547&&(e-Oi)%Ti==0)return e+(t-_i);{let n=ji.get(e);return n&&(n=n.get(t),n)?n:-1}}function qi(e){Bi||function(){let e=pi("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");Bi=new Map(bi(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Di=new Set(yi(e)),Ui=new Map,ji=new Map;for(let[t,n]of vi(e)){if(!Di.has(t)&&2==n.length){let[e,r]=n,i=ji.get(e);i||(i=new Map,ji.set(e,i)),i.set(r,t)}Ui.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=Bi.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(zi(s)){let e=s-Oi,t=e%Mi/Ti|0,n=e%Ti;i(Ci+(e/Mi|0)),i(Ni+t),n>0&&i(_i+n)}else{let e=Ui.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=Ri(t[0]);for(let n=1;n<t.length;n++){let r=Ri(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=Ri(t[--i]),e<=r)break}e=Ri(t[n])}}return t}function Hi(e){return qi(e).map(Li)}function Vi(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=Ri(s),o=Li(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=Fi(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(qi(e))}const $i=".",Gi=e=>Array.from(e);function Ki(e,t){return e.P.has(t)||e.Q.has(t)}class Qi extends Array{get is_emoji(){return!0}}let Wi,Ji,Yi,Zi,Xi,es,ts,ns,rs,is,ss,os;function as(){if(Wi)return;let e=pi("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>yi(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));Wi=new Map(vi(e)),Ji=n(),Yi=t(),Zi=new Set(t().map((e=>Yi[e]))),Yi=new Set(Yi),Xi=n(),es=n();let i=bi(e),s=e();const o=()=>{let e=new Set;return t().forEach((t=>r(e,i[t]))),r(e,t()),e};ts=wi((t=>{let n=wi(e).map((e=>e+96));if(n.length){let r=t>=s;return n[0]-=32,n=Pi(n),r&&(n=`Restricted[${n}]`),{N:n,P:o(),Q:o(),M:!e(),R:r}}})),ns=n(),rs=new Map;let a=t().concat(Gi(ns)).sort(((e,t)=>e-t));a.forEach(((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),ns.has(t)||rs.set(t,i)}));for(let{V:u,M:h}of new Set(rs.values())){let e=[];for(let n of u){let t=ts.filter((e=>Ki(e,n))),i=e.find((e=>{let{G:n}=e;return t.some((e=>n.has(e)))}));i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap((e=>Gi(e.G)));for(let{G:n,V:r}of e){let e=new Set(t.filter((e=>!n.has(e))));for(let t of r)h.set(t,e)}}is=new Set;let c=new Set;const l=e=>is.has(e)?c.add(e):is.add(e);for(let u of ts){for(let e of u.P)l(e);for(let e of u.Q)l(e)}for(let u of is)rs.has(u)||c.has(u)||rs.set(u,1);r(is,Hi(is)),ss=function(e){let t=[],n=yi(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){let i=e(),s=wi((()=>{let r=yi(e).map((e=>n[e]));if(r.length)return t(r)}));return{S:i,B:s,Q:r}}([]),[]),t}(e).map((e=>Qi.from(e))).sort(ki),os=new Map;for(let u of ss){let e=[os];for(let t of u){let n=e.map((e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n}));65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function cs(e){return(hs(e)?"":`${ls(us([e]))} `)+xi(e)}function ls(e){return`"${e}"\u200e`}function us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xi,r=[];var i;i=e[0],as(),Yi.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];hs(t)&&(r.push(Pi(e.slice(s,a))),r.push(n(t)),s=a+1)}return r.push(Pi(e.slice(s,o))),r.join("")}function hs(e){return as(),Xi.has(e)}function ds(e,t,n){if(!e)return[];as();let r=0;return e.split($i).map((e=>{let i=Ii(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=ys(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${Pi(e.slice(0,4))}"`)}(a),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Yi.has(a[0]))throw ms("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&Yi.has(t[0]))throw ms(`emoji + combining mark: "${Pi(r[e-1])} + ${us([t[0]])}"`)}!function(e){let t=e[0],n=fi.get(t);if(n)throw ms(`leading ${n}`);let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=fi.get(t);if(r){if(i==s)throw ms(`${n} + ${r}`);i=s+1,n=r}}if(i==r)throw ms(`trailing ${n}`)}(a);let n=Gi(new Set(t)),[i]=function(e){let t=ts;for(let n of e){let e=t.filter((e=>Ki(e,n)));if(!e.length)throw ts.some((e=>Ki(e,n)))?gs(t[0],n):ps(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Ki(e,n))throw gs(e,n);if(e.M){let e=Hi(t);for(let t=1,n=e.length;t<n;t++)if(Zi.has(e[t])){let r=t+1;for(let i;r<n&&Zi.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error(`duplicate non-spacing marks: ${cs(i)}`);if(r-t>4)throw new Error(`excessive non-spacing marks: ${ls(us(e.slice(t-1,r)))} (${r-t}/4)`);t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=rs.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter((e=>t.has(e))):Gi(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every((e=>Ki(i,e))))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s}))}function fs(e){return e.map((t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:`Invalid label ${ls(us(n,63))}: ${t}`)}return Pi(i)})).join($i)}function ps(e){return new Error(`disallowed character: ${cs(e)}`)}function gs(e,t){let n=cs(t),r=ts.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function ms(e){return new Error(`illegal placement: ${e}`)}function ys(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=vs(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(is.has(t))i.push(t);else{let e=Wi.get(t);if(e)i.push(...e);else if(!Ji.has(t))throw ps(t)}}}return i.length&&r.push(t(i)),r}function bs(e){return e.filter((e=>65039!=e))}function vs(e,t){let n,r=os,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const ws=new Uint8Array(32);function Es(e){return P(0!==e.length,"invalid ENS name; empty component","comp",e),e}function As(e){const t=Lt(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return fs(ds(e,Vi,bs))}(e)}catch(t){P(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(Es(t.slice(r,i))),r=i+1)}return P(r<t.length,"invalid ENS name; empty component","name",e),n.push(Es(t.slice(r))),n}function Ss(e){P("string"===typeof e,"invalid ENS name; not a string","name",e),P(e.length,"invalid ENS name (empty label)","name",e);let t=ws;const n=As(e);for(;n.length;)t=it(D([t,it(n.pop())]));return B(t)}function xs(e,t){const n=null!=t?t:63;return P(n<=255,"DNS encoded label cannot exceed 255","length",n),B(D(As(e).map((t=>{P(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}ws.fill(0);class Is extends Be{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Me(this.buffer)}update(e){ve(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Le(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Me(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ve(this),we(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Me(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const Ps=(e,t,n)=>e&t^~e&n,ks=(e,t,n)=>e&t^e&n^t&n,Os=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Cs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ns=new Uint32Array(64);class _s extends Is{constructor(){super(64,32,8,!1),this.A=0|Cs[0],this.B=0|Cs[1],this.C=0|Cs[2],this.D=0|Cs[3],this.E=0|Cs[4],this.F=0|Cs[5],this.G=0|Cs[6],this.H=0|Cs[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)Ns[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Ns[u-15],t=Ns[u-2],n=Re(e,7)^Re(e,18)^e>>>3,r=Re(t,17)^Re(t,19)^t>>>10;Ns[u]=r+Ns[u-7]+n+Ns[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(Re(o,6)^Re(o,11)^Re(o,25))+Ps(o,a,c)+Os[u]+Ns[u]|0,t=(Re(n,2)^Re(n,13)^Re(n,22))+ks(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){Ns.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ts=De((()=>new _s)),[Ms,Rs]=(()=>Ne.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Ls=new Uint32Array(80),Bs=new Uint32Array(80);class Ds extends Is{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let b=0;b<16;b++,t+=4)Ls[b]=e.getUint32(t),Bs[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|Ls[b-15],t=0|Bs[b-15],n=Ne.rotrSH(e,t,1)^Ne.rotrSH(e,t,8)^Ne.shrSH(e,t,7),r=Ne.rotrSL(e,t,1)^Ne.rotrSL(e,t,8)^Ne.shrSL(e,t,7),i=0|Ls[b-2],s=0|Bs[b-2],o=Ne.rotrSH(i,s,19)^Ne.rotrBH(i,s,61)^Ne.shrSH(i,s,6),a=Ne.rotrSL(i,s,19)^Ne.rotrBL(i,s,61)^Ne.shrSL(i,s,6),c=Ne.add4L(r,a,Bs[b-7],Bs[b-16]),l=Ne.add4H(c,n,o,Ls[b-7],Ls[b-16]);Ls[b]=0|l,Bs[b]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let b=0;b<80;b++){const e=Ne.rotrSH(u,h,14)^Ne.rotrSH(u,h,18)^Ne.rotrBH(u,h,41),t=Ne.rotrSL(u,h,14)^Ne.rotrSL(u,h,18)^Ne.rotrBL(u,h,41),v=u&d^~u&p,w=h&f^~h&g,E=Ne.add5L(y,t,w,Rs[b],Bs[b]),A=Ne.add5H(E,m,e,v,Ms[b],Ls[b]),S=0|E,x=Ne.rotrSH(n,r,28)^Ne.rotrBH(n,r,34)^Ne.rotrBH(n,r,39),I=Ne.rotrSL(n,r,28)^Ne.rotrBL(n,r,34)^Ne.rotrBL(n,r,39),P=n&i^n&o^i&o,k=r&s^r&a^s&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=Ne.add(0|c,0|l,0|A,0|S)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const O=Ne.add3L(S,I,k);n=Ne.add3H(O,A,x,P),r=0|O}({h:n,l:r}=Ne.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Ne.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Ne.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Ne.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=Ne.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=Ne.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=Ne.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=Ne.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,y)}roundClean(){Ls.fill(0),Bs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Us=De((()=>new Ds));const js=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();js.crypto||js.msCrypto;function zs(e){switch(e){case"sha256":return Ts.create();case"sha512":return Us.create()}P(!1,"invalid hashing algorithm name","algorithm",e)}const Fs=function(e){return zs("sha256").update(e).digest()},qs=function(e){return zs("sha512").update(e).digest()};let Hs=Fs,Vs=qs,$s=!1,Gs=!1;function Ks(e){const t=_(e,"data");return B(Hs(t))}function Qs(e){const t=_(e,"data");return B(Vs(t))}Ks._=Fs,Ks.lock=function(){$s=!0},Ks.register=function(e){if($s)throw new Error("sha256 is locked");Hs=e},Object.freeze(Ks),Qs._=qs,Qs.lock=function(){Gs=!0},Qs.register=function(e){if(Gs)throw new Error("sha512 is locked");Vs=e},Object.freeze(Ks);const Ws="0x0000000000000000000000000000000000000000000000000000000000000000",Js=BigInt(0),Ys=BigInt(1),Zs=BigInt(2),Xs=BigInt(27),eo=BigInt(28),to=BigInt(35),no={};function ro(e){return F(ee(e),32)}class io{#X;#ee;#te;#ne;get r(){return this.#X}set r(e){P(32===U(e),"invalid r","value",e),this.#X=B(e)}get s(){return this.#ee}set s(e){P(32===U(e),"invalid s","value",e);const t=B(e);P(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#ee=t}get v(){return this.#te}set v(e){const t=Z(e,"value");P(27===t||28===t,"invalid v","v",e),this.#te=t}get networkV(){return this.#ne}get legacyChainId(){const e=this.networkV;return null==e?null:io.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=_(this.s);return this.yParity&&(e[0]|=128),B(e)}get compactSerialized(){return D([this.r,this.yParityAndS])}get serialized(){return D([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){C(e,no,"Signature"),this.#X=t,this.#ee=n,this.#te=r,this.#ne=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new io(no,this.r,this.s,this.v);return this.networkV&&(e.#ne=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Q(e,"v");return t==Xs||t==eo?Js:(P(t>=to,"invalid EIP-155 v","v",e),(t-to)/Zs)}static getChainIdV(e,t){return Q(e)*Zs+BigInt(35+t-27)}static getNormalizedV(e){const t=Q(e);return t===Js||t===Xs?27:t===Ys||t===eo?28:(P(t>=to,"invalid v","v",e),t&Ys?27:28)}static from(e){function t(t,n){P(t,n,"signature",e)}if(null==e)return new io(no,Ws,Ws,27);if("string"===typeof e){const n=_(e,"signature");if(64===n.length){const e=B(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new io(no,e,B(t),r)}if(65===n.length){const e=B(n.slice(0,32)),r=n.slice(32,64);t(0===(128&r[0]),"non-canonical s");const i=io.getNormalizedV(n[64]);return new io(no,e,B(r),i)}t(!1,"invalid raw signature length")}if(e instanceof io)return e.clone();const n=e.r;t(null!=n,"missing r");const r=ro(n),i=function(e,n){if(null!=e)return ro(e);if(null!=n){t(M(n,32),"invalid yParityAndS");const e=_(n);return e[0]&=127,B(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&_(i)[0]),"non-canonical s");const{networkV:s,v:o}=function(e,n,r){if(null!=e){const t=Q(e);return{networkV:t>=to?t:void 0,v:io.getNormalizedV(t)}}if(null!=n)return t(M(n,32),"invalid yParityAndS"),{v:128&_(n)[0]?28:27};if(null!=r){switch(Z(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new io(no,r,i,o);return s&&(a.#ne=s),t(null==e.yParity||Z(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}BigInt(0);const so=BigInt(1),oo=BigInt(2),ao=e=>e instanceof Uint8Array,co=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function lo(e){if(!ao(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=co[e[n]];return t}function uo(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ho(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function fo(e){return uo(lo(e))}function po(e){if(!ao(e))throw new Error("Uint8Array expected");return uo(lo(Uint8Array.from(e).reverse()))}function go(e,t){return ho(e.toString(16).padStart(2*t,"0"))}function mo(e,t){return go(e,t).reverse()}function yo(e,t,n){let r;if("string"===typeof t)try{r=ho(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else{if(!ao(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function bo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!ao(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const vo=e=>(oo<<BigInt(e-1))-so,wo=e=>new Uint8Array(e),Eo=e=>Uint8Array.from(e);function Ao(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=wo(e),i=wo(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo();i=a(Eo([0]),e),r=a(),0!==e.length&&(i=a(Eo([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return bo(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}const So={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function xo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=So[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${n}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const Io=BigInt(0),Po=BigInt(1),ko=BigInt(2),Oo=BigInt(3),Co=BigInt(4),No=BigInt(5),_o=BigInt(8);BigInt(9),BigInt(16);function To(e,t){const n=e%t;return n>=Io?n:t+n}function Mo(e,t,n){if(n<=Io||t<Io)throw new Error("Expected power/modulo > 0");if(n===Po)return Io;let r=Po;for(;t>Io;)t&Po&&(r=r*e%n),e=e*e%n,t>>=Po;return r}function Ro(e,t,n){let r=e;for(;t-- >Io;)r*=r,r%=n;return r}function Lo(e,t){if(e===Io||t<=Io)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=To(e,t),r=t,i=Io,s=Po,o=Po,a=Io;for(;n!==Io;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==Po)throw new Error("invert: does not exist");return To(i,t)}function Bo(e){if(e%Co===Oo){const t=(e+Po)/Co;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%_o===No){const t=(e-No)/_o;return function(e,n){const r=e.mul(n,ko),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,ko),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Po)/ko;let n,r,i;for(n=e-Po,r=0;n%ko===Io;n/=ko,r++);for(i=ko;i<e&&Mo(i,t,e)!==e-Po;i++);if(1===r){const t=(e+Po)/Co;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Po)/ko;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Po<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const Do=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uo(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function jo(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function zo(e){const t=jo(e);return t+Math.ceil(t/2)}class Fo extends Be{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,be(e);const n=Le(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ve(this),this.iHash.update(e),this}digestInto(e){ve(this),ye(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qo=(e,t,n)=>new Fo(e,t).update(n).digest();qo.create=(e,t)=>new Fo(e,t);const Ho=BigInt(0),Vo=BigInt(1);function $o(e){return xo(e.Fp,Do.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),xo(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Uo(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:Go,aT:Ko}=e,Qo={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Qo;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Go(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Qo,n="string"===typeof e?Ko(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Qo._parseInt(n.subarray(2)),{d:o,l:a}=Qo._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},Wo=BigInt(0),Jo=BigInt(1),Yo=(BigInt(2),BigInt(3));BigInt(4);function Zo(e){const t=function(e){const t=$o(e);xo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return bo(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&Wo<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=lo(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:fo(yo("private key",e,r))}catch(c){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=To(o,s)),a(o),o}const l=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(yo("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),o=s(e);if(!n.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Yo),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(s,s),f=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,g),l=n.add(l,d),p=n.mul(o,a),p=n.add(p,p),d=n.mul(p,g),c=n.sub(c,d),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new h(c,l,u)}add(e){u(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,d=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,Yo);let m=n.mul(r,o),y=n.mul(i,a),b=n.mul(s,c),v=n.add(r,i),w=n.add(o,a);v=n.mul(v,w),w=n.add(m,y),v=n.sub(v,w),w=n.add(r,s);let E=n.add(o,c);return w=n.mul(w,E),E=n.add(m,b),w=n.sub(w,E),E=n.add(i,s),l=n.add(a,c),E=n.mul(E,l),l=n.add(y,b),E=n.sub(E,l),f=n.mul(p,w),l=n.mul(g,b),f=n.add(l,f),l=n.sub(y,f),f=n.add(y,f),d=n.mul(l,f),y=n.add(m,m),y=n.add(y,m),b=n.mul(p,b),w=n.mul(g,w),y=n.add(y,b),b=n.sub(m,b),b=n.mul(p,b),w=n.add(w,b),m=n.mul(y,w),d=n.add(d,m),m=n.mul(E,w),l=n.mul(v,l),l=n.sub(l,m),m=n.mul(v,y),f=n.mul(E,f),f=n.add(f,m),new h(l,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}))}multiplyUnsafe(e){const r=h.ZERO;if(e===Wo)return r;if(a(e),e===Jo)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=r,d=r,p=this;for(;o>Wo||l>Wo;)o&Jo&&(u=u.add(p)),l&Jo&&(d=d.add(p)),p=p.double(),o>>=Jo,l>>=Jo;return s&&(u=u.negate()),c&&(d=d.negate()),d=new h(n.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(e){a(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);l=f.constTimeNegate(e,l),d=f.constTimeNegate(a,d),d=new h(n.mul(d.px,o.beta),d.py,d.pz),r=l.add(d),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Wo&&t!==Jo&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Jo)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Jo?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return lo(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Ho;)n&Vo&&(r=r.add(i)),i=i.double(),n>>=Vo;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&u);s>>=d,r>a&&(r-=h,s+=Vo);const o=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?l=l.add(n(p,i[o])):c=c.add(n(g,i[f]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function Xo(e){const t=function(e){const t=$o(e);return xo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(e){return To(e,r)}function a(e){return Lo(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=Zo({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=bo;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const e=fo(o);if(!(Wo<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Jo)===Jo)&&(i=n.neg(i)),{x:e,y:i}}var a}}),d=e=>lo(go(e,t.nByteLength));function f(e){return e>r>>Jo}const p=(e,t,n)=>fo(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=yo("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Qo.toSig(yo("DER",e));return new g(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,l=v(yo("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",f=c.fromHex(h+d(u)),p=a(u),g=o(-l*p),m=o(i*p),y=c.BASE.multiplyAndAddUnsafe(f,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ho(this.toDERHex())}toDERHex(){return Qo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ho(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(e){try{return l(e),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=zo(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=jo(t),s=zo(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=To(n?fo(e):po(e),t-Po)+Po;return n?mo(o,i):go(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof c}const b=t.bits2int||function(e){const n=fo(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},v=t.bits2int_modN||function(e){return o(b(e))},w=vo(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Wo<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return go(e,t.nByteLength)}function A(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:u}=t;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),e=yo("msgHash",e),p&&(e=yo("prehashed msgHash",s(e)));const y=v(e),w=l(r),A=[E(w),E(y)];if(null!=m){const e=!0===m?u(n.BYTES):m;A.push(yo("extraEntropy",e))}const x=bo(...A),I=y;return{seed:x,k2sig:function(e){const t=b(e);if(!h(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),i=o(r.x);if(i===Wo)return;const s=o(n*o(I+i*w));if(s===Wo)return;let l=(r.x===i?0:2)|Number(r.y&Jo),u=s;return d&&f(s)&&(u=function(e){return f(e)?o(-e):e}(s),l^=1),new g(i,u,l)}}}const S={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:i,k2sig:s}=A(e,n,r),o=t;return Ao(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;const s=e;if(n=yo("msgHash",n),r=yo("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=i;let h,d;try{if("string"===typeof s||s instanceof Uint8Array)try{h=g.fromDER(s)}catch(A){if(!(A instanceof Qo.Err))throw A;h=g.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;h=new g(e,t)}}d=c.fromHex(r)}catch(S){if("PARSE"===S.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&h.hasHighS())return!1;u&&(n=t.hash(n));const{r:f,s:p}=h,m=v(n),y=a(p),b=o(m*y),w=o(f*y),E=c.BASE.multiplyAndAddUnsafe(d,b,w)?.toAffine();return!!E&&o(E.x)===f},ProjectivePoint:c,Signature:g,utils:m}}function ea(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return qo(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!Te(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:Ue}}const ta=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),na=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ra=BigInt(1),ia=BigInt(2),sa=(e,t)=>(e+t/ia)/t;function oa(e){const t=ta,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=Ro(u,n,t)*u%t,d=Ro(h,n,t)*u%t,f=Ro(d,ia,t)*l%t,p=Ro(f,i,t)*f%t,g=Ro(p,s,t)*p%t,m=Ro(g,a,t)*g%t,y=Ro(m,c,t)*m%t,b=Ro(y,a,t)*g%t,v=Ro(b,n,t)*u%t,w=Ro(v,o,t)*p%t,E=Ro(w,r,t)*l%t,A=Ro(E,ia,t);if(!aa.eql(aa.sqr(A),e))throw new Error("Cannot find square root");return A}const aa=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Io)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Uo(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Bo(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:vo(i),ZERO:Io,ONE:Po,create:t=>To(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Io<=t&&t<e},is0:e=>e===Io,isOdd:e=>(e&Po)===Po,neg:t=>To(-t,e),eql:(e,t)=>e===t,sqr:t=>To(t*t,e),add:(t,n)=>To(t+n,e),sub:(t,n)=>To(t-n,e),mul:(t,n)=>To(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Io)throw new Error("Expected power > 0");if(n===Io)return e.ONE;if(n===Po)return t;let r=e.ONE,i=t;for(;n>Io;)n&Po&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Po;return r}(a,e,t),div:(t,n)=>To(t*Lo(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Lo(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?mo(e,s):go(e,s),fromBytes:e=>{if(e.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return n?po(e):fo(e)}});return Object.freeze(a)}(ta,void 0,void 0,{sqrt:oa}),ca=function(e,t){const n=t=>Xo({...e,...ea(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:aa,n:na,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=na,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ra*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=sa(s*e,t),c=sa(-r*e,t);let l=To(e-a*n-c*i,t),u=To(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},Ts);BigInt(0);ca.ProjectivePoint;class la{#re;constructor(e){P(32===U(e),"invalid private key","privateKey","[REDACTED]"),this.#re=B(e)}get privateKey(){return this.#re}get publicKey(){return la.computePublicKey(this.#re)}get compressedPublicKey(){return la.computePublicKey(this.#re,!0)}sign(e){P(32===U(e),"invalid digest length","digest",e);const t=ca.sign(T(e),T(this.#re),{lowS:!0});return io.from({r:X(t.r,32),s:X(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=la.computePublicKey(e);return B(ca.getSharedSecret(T(this.#re),_(t),!1))}static computePublicKey(e,t){let n=_(e,"key");if(32===n.length){return B(ca.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return B(ca.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){P(32===U(e),"invalid digest length","digest",e);const n=io.from(t);let r=ca.Signature.fromCompact(T(D([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(T(e));return P(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=ca.ProjectivePoint.fromHex(la.computePublicKey(e).substring(2)),i=ca.ProjectivePoint.fromHex(la.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function ua(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function ha(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function da(e,t,n,r){const i=[];for(;n<t+1+r;){const s=fa(e,n);i.push(s.result),I((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function fa(e,t){I(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{I(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=ha(e,t+1,r);return n(t+1+r+i),da(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),da(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=ha(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:B(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:B(e.slice(t+1,t+1+r))}}return{consumed:1,result:ua(e[t])}}function pa(e){const t=_(e,"data"),n=fa(t,0);return P(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function ga(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function ma(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(ma(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=ga(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(_(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=ga(t.length);return n.unshift(183+n.length),n.concat(t)}const ya="0123456789abcdef";function ba(e){let t="0x";for(const n of ma(e))t+=ya[n>>4],t+=ya[15&n];return t}function va(e,t){return function(e){let t;return t="string"===typeof e?la.computePublicKey(e,!1):e.publicKey,ht(it("0x"+t.substring(4)).substring(26))}(la.recoverPublicKey(e,t))}const wa=BigInt(0),Ea=BigInt(2),Aa=BigInt(27),Sa=BigInt(28),xa=BigInt(35),Ia=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Pa=131072;function ka(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Ks(t).substring(4),"0x"+n}function Oa(e){return"0x"===e?null:ht(e)}function Ca(e,t){try{return rr(e)}catch(n){P(!1,n.message,t,e)}}function Na(e,t){return"0x"===e?0:Z(e,t)}function _a(e,t){if("0x"===e)return wa;const n=Q(e,t);return P(n<=Ia,"value exceeds uint size",t,n),n}function Ta(e,t){const n=Q(e,"value"),r=ee(n);return P(r.length<=32,"value too large",`tx.${t}`,n),r}function Ma(e){return rr(e).map((e=>[e.address,e.storageKeys]))}function Ra(e,t){P(Array.isArray(e),`invalid ${t}`,"value",e);for(let n=0;n<e.length;n++)P(M(e[n],32),"invalid ${ param } hash",`value[${n}]`,e[n]);return e}function La(e,t){let n;try{if(n=Na(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(o){P(!1,"invalid yParity","yParity",t[0])}const r=F(t[1],32),i=F(t[2],32),s=io.from({r:r,s:i,yParity:n});e.signature=s}class Ba{#ie;#se;#t;#oe;#ae;#ce;#le;#ue;#he;#de;#fe;#pe;#ge;#me;#ye;#be;get type(){return this.#ie}set type(e){switch(e){case null:this.#ie=null;break;case 0:case"legacy":this.#ie=0;break;case 1:case"berlin":case"eip-2930":this.#ie=1;break;case 2:case"london":case"eip-1559":this.#ie=2;break;case 3:case"cancun":case"eip-4844":this.#ie=3;break;default:P(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#se;return null==e&&3===this.type?br:e}set to(e){this.#se=null==e?null:ht(e)}get nonce(){return this.#oe}set nonce(e){this.#oe=Z(e,"value")}get gasLimit(){return this.#ae}set gasLimit(e){this.#ae=Q(e)}get gasPrice(){const e=this.#ce;return null!=e||0!==this.type&&1!==this.type?e:wa}set gasPrice(e){this.#ce=null==e?null:Q(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#le;return null==e?2===this.type||3===this.type?wa:null:e}set maxPriorityFeePerGas(e){this.#le=null==e?null:Q(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#ue;return null==e?2===this.type||3===this.type?wa:null:e}set maxFeePerGas(e){this.#ue=null==e?null:Q(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=B(e)}get value(){return this.#he}set value(e){this.#he=Q(e,"value")}get chainId(){return this.#de}set chainId(e){this.#de=Q(e)}get signature(){return this.#fe||null}set signature(e){this.#fe=null==e?null:io.from(e)}get accessList(){const e=this.#pe||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#pe=null==e?null:rr(e)}get maxFeePerBlobGas(){const e=this.#ge;return null==e&&3===this.type?wa:e}set maxFeePerBlobGas(e){this.#ge=null==e?null:Q(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#me;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){P(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)P(M(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#me=e}get blobs(){return null==this.#be?null:this.#be.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#be=null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(R(i)){I(this.#ye,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=_(i);if(P(e.length<=Pa,"blob is too large",`blobs[${r}]`,i),e.length!==Pa){const t=new Uint8Array(Pa);t.set(e),e=t}const s=this.#ye.blobToKzgCommitment(e),o=B(this.#ye.computeBlobKzgProof(e,s));t.push({data:B(e),commitment:B(s),proof:o}),n.push(ka(1,s))}else{const e=B(i.commitment);t.push({data:B(i.data),commitment:e,proof:B(i.proof)}),n.push(ka(1,e))}}this.#be=t,this.#me=n}get kzg(){return this.#ye}set kzg(e){this.#ye=e}constructor(){this.#ie=null,this.#se=null,this.#oe=0,this.#ae=wa,this.#ce=null,this.#le=null,this.#ue=null,this.#t="0x",this.#he=wa,this.#de=wa,this.#fe=null,this.#pe=null,this.#ge=null,this.#me=null,this.#be=null,this.#ye=null}get hash(){return null==this.signature?null:it(this.#ve(!0,!1))}get unsignedHash(){return it(this.unsignedSerialized)}get from(){return null==this.signature?null:va(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:la.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#ve(e,t){I(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[Ta(e.nonce,"nonce"),Ta(e.gasPrice||0,"gasPrice"),Ta(e.gasLimit,"gasLimit"),e.to||"0x",Ta(e.value,"value"),e.data];let r=wa;if(e.chainId!=wa)r=Q(e.chainId,"tx.chainId"),P(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==wa&&(n.push(ee(r)),n.push("0x"),n.push("0x")),ba(n);let i=BigInt(27+t.yParity);return r!==wa?i=io.getChainIdV(r,t.v):BigInt(t.v)!==i&&P(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(ee(i)),n.push(ee(t.r)),n.push(ee(t.s)),ba(n)}(this,n);case 1:return function(e,t){const n=[Ta(e.chainId,"chainId"),Ta(e.nonce,"nonce"),Ta(e.gasPrice||0,"gasPrice"),Ta(e.gasLimit,"gasLimit"),e.to||"0x",Ta(e.value,"value"),e.data,Ma(e.accessList||[])];return t&&(n.push(Ta(t.yParity,"recoveryParam")),n.push(ee(t.r)),n.push(ee(t.s))),D(["0x01",ba(n)])}(this,n);case 2:return function(e,t){const n=[Ta(e.chainId,"chainId"),Ta(e.nonce,"nonce"),Ta(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ta(e.maxFeePerGas||0,"maxFeePerGas"),Ta(e.gasLimit,"gasLimit"),e.to||"0x",Ta(e.value,"value"),e.data,Ma(e.accessList||[])];return t&&(n.push(Ta(t.yParity,"yParity")),n.push(ee(t.r)),n.push(ee(t.s))),D(["0x02",ba(n)])}(this,n);case 3:return function(e,t,n){const r=[Ta(e.chainId,"chainId"),Ta(e.nonce,"nonce"),Ta(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ta(e.maxFeePerGas||0,"maxFeePerGas"),Ta(e.gasLimit,"gasLimit"),e.to||br,Ta(e.value,"value"),e.data,Ma(e.accessList||[]),Ta(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Ra(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(Ta(t.yParity,"yParity")),r.push(ee(t.r)),r.push(ee(t.s)),n)?D(["0x03",ba([r,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):D(["0x03",ba(r)])}(this,n,t?this.blobs:null)}I(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#ve(!0,!0)}get unsignedSerialized(){return this.#ve(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=this.#ge||this.#me;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&I(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),I(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),I(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Ba.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Ba;if("string"===typeof e){const t=_(e);if(t[0]>=127)return Ba.from(function(e){const t=pa(e);P(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:Na(t[0],"nonce"),gasPrice:_a(t[1],"gasPrice"),gasLimit:_a(t[2],"gasLimit"),to:Oa(t[3]),value:_a(t[4],"value"),data:B(t[5]),chainId:wa};if(6===t.length)return n;const r=_a(t[6],"v"),i=_a(t[7],"r"),s=_a(t[8],"s");if(i===wa&&s===wa)n.chainId=r;else{let e=(r-xa)/Ea;e<wa&&(e=wa),n.chainId=e,P(e!==wa||r===Aa||r===Sa,"non-canonical legacy v","v",t[6]),n.signature=io.from({r:F(t[7],32),s:F(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Ba.from(function(e){const t=pa(_(e).slice(1));P(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",B(e));const n={type:1,chainId:_a(t[0],"chainId"),nonce:Na(t[1],"nonce"),gasPrice:_a(t[2],"gasPrice"),gasLimit:_a(t[3],"gasLimit"),to:Oa(t[4]),value:_a(t[5],"value"),data:B(t[6]),accessList:Ca(t[7],"accessList")};return 8===t.length||La(n,t.slice(8)),n}(t));case 2:return Ba.from(function(e){const t=pa(_(e).slice(1));P(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",B(e));const n={type:2,chainId:_a(t[0],"chainId"),nonce:Na(t[1],"nonce"),maxPriorityFeePerGas:_a(t[2],"maxPriorityFeePerGas"),maxFeePerGas:_a(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:_a(t[4],"gasLimit"),to:Oa(t[5]),value:_a(t[6],"value"),data:B(t[7]),accessList:Ca(t[8],"accessList")};return 9===t.length||La(n,t.slice(9)),n}(t));case 3:return Ba.from(function(e){let t=pa(_(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],s=t[3];P(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),P(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),P(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),P(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),P(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:s[n]});t=t[0]}P(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${n}`,"data",B(e));const i={type:3,chainId:_a(t[0],"chainId"),nonce:Na(t[1],"nonce"),maxPriorityFeePerGas:_a(t[2],"maxPriorityFeePerGas"),maxFeePerGas:_a(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:_a(t[4],"gasLimit"),to:Oa(t[5]),value:_a(t[6],"value"),data:B(t[7]),accessList:Ca(t[8],"accessList"),maxFeePerBlobGas:_a(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),P(null!=i.to,`invalid address for transaction type: ${n}`,"data",e),P(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)P(M(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",e);return 11===t.length||La(i,t.slice(11)),i}(t))}I(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Ba;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=io.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(P(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),P(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(P(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),P(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Da="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Ua=BigInt(58);function ja(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):P(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class za{name;constructor(e){w(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Fa=new RegExp("^(ipfs)://(.*)$","i"),qa=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Fa,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Ha{provider;address;name;#we;#Ee;constructor(e,t,n){w(this,{provider:e,address:t,name:n}),this.#we=null,this.#Ee=new di(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#we&&(this.#we=(async()=>{try{return await this.#Ee.supportsInterface("0x9061b923")}catch(e){if(A(e,"CALL_EXCEPTION"))return!1;throw this.#we=null,e}})()),await this.#we}async#Ae(e,t){t=(t||[]).slice();const n=this.#Ee.interface;t.unshift(Ss(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),I(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[xs(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#Ee[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!A(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#Ae("addr(bytes32)");return null==e||e===br?null:e}catch(i){if(A(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#Ae("addr(bytes32,uint)",[t]);if(M(n,20))return ht(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof za&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await this.#Ae("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;I(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#Ae("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Ae("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){const t=_(e);let n=Y(t),r="";for(;n;)r=Da[Number(n%Ua)]+r,n/=Ua;for(let i=0;i<t.length&&!t[i];i++)r=Da[0]+r;return r}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;I(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<qa.length;r++){const i=n.match(qa[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=ja(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(i[2]||"").split("/");if(2!==a.length)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=a[1],l=new di(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await l.ownerOf(c);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await l.balanceOf(o,c);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await l[r](c);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",X(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=ja(u)),e.push({type:"metadata-url",value:u});let h={};const d=await new gr(u).send();d.assertOk();try{h=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(t){const n=d.body;return n&&e.push({type:"!metadata",value:B(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let f=h.image;if("string"!==typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Fa))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=ja(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return I(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#Se(e,t){const n=await Ha.getEnsAddress(e);try{const r=new di(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(Ss(t),{enableCcipRead:!0});return i===br?null:i}catch(r){throw r}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await Ha.#Se(e,n);if(null!=r){const i=new Ha(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}const Va=BigInt(0);function $a(e,t){return function(n){return null==n?t:e(n)}}function Ga(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function Ka(e,t){return n=>{const r={};for(const s in e){let o=s;if(t&&s in t&&!(o in n))for(const e of t[s])if(e in n){o=e;break}try{const t=e[s](n[o]);void 0!==t&&(r[s]=t)}catch(i){I(!1,`invalid value for value.${s} (${i instanceof Error?i.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function Qa(e){return P(M(e,!0),"invalid data","value",e),e}function Wa(e){return P(M(e,32),"invalid hash","value",e),e}const Ja=Ka({address:ht,blockHash:Wa,blockNumber:Z,data:Qa,index:Z,removed:$a((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}P(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:Ga(Wa),transactionHash:Wa,transactionIndex:Z},{index:["logIndex"]});const Ya=Ka({hash:$a(Wa),parentHash:Wa,parentBeaconBlockRoot:$a(Wa,null),number:Z,timestamp:Z,nonce:$a(Qa),difficulty:Q,gasLimit:Q,gasUsed:Q,stateRoot:$a(Wa,null),receiptsRoot:$a(Wa,null),blobGasUsed:$a(Q,null),excessBlobGas:$a(Q,null),miner:$a(ht),prevRandao:$a(Wa,null),extraData:Qa,baseFeePerGas:$a(Q)},{prevRandao:["mixHash"]});const Za=Ka({transactionIndex:Z,blockNumber:Z,transactionHash:Wa,address:ht,topics:Ga(Wa),data:Qa,index:Z,blockHash:Wa},{index:["logIndex"]});const Xa=Ka({to:$a(ht,null),from:$a(ht,null),contractAddress:$a(ht,null),index:Z,root:$a(B),gasUsed:Q,blobGasUsed:$a(Q,null),logsBloom:$a(Qa),blockHash:Wa,hash:Wa,logs:Ga((function(e){return Za(e)})),blockNumber:Z,cumulativeGasUsed:Q,effectiveGasPrice:$a(Q),blobGasPrice:$a(Q,null),status:$a(Z),type:$a(Z,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function ec(e){e.to&&Q(e.to)===Va&&(e.to="0x0000000000000000000000000000000000000000");const t=Ka({hash:Wa,index:$a(Z,void 0),type:e=>"0x"===e||null==e?0:Z(e),accessList:$a(rr,null),blobVersionedHashes:$a(Ga(Wa,!0),null),blockHash:$a(Wa,null),blockNumber:$a(Z,null),transactionIndex:$a(Z,null),from:ht,gasPrice:$a(Q),maxPriorityFeePerGas:$a(Q),maxFeePerGas:$a(Q),maxFeePerBlobGas:$a(Q,null),gasLimit:Q,to:$a(ht,null),value:Q,nonce:Z,data:Qa,creates:$a(ht,null),chainId:$a(Q,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=ht(e.from);let n=Q(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,ht(j(it(ba([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=io.from(e.signature):t.signature=io.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&Q(t.blockHash)===Va&&(t.blockHash=null),t}class tc{name;constructor(e){w(this,{name:e})}clone(){return new tc(this.name)}}class nc extends tc{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),P("number"===typeof i,`invalud value for ${e}`,"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),w(this,n)}clone(){return new nc(this.effectiveBlock,this)}}class rc extends tc{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),w(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new rc(this.address,this.targetNetwork)}}class ic extends tc{#P;#xe;get url(){return this.#P}get processFunc(){return this.#xe}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#P=e,this.#xe=t}clone(){return this}}const sc=new Map;class oc{#Ie;#de;#Pe;constructor(e,t){this.#Ie=e,this.#de=Q(t),this.#Pe=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#Ie}set name(e){this.#Ie=e}get chainId(){return this.#de}set chainId(e){this.#de=Q(e,"chainId")}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===Q(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===Q(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===Q(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#Pe.values())}attachPlugin(e){if(this.#Pe.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Pe.set(e.name,e.clone()),this}getPlugin(e){return this.#Pe.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new oc(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new nc;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=rr(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(lc)return;function e(e,t,n){const r=function(){const r=new oc(e,t);return null!=n.ensNetwork&&r.attachPlugin(new rc(null,n.ensNetwork)),r.attachPlugin(new nc),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};oc.register(e,r),oc.register(t,r),n.altNames&&n.altNames.forEach((e=>{oc.register(e,r)}))}lc=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[cc("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[cc("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return oc.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=sc.get(e);if(t)return t();if("bigint"===typeof e)return new oc("unknown",e);P(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){P("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new oc(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new rc(e.ensAddress,e.ensNetwork)),t}P(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=sc.get(e);n&&P(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),sc.set(e,t)}}function ac(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function cc(e){return new ic(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:ac(s.maxFee,9),maxPriorityFeePerGas:ac(s.maxPriorityFee,9)}}catch(i){I(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:i})}}))}let lc=!1;function uc(e){return JSON.parse(JSON.stringify(e))}class hc{#ke;#Oe;#Ce;#Ne;constructor(e){this.#ke=e,this.#Oe=null,this.#Ce=4e3,this.#Ne=-2}get pollingInterval(){return this.#Ce}set pollingInterval(e){this.#Ce=e}async#_e(){try{const e=await this.#ke.getBlockNumber();if(-2===this.#Ne)return void(this.#Ne=e);if(e!==this.#Ne){for(let t=this.#Ne+1;t<=e;t++){if(null==this.#Oe)return;await this.#ke.emit("block",t)}this.#Ne=e}}catch(e){}null!=this.#Oe&&(this.#Oe=this.#ke._setTimeout(this.#_e.bind(this),this.#Ce))}start(){this.#Oe||(this.#Oe=this.#ke._setTimeout(this.#_e.bind(this),this.#Ce),this.#_e())}stop(){this.#Oe&&(this.#ke._clearTimeout(this.#Oe),this.#Oe=null)}pause(e){this.stop(),e&&(this.#Ne=-2)}resume(){this.start()}}class dc{#ke;#_e;#Te;constructor(e){this.#ke=e,this.#Te=!1,this.#_e=e=>{this._poll(e,this.#ke)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Te||(this.#Te=!0,this.#_e(-2),this.#ke.on("block",this.#_e))}stop(){this.#Te&&(this.#Te=!1,this.#ke.off("block",this.#_e))}pause(e){this.stop()}resume(){this.start()}}class fc extends dc{#Me;#Re;constructor(e,t){super(e),this.#Me=t,this.#Re=-2}pause(e){e&&(this.#Re=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Me);null!=n&&(-2===this.#Re?this.#Re=n.number:n.number>this.#Re&&(t.emit(this.#Me,n.number),this.#Re=n.number))}}class pc extends dc{#Z;constructor(e,t){super(e),this.#Z=uc(t)}async _poll(e,t){throw new Error("@TODO")}}class gc extends dc{#Le;constructor(e,t){super(e),this.#Le=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Le);n&&t.emit(this.#Le,n)}}class mc{#ke;#Z;#Oe;#Te;#Ne;constructor(e,t){this.#ke=e,this.#Z=uc(t),this.#Oe=this.#_e.bind(this),this.#Te=!1,this.#Ne=-2}async#_e(e){if(-2===this.#Ne)return;const t=uc(this.#Z);t.fromBlock=this.#Ne+1,t.toBlock=e;const n=await this.#ke.getLogs(t);if(0!==n.length)for(const r of n)this.#ke.emit(this.#Z,r),this.#Ne=r.blockNumber;else this.#Ne<e-60&&(this.#Ne=e-60)}start(){this.#Te||(this.#Te=!0,-2===this.#Ne&&this.#ke.getBlockNumber().then((e=>{this.#Ne=e})),this.#ke.on("block",this.#Oe))}stop(){this.#Te&&(this.#Te=!1,this.#ke.off("block",this.#Oe))}pause(e){this.stop(),e&&(this.#Ne=-2)}resume(){this.start()}}const yc=BigInt(2);function bc(e){return e&&"function"===typeof e.then}function vc(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return`bigint:${t.toString()}`;if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class wc{name;constructor(e){w(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Ec(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Ac(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(M(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:vc("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:vc("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?Ec(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],i=[],s=n=>{M(n)?e.push(n):i.push((async()=>{e.push(await zn(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=Ec(e.map((e=>e.toLowerCase())))}return{filter:r,tag:vc("event",r),type:"event"}}P(!1,"unknown ProviderEvent","event",e)}function Sc(){return(new Date).getTime()}const xc={cacheTimeout:250,pollingInterval:4e3};class Ic{#Be;#Pe;#De;#Ue;#je;#ze;#Fe;#qe;#He;#Ve;#$e;#u;constructor(e,t){if(this.#u=Object.assign({},xc,t||{}),"any"===e)this.#ze=!0,this.#je=null;else if(e){const t=oc.from(e);this.#ze=!1,this.#je=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#ze=!1,this.#je=null;this.#qe=-1,this.#Fe=new Map,this.#Be=new Map,this.#Pe=new Map,this.#De=null,this.#Ue=!1,this.#He=1,this.#Ve=new Map,this.#$e=!1}get pollingInterval(){return this.#u.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Pe.values())}attachPlugin(e){if(this.#Pe.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Pe.set(e.name,e.connect(this)),this}getPlugin(e){return this.#Pe.get(e)||null}get disableCcipRead(){return this.#$e}set disableCcipRead(e){this.#$e=!!e}async#Ge(e){const t=this.#u.cacheTimeout;if(t<0)return await this._perform(e);const n=vc(e.method,e);let r=this.#Fe.get(n);return r||(r=this._perform(e),this.#Fe.set(n,r),setTimeout((()=>{this.#Fe.get(n)===r&&this.#Fe.delete(n)}),t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const t=n[a],c=t.replace("{sender}",r).replace("{data}",i),l=new gr(c);-1===t.indexOf("{data}")&&(l.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let u,h="unknown error";try{u=await l.send()}catch(o){s.push(o.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:o}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(o){}I(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),s.push(h)}I(!1,`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new _r(function(e){const t=Ya(e);return t.transactions=e.transactions.map((e=>"string"===typeof e?e:ec(e))),t}(e),this)}_wrapLog(e,t){return new Tr(function(e){return Ja(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Mr(function(e){return Xa(e)}(e),this)}_wrapTransactionResponse(e,t){return new Rr(ec(e),this)}_detectNetwork(){I(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){I(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Z(await this.#Ge({method:"getBlockNumber"}),"%response");return this.#qe>=0&&(this.#qe=e),e}_getAddress(e){return zn(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return M(e)?M(e,32)?e:te(e):("bigint"===typeof e&&(e=Z(e,"blockTag")),"number"===typeof e?e>=0?te(e):this.#qe>=0?te(this.#qe+e):this.getBlockNumber().then((t=>te(t+e))):void P(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?Ec(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!==typeof e)).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then((e=>r(e[0],e[1],e[2]))):r(o,i,s)}_getTransactionRequest(e){const t=Nr(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=zn(t[e],this);bc(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);bc(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#je){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#je===e&&(this.#je=null),t}})();return this.#je=e,(await e).clone()}const e=this.#je,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#ze?(this.emit("network",n,t),this.#je===e&&(this.#je=Promise.resolve(n))):I(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await v({_block:this.#Ke("latest",!1),gasPrice:(async()=>{try{return Q(await this.#Ge({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return Q(await this.#Ge({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=o.baseFeePerGas*yc+s),new Cr(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new gr(n.url),r=await n.processFunc(t,this,e);return new Cr(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return bc(t)&&(t=await t),Q(await this.#Ge({method:"estimateGas",transaction:t}),"%response")}async#Qe(e,t,n){I(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=Nr(e);try{return B(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&S(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===j(i.data,0,4)){const e=i.data,s=await zn(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};I(U(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=j(e,0,32);I(j(n,0,12)===j(Tc,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=j(n,12);try{const n=[],r=Z(j(e,32,64)),i=Z(j(e,r,r+32)),s=j(e,r+32);for(let e=0;e<i;e++){const t=Pc(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){I(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=kc(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){I(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}I(j(e,100,128)===j(Tc,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=j(e,96,100);try{const n=kc(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){I(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(j(i.data,4))}catch(i){I(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}I(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);I(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:o.errorArgs}});const c={to:s,data:D([o.selector,_c([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await this.#Qe(c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:i}),i}}throw i}}async#We(e){const{value:t}=await v({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await v({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#We(this.#Qe(t,n,e.enableCcipRead?0:-1))}async#Je(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await this.#We(this.#Ge(Object.assign(e,{address:r,blockTag:i})))}async getBalance(e,t){return Q(await this.#Je({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Z(await this.#Je({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return B(await this.#Je({method:"getCode"},e,t))}async getStorage(e,t,n){const r=Q(t,"position");return B(await this.#Je({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await v({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Ba.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async#Ke(e,t){if(M(e,32))return await this.#Ge({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await this.#Ge({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await v({network:this.getNetwork(),params:this.#Ke(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await v({network:this.getNetwork(),params:this.#Ge({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await v({network:this.getNetwork(),params:this.#Ge({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#Ge({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await v({network:this.getNetwork(),result:this.#Ge({method:"getTransactionResult",hash:e})});return null==t?null:B(t)}async getLogs(e){let t=this._getFilter(e);bc(t)&&(t=await t);const{network:n,params:r}=await v({network:this.getNetwork(),params:this.#Ge({method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){I(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ha.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=Ss((e=ht(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await Ha.getEnsAddress(this),r=new di(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===br)return null;const s=new di(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(A(n,"BAD_DATA")&&"0x"===n.value)return null;if(A(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let s=null;const o=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=n&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",o),i(x("timeout","TIMEOUT",{reason:"timeout"})))}),n)),o(await this.getBlockNumber())}))}async waitForBlock(e){I(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ve.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ve.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#He++,r=()=>{this.#Ve.delete(n),e()};if(this.paused)this.#Ve.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#Ve.set(n,{timer:e,func:r,time:Sc()})}return n}_forEachSubscriber(e){for(const t of this.#Be.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new wc(e.type);case"block":{const e=new hc(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new fc(this,e.type);case"event":return new mc(this,e.filter);case"transaction":return new gc(this,e.hash);case"orphan":return new pc(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#Be.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#De&&t.pause(this.#De);break}}async#Ye(e,t){let n=await Ac(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await Ac({orphan:"drop-log",log:t[0]},this)),this.#Be.get(n.tag)||null}async#Ze(e){const t=await Ac(e,this),n=t.tag;let r=this.#Be.get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Be.set(n,r)}return r}async on(e,t){const n=await this.#Ze(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#De&&n.subscriber.pause(this.#De)),this}async once(e,t){const n=await this.#Ze(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#De&&n.subscriber.pause(this.#De)),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await this.#Ye(e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:r,once:i}=t;const s=new Dr(this,i?null:r,e);try{r.call(this,...n,s)}catch(o){}return!i})),0===i.listeners.length&&(i.started&&i.subscriber.stop(),this.#Be.delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await this.#Ye(e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of this.#Be.values())t+=n.length;return t}async listeners(e){if(e){const t=await this.#Ye(e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}let t=[];for(const{listeners:n}of this.#Be.values())t=t.concat(n.map((e=>{let{listener:t}=e;return t})));return t}async off(e,t){const n=await this.#Ye(e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#Be.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#Ze(e);n&&r.stop(),this.#Be.delete(t)}else for(const[t,{started:n,subscriber:r}]of this.#Be)n&&r.stop(),this.#Be.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Ue}destroy(){this.removeAllListeners();for(const e of this.#Ve.keys())this._clearTimeout(e);this.#Ue=!0}get paused(){return null!=this.#De}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#qe=-1,null!=this.#De){if(this.#De==!!e)return;I(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#De=!!e;for(const t of this.#Ve.values())t.timer&&clearTimeout(t.timer),t.time=Sc()-t.time}resume(){if(null!=this.#De){this._forEachSubscriber((e=>e.resume())),this.#De=null;for(const e of this.#Ve.values()){let t=e.time;t<0&&(t=0),e.time=Sc(),setTimeout(e.func,t)}}}}function Pc(e,t){try{const n=kc(e,t);if(n)return Bt(n)}catch(n){}return null}function kc(e,t){if("0x"===e)return null;try{const n=Z(j(e,t,t+32)),r=Z(j(e,n,n+32));return j(e,n+32,n+32+r)}catch(n){}return null}function Oc(e){const t=ee(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Cc(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Nc=new Uint8Array([]);function _c(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(Nc),n+=32;for(let r=0;r<e.length;r++){const i=_(e[r]);t[r]=Oc(n),t.push(Oc(i.length)),t.push(Cc(i)),n+=32+32*Math.ceil(i.length/32)}return D(t)}const Tc="0x0000000000000000000000000000000000000000000000000000000000000000";function Mc(e,t){if(e.provider)return e.provider;I(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Rc(e,t){let n=Nr(t);if(null!=n.to&&(n.to=zn(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),zn(t,e)]).then((e=>{let[t,n]=e;return P(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t}))}else n.from=e.getAddress();return await v(n)}class Lc{provider;constructor(e){w(this,{provider:e||null})}async getNonce(e){return Mc(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Rc(this,e)}async populateTransaction(e){const t=Mc(this,"populateTransaction"),n=await Rc(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){P(Q(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||P(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):P(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();I(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(I(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):I(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await v(n)}async estimateGas(e){return Mc(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Mc(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Mc(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Mc(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Ba.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}class Bc{#ke;#Xe;#Oe;#Te;#et;#tt;constructor(e){this.#ke=e,this.#Xe=null,this.#Oe=this.#_e.bind(this),this.#Te=!1,this.#et=null,this.#tt=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#_e(e){try{null==this.#Xe&&(this.#Xe=this._subscribe(this.#ke));let e=null;try{e=await this.#Xe}catch(t){if(!A(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return this.#Xe=null,void this.#ke._recoverSubscriber(this,this._recover(this.#ke));const n=await this.#ke.getNetwork();if(this.#et||(this.#et=n),this.#et.chainId!==n.chainId)throw new Error("chaid changed");if(this.#tt)return;const r=await this.#ke.send("eth_getFilterChanges",[e]);await this._emitResults(this.#ke,r)}catch(t){console.log("@TODO",t)}this.#ke.once("block",this.#Oe)}#nt(){const e=this.#Xe;e&&(this.#Xe=null,e.then((e=>{this.#ke.destroyed||this.#ke.send("eth_uninstallFilter",[e])})))}start(){this.#Te||(this.#Te=!0,this.#_e(-2))}stop(){this.#Te&&(this.#Te=!1,this.#tt=!0,this.#nt(),this.#ke.off("block",this.#Oe))}pause(e){e&&this.#nt(),this.#ke.off("block",this.#Oe)}resume(){this.start()}}class Dc extends Bc{#rt;constructor(e,t){var n;super(e),this.#rt=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new mc(e,this.#rt)}async _subscribe(e){return await e.send("eth_newFilter",[this.#rt])}async _emitResults(e,t){for(const n of t)e.emit(this.#rt,e._wrapLog(n,e._network))}}class Uc extends Bc{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const jc="bigint,boolean,function,number,string,symbol".split(/,/g);function zc(e){if(null==e||jc.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(zc);if("object"===typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Fc(e){return new Promise((t=>{setTimeout(t,e)}))}function qc(e){return e?e.toLowerCase():e}function Hc(e){return e&&"number"===typeof e.pollingInterval}const Vc={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class $c extends Lc{address;constructor(e,t){super(e),w(this,{address:t=ht(t)})}connect(e){I(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=zc(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await zn(r,this.provider);P(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await zn(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(a){if(A(a,"CANCELLED")||A(a,"BAD_DATA")||A(a,"NETWORK_ERROR")||A(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=n,void r(a);if(A(a,"INVALID_ARGUMENT")&&(s++,null==a.info&&(a.info={}),a.info.sendTransactionHash=n,s>10))return void r(a);this.provider.emit("error",x("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout((()=>{o()}),i.pop()||4e3)};o()}))}async signTransaction(e){const t=zc(e);if(t.from){const n=await zn(t.from,this.provider);P(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?Lt(e):e;return await this.provider.send("personal_sign",[B(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=zc(n),i=await tr.resolveNames(e,t,r,(async e=>{const t=await zn(e);return P(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(tr.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?Lt(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),B(t)])}}class Gc extends Ic{#u;#it;#st;#ot;#at;#et;#ct;#lt(){if(this.#ot)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#ot=setTimeout((()=>{this.#ot=null;const e=this.#st;for(this.#st=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#u.batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map((e=>e.payload)));if(n.length>this.#u.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(x("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?r(this.getRpcError(i,t)):e(t.result);else{const e=x("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e)}}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}}),e)}constructor(e,t){super(e,t),this.#it=1,this.#u=Object.assign({},Vc,t||{}),this.#st=[],this.#ot=null,this.#et=null,this.#ct=null;{let e=null;const t=new Promise((t=>{e=t}));this.#at={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"===typeof n?(P(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#et=oc.from(e))):n&&(P(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#et=n)}_getOption(e){return this.#u[e]}get _network(){return I(this.#et,"network is not available yet","NETWORK_ERROR"),this.#et}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&Q(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#et)return this.#et}return this.#ct?await this.#ct:this.ready?(this.#ct=(async()=>{try{const e=oc.from(Q(await this.send("eth_chainId",[])));return this.#ct=null,e}catch(e){throw this.#ct=null,e}})(),await this.#ct):(this.#ct=(async()=>{const e={id:this.#it++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#ct=null}catch(n){throw this.#ct=null,this.emit("debug",{action:"receiveRpcError",error:n}),n}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return oc.from(Q(t.result));throw this.getRpcError(e,t)})(),await this.#ct)}_start(){null!=this.#at&&null!=this.#at.resolve&&(this.#at.resolve(),this.#at=null,(async()=>{for(;null==this.#et&&!this.destroyed;)try{this.#et=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",x("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Fc(1e3)}this.#lt()})())}async _waitUntilReady(){if(null!=this.#at)return await this.#at.promise}_getSubscriber(e){return"pending"===e.type?new Uc(this):"event"===e.type?this._getOption("polling")?new mc(this,e.filter):new Dc(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new wc("orphan"):super._getSubscriber(e)}get ready(){return null==this.#at}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=te(Q(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=B(e[n]))})),e.accessList&&(t.accessList=rr(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[qc(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[qc(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[qc(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[qc(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(qc):e.filter.address=qc(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return x("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Qc(r),i=Dn.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return Wc(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return x("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return x("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return x("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return x("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return x("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?x("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):x("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(x("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#it++,r=new Promise(((r,i)=>{this.#st.push({resolve:r,reject:i,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#lt(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new $c(this,n[e])}const{accounts:n}=await v({network:this.getNetwork(),accounts:t});e=ht(e);for(const r of n)if(ht(r)===e)return new $c(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new $c(this,e)))}destroy(){this.#ot&&(clearTimeout(this.#ot),this.#ot=null);for(const{payload:e,reject:t}of this.#st)t(x("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#st=[],super.destroy()}}class Kc extends Gc{#ut;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");null==n&&(n=Vc.pollingInterval),this.#ut=n}_getSubscriber(e){const t=super._getSubscriber(e);return Hc(t)&&(t.pollingInterval=this.#ut),t}get pollingInterval(){return this.#ut}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#ut=e,this._forEachSubscriber((e=>{Hc(e)&&(e.pollingInterval=this.#ut)}))}}function Qc(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&M(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Qc(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Qc(JSON.parse(e))}catch(t){}return null}function Wc(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)Wc(e[n],t);if("string"===typeof e)try{return Wc(JSON.parse(e),t)}catch(n){}}}class Jc extends Kc{#j;constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});P(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),this.#j=async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(i){const e=new Error(i.message);throw e.code=i.code,e.data=i.data,e.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){P(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#j(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#j("eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}}const Yc=BigInt(-1),Zc=BigInt(0),Xc=BigInt(1),el=BigInt(5),tl={};let nl="0000";for(;nl.length<80;)nl+=nl;function rl(e){let t=nl;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function il(e,t,n){const r=BigInt(t.width);if(t.signed){const t=Xc<<r-Xc;I(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>Zc?$(K(e,r),r):-$(K(-e,r),r)}else{const t=Xc<<r;I(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-Xc}return e}function sl(e){"number"===typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);P(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(P(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}P(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),P(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}class ol{format;#ht;#dt;#ft;_value;constructor(e,t,n){C(e,tl,"FixedNumber"),this.#dt=t,this.#ht=n;const r=function(e,t){let n="";e<Zc&&(n="-",e*=Yc);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=nl+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);w(this,{format:n.name,_value:r}),this.#ft=rl(n.decimals)}get signed(){return this.#ht.signed}get width(){return this.#ht.width}get decimals(){return this.#ht.decimals}get value(){return this.#dt}#pt(e){P(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#gt(e,t){return e=il(e,this.#ht,t),new ol(tl,e,this.#ht)}#mt(e,t){return this.#pt(e),this.#gt(this.#dt+e.#dt,t)}addUnsafe(e){return this.#mt(e)}add(e){return this.#mt(e,"add")}#yt(e,t){return this.#pt(e),this.#gt(this.#dt-e.#dt,t)}subUnsafe(e){return this.#yt(e)}sub(e){return this.#yt(e,"sub")}#bt(e,t){return this.#pt(e),this.#gt(this.#dt*e.#dt/this.#ft,t)}mulUnsafe(e){return this.#bt(e)}mul(e){return this.#bt(e,"mul")}mulSignal(e){this.#pt(e);const t=this.#dt*e.#dt;return I(t%this.#ft===Zc,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#gt(t/this.#ft,"mulSignal")}#vt(e,t){return I(e.#dt!==Zc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#pt(e),this.#gt(this.#dt*this.#ft/e.#dt,t)}divUnsafe(e){return this.#vt(e)}div(e){return this.#vt(e,"div")}divSignal(e){I(e.#dt!==Zc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#pt(e);const t=this.#dt*this.#ft;return I(t%e.#dt===Zc,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#gt(t/e.#dt,"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=rl(r):r<0&&(t*=rl(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#dt;return this.#dt<Zc&&(e-=this.#ft-Xc),e=this.#dt/this.#ft*this.#ft,this.#gt(e,"floor")}ceiling(){let e=this.#dt;return this.#dt>Zc&&(e+=this.#ft-Xc),e=this.#dt/this.#ft*this.#ft,this.#gt(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=el*rl(t-1);let r=this.value+n;const i=rl(t);return r=r/i*i,il(r,this.#ht,"round"),new ol(tl,r,this.#ht)}isZero(){return this.#dt===Zc}isNegative(){return this.#dt<Zc}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ol.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:Z(t),i=sl(n);let s=Q(e,"value");const o=r-i.decimals;if(o>0){const t=rl(o);I(s%t===Zc,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=rl(-o));return il(s,i,"fromValue"),new ol(tl,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);P(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=sl(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=nl;I(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const o=BigInt(n[1]+i+s);return il(o,r,"fromString"),new ol(tl,o,r)}static fromBytes(e,t){let n=Y(_(e,"value"));const r=sl(t);return r.signed&&(n=$(n,r.width)),il(n,r,"fromBytes"),new ol(tl,n,r)}}const al=["wei","kwei","mwei","gwei","szabo","finney","ether"];function cl(e){return function(e,t){P("string"===typeof e,"value must be a string","value",e);let n=18;if("string"===typeof t){const e=al.indexOf(t);P(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=Z(t,"unit"));return ol.fromString(e,{decimals:n,width:512}).value}(e,18)}var ll=n(7284),ul=n.n(ll),hl=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},dl=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},fl=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},pl=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},gl=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ml=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},yl=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,bl=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],vl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function wl(e){return e?Al(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new ml:"undefined"!==typeof navigator?Al(navigator.userAgent):"undefined"!==typeof process&&process.version?new fl(process.version.slice(1)):null}function El(e){return""!==e&&bl.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]}),!1)}function Al(e){var t=El(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new gl;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=hl(hl([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var s=i.join("."),o=function(e){for(var t=0,n=vl.length;t<n;t++){var r=vl[t],i=r[0];if(r[1].exec(e))return i}return null}(e),a=yl.exec(e);return a&&a[1]?new pl(n,s,o,a[1]):new dl(n,s,o)}var Sl=n(3901),xl=n(33),Il=n(9332);const Pl="2.23.2";let kl={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:n="",docsSlug:r}=e;return n?`${t??"https://viem.sh"}${n}${r?`#${r}`:""}`:void 0},version:`viem@${Pl}`};class Ol extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.cause instanceof Ol?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof Ol&&t.cause.docsPath||t.docsPath,i=kl.getDocsUrl?.({...t,docsPath:r});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...kl.version?[`Version: ${kl.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=Pl}walk(e){return Cl(this,e)}}function Cl(e,t){return t?.(e)?e:e&&"object"===typeof e&&"cause"in e&&void 0!==e.cause?Cl(e.cause,t):t?null:e}function Nl(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&("string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}class _l extends Ol{constructor(e){let{size:t,targetSize:n,type:r}=e;super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Tl(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new _l({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}(e,{dir:t,size:n}):function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;if(e.length>n)throw new _l({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s="right"===t;r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}(e,{dir:t,size:n})}class Ml extends Ol{constructor(e){let{max:t,min:n,signed:r,size:i,value:s}=e;super(`Number "${s}" is not in safe ${i?`${8*i}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Rl extends Ol{constructor(e){let{givenSize:t,maxSize:n}=e;super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Ll(e){return Nl(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Bl(e,t){let{size:n}=t;if(Ll(e)>n)throw new Rl({givenSize:Ll(e),maxSize:n})}function Dl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n}=t;t.size&&Bl(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function Ul(e){return Number(Dl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}const jl=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function zl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?ql(e,t):"string"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Hl.encode(e);return Fl(n,t)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=`0x${Number(e)}`;if("number"===typeof t.size)return Bl(n,{size:t.size}),Tl(n,{size:t.size});return n}(e,t):Fl(e,t)}function Fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let i=0;i<e.length;i++)n+=jl[e[i]];const r=`0x${n}`;return"number"===typeof t.size?(Bl(r,{size:t.size}),Tl(r,{dir:"right",size:t.size})):r}function ql(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"===typeof e?"n":"";throw new Ml({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const a=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?Tl(a,{size:r}):a}const Hl=new TextEncoder;const Vl=new TextEncoder;function $l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){const n=ql(e,t);return Ql(n)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Uint8Array(1);if(n[0]=Number(e),"number"===typeof t.size)return Bl(n,{size:t.size}),Tl(n,{size:t.size});return n}(e,t):Nl(e)?Ql(e,t):Wl(e,t)}const Gl={zero:48,nine:57,A:65,F:70,a:97,f:102};function Kl(e){return e>=Gl.zero&&e<=Gl.nine?e-Gl.zero:e>=Gl.A&&e<=Gl.F?e-(Gl.A-10):e>=Gl.a&&e<=Gl.f?e-(Gl.a-10):void 0}function Ql(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&(Bl(n,{size:t.size}),n=Tl(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const e=Kl(r.charCodeAt(a++)),t=Kl(r.charCodeAt(a++));if(void 0===e||void 0===t)throw new Ol(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=16*e+t}return s}function Wl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Vl.encode(e);return"number"===typeof t.size?(Bl(n,{size:t.size}),Tl(n,{dir:"right",size:t.size})):n}var Jl=n(8836);const Yl=BigInt(2**32-1),Zl=BigInt(32);function Xl(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Yl),l:Number(e>>Zl&Yl)}:{h:0|Number(e>>Zl&Yl),l:0|Number(e&Yl)}}function eu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Xl(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const tu=(e,t,n)=>e<<n|t>>>32-n,nu=(e,t,n)=>t<<n|e>>>32-n,ru=(e,t,n)=>t<<n-32|e>>>64-n,iu=(e,t,n)=>e<<n-32|t>>>64-n;var su=n(6499);const ou=[],au=[],cu=[],lu=BigInt(0),uu=BigInt(1),hu=BigInt(2),du=BigInt(7),fu=BigInt(256),pu=BigInt(113);for(let n=0,wN=uu,EN=1,AN=0;n<24;n++){[EN,AN]=[AN,(2*EN+3*AN)%5],ou.push(2*(5*AN+EN)),au.push((n+1)*(n+2)/2%64);let e=lu;for(let t=0;t<7;t++)wN=(wN<<uu^(wN>>du)*pu)%fu,wN&hu&&(e^=uu<<(uu<<BigInt(t))-uu);cu.push(e)}const[gu,mu]=eu(cu,!0),yu=(e,t,n)=>n>32?ru(e,t,n):tu(e,t,n),bu=(e,t,n)=>n>32?iu(e,t,n):nu(e,t,n);class vu extends su.Vw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Jl.Fe)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,su.DH)(this.state)}keccak(){su.qv||(0,su.Fc)(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=yu(s,o,1)^n[t],c=bu(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=au[n],s=yu(t,i,r),o=bu(t,i,r),a=ou[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=gu[r],e[1]^=mu[r]}n.fill(0)}(this.state32,this.rounds),su.qv||(0,su.Fc)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Jl.CC)(this);const{blockLen:t,state:n}=this,r=(e=(0,su.ZJ)(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,Jl.CC)(this,!1),(0,Jl.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Jl.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Jl.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new vu(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const wu=(e,t,n)=>(0,su.ld)((()=>new vu(t,e,n))),Eu=wu(1,136,32);function Au(e,t){const n=t||"hex",r=Eu(Nl(e,{strict:!1})?$l(e):e);return"bytes"===n?r:zl(r)}class Su extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const xu=new Su(8192);function Iu(e,t){if(xu.has(`${e}.${t}`))return xu.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Au(Wl(n),"bytes"),i=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&r[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return xu.set(`${e}.${t}`,s),s}function Pu(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function ku(e){let{hash:t,signature:r}=e;return i=await async function(e){let{hash:t,signature:r}=e;const i=Nl(t)?t:zl(t),{secp256k1:s}=await n.e(846).then(n.bind(n,1846)),o=(()=>{if("object"===typeof r&&"r"in r&&"s"in r){const{r:e,s:t,v:n,yParity:i}=r,o=Pu(Number(i??n));return new s.Signature(Dl(e),Dl(t)).addRecoveryBit(o)}const e=Nl(r)?r:zl(r),t=Pu(Ul(`0x${e.slice(130)}`));return s.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})();return`0x${o.recoverPublicKey(i.substring(2)).toHex(!1)}`}({hash:t,signature:r}),Iu(`0x${Au(`0x${i.substring(4)}`).substring(26)}`);var i}const Ou=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const h=new Uint8Array(o+(c-u));let d=o;for(;u!==c;)h[d++]=l[u++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let e=t[a],r=0;for(let t=l-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let h=l-o;for(;h!==l&&0===u[h];)h++;let d=r.repeat(i);for(;h<l;++h)d+=e.charAt(u[h]);return d},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const Cu=Ou("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Nu(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return(e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,((e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))})(e)}catch(t){return e}}function _u(e){return"string"===typeof e?e:(t=e,JSON.stringify(t,((e,t)=>"bigint"===typeof t?t.toString()+"n":t))||"");var t}function Tu(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Mu(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Ru="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Lu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Bu(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Tu(e),e}class Du{clone(){return this._cloneInto()}}function Uu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Ru&&"function"==typeof Ru.getRandomValues)return Ru.getRandomValues(new Uint8Array(e));if(Ru&&"function"==typeof Ru.randomBytes)return Ru.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class ju extends Du{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Lu(this.buffer)}update(e){Mu(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Bu(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Lu(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mu(this),function(e,t){Tu(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Lu(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const zu=BigInt(2**32-1),Fu=BigInt(32);function qu(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&zu),l:Number(e>>Fu&zu)}:{h:0|Number(e>>Fu&zu),l:0|Number(e&zu)}}const Hu={fromBig:qu,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=qu(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<Fu|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[Vu,$u]=Hu.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Gu=new Uint32Array(80),Ku=new Uint32Array(80);class Qu extends ju{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let b=0;b<16;b++,t+=4)Gu[b]=e.getUint32(t),Ku[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|Gu[b-15],t=0|Ku[b-15],n=Hu.rotrSH(e,t,1)^Hu.rotrSH(e,t,8)^Hu.shrSH(e,t,7),r=Hu.rotrSL(e,t,1)^Hu.rotrSL(e,t,8)^Hu.shrSL(e,t,7),i=0|Gu[b-2],s=0|Ku[b-2],o=Hu.rotrSH(i,s,19)^Hu.rotrBH(i,s,61)^Hu.shrSH(i,s,6),a=Hu.rotrSL(i,s,19)^Hu.rotrBL(i,s,61)^Hu.shrSL(i,s,6),c=Hu.add4L(r,a,Ku[b-7],Ku[b-16]),l=Hu.add4H(c,n,o,Gu[b-7],Gu[b-16]);Gu[b]=0|l,Ku[b]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let b=0;b<80;b++){const e=Hu.rotrSH(u,h,14)^Hu.rotrSH(u,h,18)^Hu.rotrBH(u,h,41),t=Hu.rotrSL(u,h,14)^Hu.rotrSL(u,h,18)^Hu.rotrBL(u,h,41),v=u&d^~u&p,w=h&f^~h&g,E=Hu.add5L(y,t,w,$u[b],Ku[b]),A=Hu.add5H(E,m,e,v,Vu[b],Gu[b]),S=0|E,x=Hu.rotrSH(n,r,28)^Hu.rotrBH(n,r,34)^Hu.rotrBH(n,r,39),I=Hu.rotrSL(n,r,28)^Hu.rotrBL(n,r,34)^Hu.rotrBL(n,r,39),P=n&i^n&o^i&o,k=r&s^r&a^s&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=Hu.add(0|c,0|l,0|A,0|S)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const O=Hu.add3L(S,I,k);n=Hu.add3H(O,A,x,P),r=0|O}({h:n,l:r}=Hu.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Hu.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Hu.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Hu.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=Hu.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=Hu.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=Hu.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=Hu.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,y)}roundClean(){Gu.fill(0),Ku.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Wu=function(e){const t=t=>e().update(Bu(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new Qu)),Ju=BigInt(0),Yu=BigInt(1),Zu=BigInt(2);function Xu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function eh(e){if(!Xu(e))throw new Error("Uint8Array expected")}function th(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const nh=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function rh(e){eh(e);let t="";for(let n=0;n<e.length;n++)t+=nh[e[n]];return t}function ih(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Ju:BigInt("0x"+e)}const sh=48,oh=57,ah=65,ch=70,lh=97,uh=102;function hh(e){return e>=sh&&e<=oh?e-sh:e>=ah&&e<=ch?e-(ah-10):e>=lh&&e<=uh?e-(lh-10):void 0}function dh(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=hh(e.charCodeAt(s)),n=hh(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function fh(e){return eh(e),ih(rh(Uint8Array.from(e).reverse()))}function ph(e,t){return dh(e.toString(16).padStart(2*t,"0"))}function gh(e,t){return ph(e,t).reverse()}function mh(e,t,n){let r;if("string"==typeof t)try{r=dh(t)}catch($v){throw new Error(e+" must be hex string or Uint8Array, cause: "+$v)}else{if(!Xu(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function yh(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];eh(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const bh=e=>"bigint"==typeof e&&Ju<=e;function vh(e,t,n,r){if(!function(e,t,n){return bh(e)&&bh(t)&&bh(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const wh=e=>(Zu<<BigInt(e-1))-Yu,Eh={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Xu(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Ah(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Eh[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Sh(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const xh=BigInt(0),Ih=BigInt(1),Ph=BigInt(2),kh=BigInt(3),Oh=BigInt(4),Ch=BigInt(5),Nh=BigInt(8);function _h(e,t){const n=e%t;return n>=xh?n:t+n}function Th(e,t,n){if(t<xh)throw new Error("invalid exponent, negatives unsupported");if(n<=xh)throw new Error("invalid modulus");if(n===Ih)return xh;let r=Ih;for(;t>xh;)t&Ih&&(r=r*e%n),e=e*e%n,t>>=Ih;return r}function Mh(e,t,n){let r=e;for(;t-- >xh;)r*=r,r%=n;return r}function Rh(e,t){if(e===xh)throw new Error("invert: expected non-zero number");if(t<=xh)throw new Error("invert: expected positive modulus, got "+t);let n=_h(e,t),r=t,i=xh,s=Ih;for(;n!==xh;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==Ih)throw new Error("invert: does not exist");return _h(i,t)}function Lh(e){if(e%Oh===kh){const t=(e+Ih)/Oh;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Nh===Ch){const t=(e-Ch)/Nh;return function(e,n){const r=e.mul(n,Ph),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,Ph),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Ih)/Ph;let n,r,i;for(n=e-Ih,r=0;n%Ph===xh;n/=Ph,r++);for(i=Ph;i<e&&Th(i,t,e)!==e-Ih;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+Ih)/Oh;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Ih)/Ph;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Ih<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const Bh=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Dh(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Uh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=xh)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Dh(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:wh(i),ZERO:xh,ONE:Ih,create:t=>_h(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return xh<=t&&t<e},is0:e=>e===xh,isOdd:e=>(e&Ih)===Ih,neg:t=>_h(-t,e),eql:(e,t)=>e===t,sqr:t=>_h(t*t,e),add:(t,n)=>_h(t+n,e),sub:(t,n)=>_h(t-n,e),mul:(t,n)=>_h(t*n,e),pow:(e,t)=>function(e,t,n){if(n<xh)throw new Error("invalid exponent, negatives unsupported");if(n===xh)return e.ONE;if(n===Ih)return t;let r=e.ONE,i=t;for(;n>xh;)n&Ih&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ih;return r}(a,e,t),div:(t,n)=>_h(t*Rh(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Rh(t,e),sqrt:r.sqrt||(t=>(o||(o=Lh(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?gh(e,s):ph(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?fh(e):function(e){return ih(rh(e))}(e)}});return Object.freeze(a)}const jh=BigInt(0),zh=BigInt(1);function Fh(e,t){const n=t.negate();return e?n:t}function qh(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Hh(e,t){qh(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const Vh=new WeakMap,$h=new WeakMap;function Gh(e){return $h.get(e)||1}function Kh(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>Ju;e>>=Yu,t+=1);return t}(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let l=i;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){c.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(a));c[i]=c[i].add(n[t])}let e=i;for(let t=c.length-1,n=i;t>0;t--)n=n.add(c[t]),e=e.add(n);if(l=l.add(e),0!==u)for(let t=0;t<o;t++)l=l.double()}return l}function Qh(e){return function(e){const t=Bh.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Ah(e,t)}(e.Fp),Ah(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Dh(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Wh=BigInt(0),Jh=BigInt(1),Yh=BigInt(2),Zh=BigInt(8),Xh={zip215:!0};function ed(e){const t=function(e){const t=Qh(e);return Ah(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,l=Yh<<BigInt(8*a)-Jh,u=n.create,h=Uh(t.n,t.nBitLength),d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:Wh}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(th("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){vh("coordinate "+e,t,Wh,l)}function m(e){if(!(e instanceof v))throw new Error("ExtendedPoint expected")}const y=Sh(((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Zh:n.inv(s));const a=u(r*t),c=u(i*t),l=u(s*t);if(o)return{x:Wh,y:Jh};if(l!==Jh)throw new Error("invZ was invalid");return{x:a,y:c}})),b=Sh((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=u(i*i),l=u(s*s),h=u(o*o),d=u(h*h),f=u(c*n);if(u(h*u(f+l))!==u(d+u(r*u(c*l))))throw new Error("bad point: equation left != right (1)");if(u(i*s)!==u(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class v{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,g("x",e),g("y",t),g("z",n),g("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return g("x",t),g("y",n),new v(t,n,Jh,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(v.fromAffine)}static msm(e,t){return Kh(v,h,e,t)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){b(this)}equals(e){m(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=u(t*o),c=u(i*r),l=u(n*o),h=u(s*r);return a===c&&l===h}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=u(n*n),o=u(r*r),a=u(Yh*u(i*i)),c=u(e*s),l=n+r,h=u(u(l*l)-s-o),d=c+o,f=d-a,p=c-o,g=u(h*f),m=u(d*p),y=u(h*p),b=u(f*d);return new v(g,m,b,y)}add(e){m(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:h,et:d}=e;if(n===BigInt(-1)){const e=u((s-i)*(l+c)),t=u((s+i)*(l-c)),n=u(t-e);if(n===Wh)return this.double();const r=u(o*Yh*d),f=u(a*Yh*h),p=f+r,g=t+e,m=f-r,y=u(p*n),b=u(g*m),w=u(p*m),E=u(n*g);return new v(y,b,E,w)}const f=u(i*c),p=u(s*l),g=u(a*r*d),y=u(o*h),b=u((i+s)*(c+l)-f-p),w=y-g,E=y+g,A=u(p-n*f),S=u(b*w),x=u(E*A),I=u(b*A),P=u(w*E);return new v(S,x,P,I)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,v.normalizeZ)}multiply(e){const t=e;vh("scalar",t,Jh,r);const{p:n,f:i}=this.wNAF(t);return v.normalizeZ([n,i])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.ZERO;const n=e;return vh("scalar",n,Wh,r),n===Wh?E:this.is0()||n===Jh?this:A.wNAFCachedUnsafe(this,n,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(e){return y(this,e)}clearCofactor(){const{h:e}=t;return e===Jh?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,o=n.BYTES;e=mh("pointHex",e,o),th("zip215",r);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const h=fh(a),f=r?l:n.ORDER;vh("pointHex.y",h,Wh,f);const p=u(h*h),g=u(p-Jh),m=u(i*p-s);let{isValid:y,value:b}=d(g,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const w=(b&Jh)===Jh,E=0!==(128&c);if(!r&&b===Wh&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==w&&(b=u(-b)),v.fromAffine({x:b,y:h})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=gh(t,n.BYTES);return r[r.length-1]|=e&Jh?128:0,r}toHex(){return rh(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,Jh,u(t.Gx*t.Gy)),v.ZERO=new v(Wh,Jh,Jh,Wh);const{BASE:w,ZERO:E}=v,A=function(e,t){return{constTimeNegate:Fh,hasPrecomputes:e=>1!==Gh(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>jh;)n&zh&&(r=r.add(i)),i=i.double(),n>>=zh;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=Hh(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=Hh(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&l);i>>=h,n>o&&(n-=u,i+=zh);const s=t,d=t+Math.abs(n)-1,f=e%2!==0,p=n<0;0===n?c=c.add(Fh(f,r[s])):a=a.add(Fh(p,r[d]))}return{p:a,f:c}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=Hh(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===jh)break;let n=Number(i&c);if(i>>=u,n>a&&(n-=l,i+=zh),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=Vh.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Vh.set(t,n(r))),r},wNAFCached(e,t,n){const r=Gh(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Gh(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){qh(n,t),$h.set(e,n),Vh.delete(e)}}}(v,8*a);function S(e){return _h(e,r)}function x(e){return S(fh(e))}function I(e){const t=n.BYTES;e=mh("private key",e,t);const r=mh("hashed private key",s(e),2*t),i=f(r.slice(0,t)),o=r.slice(t,2*t),a=x(i),c=w.multiply(a),l=c.toRawBytes();return{head:i,prefix:o,scalar:a,point:c,pointBytes:l}}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=yh(...n);return x(s(p(o,mh("context",e),!!i)))}const k=Xh;return w._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=mh("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:c}=I(t),l=P(s.context,o,e),u=w.multiply(l).toRawBytes(),h=S(l+P(s.context,u,c,e)*a);return vh("signature.s",h,Wh,r),mh("result",yh(u,gh(h,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;const{context:o,zip215:a}=s,c=n.BYTES;e=mh("signature",e,2*c),t=mh("message",t),r=mh("publicKey",r,c),void 0!==a&&th("zip215",a),i&&(t=i(t));const l=fh(e.slice(c,2*c));let u,h,d;try{u=v.fromHex(r,a),h=v.fromHex(e.slice(0,c),a),d=w.multiplyUnsafe(l)}catch{return!1}if(!a&&u.isSmallOrder())return!1;const f=P(o,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);const td=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),nd=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const rd=BigInt(1),id=BigInt(2);BigInt(3);const sd=BigInt(5),od=BigInt(8);function ad(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function cd(e,t){const n=td,r=_h(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=td,o=e*e%s*e%s,a=Mh(o,id,s)*o%s,c=Mh(a,rd,s)*e%s,l=Mh(c,sd,s)*c%s,u=Mh(l,t,s)*l%s,h=Mh(u,n,s)*u%s,d=Mh(h,r,s)*h%s,f=Mh(d,i,s)*d%s,p=Mh(f,i,s)*d%s,g=Mh(p,t,s)*l%s;return{pow_p_5_8:Mh(g,id,s)*e%s,b2:o}}(e*_h(r*r*t,n)).pow_p_5_8;let s=_h(e*r*i,n);const o=_h(t*s*s,n),a=s,c=_h(s*nd,n),l=o===e,u=o===_h(-e,n),h=o===_h(-e*nd,n);return l&&(s=a),(u||h)&&(s=c),((e,t)=>(_h(e,t)&Ih)===Ih)(s,n)&&(s=_h(-s,n)),{isValid:l||u,value:s}}const ld=Uh(td,void 0,!0),ud=ed({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ld,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:od,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Wu,randomBytes:Uu,adjustScalarBytes:ad,uvRatio:cd}),hd="EdDSA",dd=".",fd="base64url",pd="utf8",gd="utf8",md="did",yd="key",bd="base58btc";function vd(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function wd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?vd(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ed(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=wd(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return vd(n)}var Ad=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}},Sd=Ad;const xd=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class Id{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Pd{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Od(this,e)}}class kd{constructor(e){this.decoders=e}or(e){return Od(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Od=(e,t)=>new kd({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Cd{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Id(e,t,n),this.decoder=new Pd(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Nd=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new Cd(t,n,r,i)},_d=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=Sd(r,n);return Nd({prefix:t,name:n,encode:i,decode:e=>xd(s(e))})},Td=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return Nd({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},Md=Nd({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var Rd=Object.freeze({__proto__:null,identity:Md});const Ld=Td({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Bd=Object.freeze({__proto__:null,base2:Ld});const Dd=Td({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ud=Object.freeze({__proto__:null,base8:Dd});const jd=_d({prefix:"9",name:"base10",alphabet:"0123456789"});var zd=Object.freeze({__proto__:null,base10:jd});const Fd=Td({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qd=Td({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Hd=Object.freeze({__proto__:null,base16:Fd,base16upper:qd});const Vd=Td({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$d=Td({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Gd=Td({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kd=Td({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qd=Td({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Wd=Td({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Jd=Td({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Yd=Td({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zd=Td({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Xd=Object.freeze({__proto__:null,base32:Vd,base32upper:$d,base32pad:Gd,base32padupper:Kd,base32hex:Qd,base32hexupper:Wd,base32hexpad:Jd,base32hexpadupper:Yd,base32z:Zd});const ef=_d({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tf=_d({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var nf=Object.freeze({__proto__:null,base36:ef,base36upper:tf});const rf=_d({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sf=_d({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var of=Object.freeze({__proto__:null,base58btc:rf,base58flickr:sf});const af=Td({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cf=Td({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lf=Td({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uf=Td({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hf=Object.freeze({__proto__:null,base64:af,base64pad:cf,base64url:lf,base64urlpad:uf});const df=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ff=df.reduce(((e,t,n)=>(e[n]=t,e)),[]),pf=df.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const gf=Nd({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=ff[t]),"")},decode:function(e){const t=[];for(const n of e){const e=pf[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var mf=Object.freeze({__proto__:null,base256emoji:gf}),yf=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=wf;)n[r++]=255&t|bf,t/=128;for(;t&vf;)n[r++]=255&t|bf,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},bf=128,vf=-128,wf=Math.pow(2,31);var Ef=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&Sf)<<s:(r&Sf)*Math.pow(2,s),s+=7}while(r>=Af);return e.bytes=o-n,i},Af=128,Sf=127;var xf=Math.pow(2,7),If=Math.pow(2,14),Pf=Math.pow(2,21),kf=Math.pow(2,28),Of=Math.pow(2,35),Cf=Math.pow(2,42),Nf=Math.pow(2,49),_f=Math.pow(2,56),Tf=Math.pow(2,63),Mf={encode:yf,decode:Ef,encodingLength:function(e){return e<xf?1:e<If?2:e<Pf?3:e<kf?4:e<Of?5:e<Cf?6:e<Nf?7:e<_f?8:e<Tf?9:10}};const Rf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Mf.encode(e,t,n),t},Lf=e=>Mf.encodingLength(e),Bf=(e,t)=>{const n=t.byteLength,r=Lf(e),i=r+Lf(n),s=new Uint8Array(i+n);return Rf(e,s,0),Rf(n,s,r),s.set(t,i),new Df(e,n,t,s)};class Df{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Uf=e=>{let{name:t,code:n,encode:r}=e;return new jf(t,n,r)};class jf{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Bf(this.code,t):t.then((e=>Bf(this.code,e)))}throw Error("Unknown type, must be binary type")}}const zf=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ff=Uf({name:"sha2-256",code:18,encode:zf("SHA-256")}),qf=Uf({name:"sha2-512",code:19,encode:zf("SHA-512")});Object.freeze({__proto__:null,sha256:Ff,sha512:qf});const Hf=xd,Vf={code:0,name:"identity",encode:Hf,digest:e=>Bf(0,Hf(e))};Object.freeze({__proto__:null,identity:Vf});new TextEncoder,new TextDecoder;const $f={...Rd,...Bd,...Ud,...zd,...Hd,...Xd,...nf,...of,...hf,...mf};function Gf(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Kf=Gf("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Qf=Gf("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=wd((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Wf={utf8:Kf,"utf-8":Kf,hex:$f.base16,latin1:Qf,ascii:Qf,binary:Qf,...$f};function Jf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Wf[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Yf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Wf[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):vd(globalThis.Buffer.from(e,"utf-8"))}function Zf(e){return Nu(Jf(Yf(e,fd),pd))}function Xf(e){return Jf(Yf(_u(e),pd),fd)}function ep(e){const t="z"+Jf(Ed([Yf("K36",bd),e]),bd);return[md,yd,t].join(":")}function tp(e){return Jf(e,fd)}function np(e){const t=e.split(dd),n=Zf(t[0]),r=Zf(t[1]),i=function(e){return Yf(e,fd)}(t[2]);return{header:n,payload:r,signature:i,data:Yf(t.slice(0,2).join(dd),gd)}}function rp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uu(32);const t=ud.getPublicKey(e);return{secretKey:Ed([e,t]),publicKey:t}}async function ip(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,Sl.fromMiliseconds)(Date.now());const s={alg:hd,typ:"JWT"},o={iss:ep(r.publicKey),sub:e,aud:t,iat:i,exp:i+n},a=function(e){return Yf([Xf(e.header),Xf(e.payload)].join(dd),gd)}({header:s,payload:o});return function(e){return[Xf(e.header),Xf(e.payload),tp(e.signature)].join(dd)}({header:s,payload:o,signature:ud.sign(a,r.secretKey.slice(0,32))})}function sp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function op(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=sp(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}var ap=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const cp=ap,lp=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class up{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class hp{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return fp(this,e)}}class dp{constructor(e){this.decoders=e}or(e){return fp(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const fp=(e,t)=>new dp({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class pp{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new up(e,t,n),this.decoder=new hp(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const gp=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new pp(t,n,r,i)},mp=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=cp(r,n);return gp({prefix:t,name:n,encode:i,decode:e=>lp(s(e))})},yp=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return gp({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},bp=gp({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)}),vp=yp({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wp=yp({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Ep=mp({prefix:"9",name:"base10",alphabet:"0123456789"}),Ap=yp({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Sp=yp({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),xp=yp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ip=yp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pp=yp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),kp=yp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Op=yp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Cp=yp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Np=yp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_p=yp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tp=yp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Mp=mp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Rp=mp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Lp=mp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bp=mp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Dp=yp({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Up=yp({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),jp=yp({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zp=yp({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Fp=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),qp=Fp.reduce(((e,t,n)=>(e[n]=t,e)),[]),Hp=Fp.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const Vp=gp({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=qp[t]),"")},decode:function(e){const t=[];for(const n of e){const e=Hp[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var $p=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=Qp;)n[r++]=255&t|Gp,t/=128;for(;t&Kp;)n[r++]=255&t|Gp,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Gp=128,Kp=-128,Qp=Math.pow(2,31);var Wp=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&Yp)<<s:(r&Yp)*Math.pow(2,s),s+=7}while(r>=Jp);return e.bytes=o-n,i},Jp=128,Yp=127;var Zp=Math.pow(2,7),Xp=Math.pow(2,14),eg=Math.pow(2,21),tg=Math.pow(2,28),ng=Math.pow(2,35),rg=Math.pow(2,42),ig=Math.pow(2,49),sg=Math.pow(2,56),og=Math.pow(2,63);const ag={encode:$p,decode:Wp,encodingLength:function(e){return e<Zp?1:e<Xp?2:e<eg?3:e<tg?4:e<ng?5:e<rg?6:e<ig?7:e<sg?8:e<og?9:10}},cg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ag.encode(e,t,n),t},lg=e=>ag.encodingLength(e),ug=(e,t)=>{const n=t.byteLength,r=lg(e),i=r+lg(n),s=new Uint8Array(i+n);return cg(e,s,0),cg(n,s,r),s.set(t,i),new hg(e,n,t,s)};class hg{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const dg=e=>{let{name:t,code:n,encode:r}=e;return new fg(t,n,r)};class fg{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ug(this.code,t):t.then((e=>ug(this.code,e)))}throw Error("Unknown type, must be binary type")}}const pg=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),gg=dg({name:"sha2-256",code:18,encode:pg("SHA-256")}),mg=dg({name:"sha2-512",code:19,encode:pg("SHA-512")}),yg=lp,bg={code:0,name:"identity",encode:yg,digest:e=>ug(0,yg(e))},vg="raw",wg=85,Eg=e=>lp(e),Ag=e=>lp(e),Sg=new TextEncoder,xg=new TextDecoder,Ig="json",Pg=512,kg=e=>Sg.encode(JSON.stringify(e)),Og=e=>JSON.parse(xg.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Cg={...t,...r,...i,...s,...o,...a,...c,...l,...u,...h};function Ng(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const _g=Ng("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Tg=Ng("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=sp((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Mg={utf8:_g,"utf-8":_g,hex:Cg.base16,latin1:Tg,ascii:Tg,binary:Tg,...Cg};function Rg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Mg[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):globalThis.Buffer.from(e,"utf8")}function Lg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Mg[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var Bg=n(8086);const Dg={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Ug=":";function jg(e){const[t,n]=e.split(Ug);return{namespace:t,reference:n}}function zg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];return Object.keys(e).forEach((r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)})),n}function Fg(e,t){return e.includes(":")?[e]:t.chains||[]}const qg="react-native",Hg="node",Vg="browser",$g="unknown",Gg="js";function Kg(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Qg(){return!(0,xl.getDocument)()&&!!(0,xl.getNavigator)()&&"ReactNative"===navigator.product}function Wg(){return!Kg()&&!!(0,xl.getNavigator)()&&!!(0,xl.getDocument)()}function Jg(){return Qg()?qg:Kg()?Hg:Wg()?Vg:$g}function Yg(){var e;try{return Qg()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch{return}}function Zg(){return(0,Il.g)()||{name:"",description:"",url:"",icons:[""]}}function Xg(e,t,r){const i=function(){if(Jg()===qg&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=wl();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=Jg();return t===Vg?[t,(null==(e=(0,xl.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[Gg,r].join("-"),i,s].join("/")}function em(e){let{protocol:t,version:n,relayUrl:r,sdkVersion:i,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c,packageName:l}=e;const u=r.split("?"),h={auth:s,ua:Xg(t,n,i),projectId:o,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:c||void 0},d=function(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const e=t[r];void 0!==e&&n.set(r,e)}return n.toString()}(u[1]||"",h);return u[0]+"?"+d}function tm(e,t){return e.filter((e=>t.includes(e))).length===e.length}function nm(e){return Object.fromEntries(e.entries())}function rm(e){return new Map(Object.entries(e))}function im(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const n=(0,Sl.toMiliseconds)(e||Sl.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise(((e,a)=>{if(o)return e(o);s=setTimeout((()=>{const e=new Error(t);o=Promise.reject(e),a(e)}),n),r=e,i=a}))}}function sm(e,t,n){return new Promise((async(r,i)=>{const s=setTimeout((()=>i(new Error(n))),t);try{r(await e)}catch(qw){i(qw)}clearTimeout(s)}))}function om(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function am(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function cm(e,t){return(0,Sl.fromMiliseconds)((t||Date.now())+(0,Sl.toMiliseconds)(e))}function lm(e){return Date.now()>=(0,Sl.toMiliseconds)(e)}function um(e,t){return`${e}${t?`:${t}`:""}`}function hm(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}async function dm(e){let{id:t,topic:r,wcDeepLink:i}=e;var s;try{if(!i)return;const e="string"==typeof i?JSON.parse(i):i,o=e?.href;if("string"!=typeof o)return;const a=function(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){i=`${i}${e.includes("?")?"&startapp=":"?startapp="}${function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0)}`}else i=`${i}/wc?${r}`;return i}(o,t,r),c=Jg();if(c===Vg){if(null==(s=(0,xl.getDocument)())||!s.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch{return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(a)}else c===qg&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(a)}catch(o){console.error(o)}}function fm(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function pm(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function gm(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/omega-nft-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.IS_VITEST}function mm(e){return Buffer.from(e,"base64").toString("utf-8")}function ym(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function bm(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function vm(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ym(e.outputLen),ym(e.blockLen)}function wm(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Em(e,t){bm(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Am=BigInt(2**32-1),Sm=BigInt(32);function xm(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Am),l:Number(e>>Sm&Am)}:{h:0|Number(e>>Sm&Am),l:0|Number(e&Am)}}const Im="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Pm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function km(e,t){return e<<32-t|e>>>t}const Om=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Cm(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Nm(e){for(let t=0;t<e.length;t++)e[t]=Cm(e[t])}function _m(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),bm(e),e}class Tm{clone(){return this._cloneInto()}}function Mm(e){const t=t=>e().update(_m(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Rm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Im&&"function"==typeof Im.getRandomValues)return Im.getRandomValues(new Uint8Array(e));if(Im&&"function"==typeof Im.randomBytes)return Im.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Lm=[],Bm=[],Dm=[],Um=BigInt(0),jm=BigInt(1),zm=BigInt(2),Fm=BigInt(7),qm=BigInt(256),Hm=BigInt(113);for(let n=0,wN=jm,EN=1,AN=0;n<24;n++){[EN,AN]=[AN,(2*EN+3*AN)%5],Lm.push(2*(5*AN+EN)),Bm.push((n+1)*(n+2)/2%64);let e=Um;for(let t=0;t<7;t++)wN=(wN<<jm^(wN>>Fm)*Hm)%qm,wN&zm&&(e^=jm<<(jm<<BigInt(t))-jm);Dm.push(e)}const[Vm,$m]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=xm(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}(Dm,!0),Gm=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Km=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Qm extends Tm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ym(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}keccak(){Om||Nm(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Gm(s,o,1)^n[t],c=Km(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Bm[n],s=Gm(t,i,r),o=Km(t,i,r),a=Lm[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Vm[r],e[1]^=$m[r]}n.fill(0)}(this.state32,this.rounds),Om||Nm(this.state32),this.posOut=0,this.pos=0}update(e){wm(this);const{blockLen:t,state:n}=this,r=(e=_m(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){wm(this,!1),bm(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ym(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Em(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Qm(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Wm=((e,t,n)=>Mm((()=>new Qm(t,e,n))))(1,136,32),Jm="https://rpc.walletconnect.org/v1";function Ym(e){const t=`\x19Ethereum Signed Message:\n${e.length}`,n=(new TextEncoder).encode(t+e);return"0x"+Buffer.from(Wm(n)).toString("hex")}async function Zm(e,t,n,r,i,s){switch(n.t){case"eip191":return await async function(e,t,n){return(await ku({hash:Ym(t),signature:n})).toLowerCase()===e.toLowerCase()}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=jg(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",l=n.substring(2),u=o+Ym(t).substring(2)+a+c+l,h=await fetch(`${s||Jm}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Xm(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:d}=await h.json();return!!d&&d.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}(e,t,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Xm(){return Date.now()+Math.floor(1e3*Math.random())}var ey=Object.defineProperty,ty=Object.defineProperties,ny=Object.getOwnPropertyDescriptors,ry=Object.getOwnPropertySymbols,iy=Object.prototype.hasOwnProperty,sy=Object.prototype.propertyIsEnumerable,oy=(e,t,n)=>t in e?ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ay=(e,t)=>{for(var n in t||(t={}))iy.call(t,n)&&oy(e,n,t[n]);if(ry)for(var n of ry(t))sy.call(t,n)&&oy(e,n,t[n]);return e},cy=(e,t)=>ty(e,ny(t));const ly=e=>e?.split(":"),uy=e=>{const t=e&&ly(e);if(t)return t[2]+":"+t[3]},hy=e=>{const t=e&&ly(e);if(t)return t.pop()};async function dy(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=fy(i,i.iss),o=hy(i.iss);return await Zm(o,s,r,uy(i.iss),n)}const fy=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=hy(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${(e=>{const t=e&&ly(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map((e=>`\n- ${e}`)).join("")}`:void 0,p=xy(e.resources);if(p){i=Ey(i,yy(p))}return[n,r,"",i,"",s,o,a,c,l,u,h,d,f].filter((e=>null!=e)).join("\n")};function py(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach((t=>{const n=e.att[t];if(Array.isArray(n))throw new Error(`Resource must be an object: ${t}`);if("object"!=typeof n)throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(n).forEach((e=>{const t=n[e];if(!Array.isArray(t))throw new Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw new Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach((t=>{if("object"!=typeof t)throw new Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)}))}))}))}function gy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t?.sort(((e,t)=>e.localeCompare(t)));const r=t.map((t=>({[`${e}/${t}`]:[n]})));return Object.assign({},...r)}function my(e){return py(e),`urn:recap:${function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,"")}`}function yy(e){const t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return py(t),t}function by(e,t,n){const r=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n?.sort(((e,t)=>e.localeCompare(t))),{att:{[e]:gy(t,n,r)}}}(e,t,n);return my(r)}function vy(e){return e&&e.includes("urn:recap:")}function wy(e,t){const n=function(e,t){py(e),py(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort(((e,t)=>e.localeCompare(t))),r={att:{}};return n.forEach((n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort(((e,t)=>e.localeCompare(t))).forEach((i=>{var s,o;r.att[n]=cy(ay({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})}))})),r}(yy(e),yy(t));return my(n)}function Ey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;py(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach((e=>{const n=Object.keys(t.att[e]).map((e=>({ability:e.split("/")[0],action:e.split("/")[1]})));n.sort(((e,t)=>e.action.localeCompare(t.action)));const s={};n.forEach((e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)}));const o=Object.keys(s).map((t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`)));r.push(o.join(", ").replace(".,","."))}));return`${e?e+" ":""}${`${n}${r.join(" ")}`}`}function Ay(e){var t;const n=yy(e);py(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map((e=>e.split("/")[1])):[]}function Sy(e){const t=yy(e);py(t);const n=[];return Object.values(t.att).forEach((e=>{Object.values(e).forEach((e=>{var t;null!=(t=e?.[0])&&t.chains&&n.push(e[0].chains)}))})),[...new Set(n.flat())]}function xy(e){if(!e)return;const t=e?.[e.length-1];return vy(t)?t:void 0}function Iy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Py(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ky(e){if(!Py(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Oy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Cy(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}const Ny=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function _y(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Py(e))throw new Error("Uint8Array expected, got "+typeof e);e=Ry(e)}return e}function Ty(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4===0}(t))throw new Error("invalid output, must be aligned");return t}function My(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function Ry(e){return Uint8Array.from(e)}function Ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const By=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),Dy=By("expand 16-byte k"),Uy=By("expand 32-byte k"),jy=Ny(Dy),zy=Ny(Uy);function Fy(e,t){return e<<t|e>>>32-t}function qy(e){return e.byteOffset%4===0}const Hy=2**32-1,Vy=new Uint32Array;const $y=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Gy{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,ky(e=_y(e),32);const t=$y(e,0),n=$y(e,2),r=$y(e,4),i=$y(e,6),s=$y(e,8),o=$y(e,10),a=$y(e,12),c=$y(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let l=0;l<8;l++)this.pad[l]=$y(e,16+2*l)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],h=i[6],d=i[7],f=i[8],p=i[9],g=$y(e,t+0),m=$y(e,t+2),y=$y(e,t+4),b=$y(e,t+6),v=$y(e,t+8),w=$y(e,t+10),E=$y(e,t+12),A=$y(e,t+14);let S=r[0]+(8191&g),x=r[1]+(8191&(g>>>13|m<<3)),I=r[2]+(8191&(m>>>10|y<<6)),P=r[3]+(8191&(y>>>7|b<<9)),k=r[4]+(8191&(b>>>4|v<<12)),O=r[5]+(v>>>1&8191),C=r[6]+(8191&(v>>>14|w<<2)),N=r[7]+(8191&(w>>>11|E<<5)),_=r[8]+(8191&(E>>>8|A<<8)),T=r[9]+(A>>>5|n),M=0,R=M+S*s+x*(5*p)+I*(5*f)+P*(5*d)+k*(5*h);M=R>>>13,R&=8191,R+=O*(5*u)+C*(5*l)+N*(5*c)+_*(5*a)+T*(5*o),M+=R>>>13,R&=8191;let L=M+S*o+x*s+I*(5*p)+P*(5*f)+k*(5*d);M=L>>>13,L&=8191,L+=O*(5*h)+C*(5*u)+N*(5*l)+_*(5*c)+T*(5*a),M+=L>>>13,L&=8191;let B=M+S*a+x*o+I*s+P*(5*p)+k*(5*f);M=B>>>13,B&=8191,B+=O*(5*d)+C*(5*h)+N*(5*u)+_*(5*l)+T*(5*c),M+=B>>>13,B&=8191;let D=M+S*c+x*a+I*o+P*s+k*(5*p);M=D>>>13,D&=8191,D+=O*(5*f)+C*(5*d)+N*(5*h)+_*(5*u)+T*(5*l),M+=D>>>13,D&=8191;let U=M+S*l+x*c+I*a+P*o+k*s;M=U>>>13,U&=8191,U+=O*(5*p)+C*(5*f)+N*(5*d)+_*(5*h)+T*(5*u),M+=U>>>13,U&=8191;let j=M+S*u+x*l+I*c+P*a+k*o;M=j>>>13,j&=8191,j+=O*s+C*(5*p)+N*(5*f)+_*(5*d)+T*(5*h),M+=j>>>13,j&=8191;let z=M+S*h+x*u+I*l+P*c+k*a;M=z>>>13,z&=8191,z+=O*o+C*s+N*(5*p)+_*(5*f)+T*(5*d),M+=z>>>13,z&=8191;let F=M+S*d+x*h+I*u+P*l+k*c;M=F>>>13,F&=8191,F+=O*a+C*o+N*s+_*(5*p)+T*(5*f),M+=F>>>13,F&=8191;let q=M+S*f+x*d+I*h+P*u+k*l;M=q>>>13,q&=8191,q+=O*c+C*a+N*o+_*s+T*(5*p),M+=q>>>13,q&=8191;let H=M+S*p+x*f+I*d+P*h+k*u;M=H>>>13,H&=8191,H+=O*l+C*c+N*a+_*o+T*s,M+=H>>>13,H&=8191,M=(M<<2)+M|0,M=M+R|0,R=8191&M,M>>>=13,L+=M,r[0]=R,r[1]=L,r[2]=B,r[3]=D,r[4]=U,r[5]=j,r[6]=z,r[7]=F,r[8]=q,r[9]=H}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=r,r=e[o]>>>13,e[o]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+r,r=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(1^r)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let o=1;o<8;o++)s=(e[o]+t[o]|0)+(s>>>16)|0,e[o]=65535&s;Ly(n)}update(e){Oy(this);const{buffer:t,blockLen:n}=this,r=(e=_y(e)).length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){Ly(this.h,this.r,this.buffer,this.pad)}digestInto(e){Oy(this),function(e,t){ky(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const Ky=function(e){const t=(t,n)=>e(n).update(_y(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new Gy(e)));const Qy=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return Iy(i),Iy(o),Cy(s),Cy(n),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;ky(t),ky(a),ky(c);const h=c.length;if(void 0===l&&(l=new Uint8Array(h)),ky(l),Iy(u),u<0||u>=Hy)throw new Error("arx: counter overflow");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const d=[];let f,p,g=t.length;if(32===g)d.push(f=Ry(t)),p=zy;else{if(16!==g||!n)throw new Error(`arx: invalid 32-byte key, got length=${g}`);f=new Uint8Array(32),f.set(t),f.set(t,16),p=jy,d.push(f)}qy(a)||d.push(a=Ry(a));const m=Ny(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,m,Ny(a.subarray(0,16)),m),a=a.subarray(16)}const y=16-i;if(y!==a.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,d.push(a)}const b=Ny(a);return function(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(64),u=Ny(l),h=qy(i)&&qy(s),d=h?Ny(i):Vy,f=h?Ny(s):Vy;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=Hy)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(h&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=d[t]^u[n];p+=64}else{for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^l[t];p+=g}}}(e,p,m,b,c,l,u,o),Ly(...d),l}}((function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],h=t[1],d=t[2],f=t[3],p=t[4],g=t[5],m=t[6],y=t[7],b=i,v=n[0],w=n[1],E=n[2],A=o,S=a,x=c,I=l,P=u,k=h,O=d,C=f,N=p,_=g,T=m,M=y,R=b,L=v,B=w,D=E;for(let j=0;j<s;j+=2)A=A+P|0,R=Fy(R^A,16),N=N+R|0,P=Fy(P^N,12),A=A+P|0,R=Fy(R^A,8),N=N+R|0,P=Fy(P^N,7),S=S+k|0,L=Fy(L^S,16),_=_+L|0,k=Fy(k^_,12),S=S+k|0,L=Fy(L^S,8),_=_+L|0,k=Fy(k^_,7),x=x+O|0,B=Fy(B^x,16),T=T+B|0,O=Fy(O^T,12),x=x+O|0,B=Fy(B^x,8),T=T+B|0,O=Fy(O^T,7),I=I+C|0,D=Fy(D^I,16),M=M+D|0,C=Fy(C^M,12),I=I+C|0,D=Fy(D^I,8),M=M+D|0,C=Fy(C^M,7),A=A+k|0,D=Fy(D^A,16),T=T+D|0,k=Fy(k^T,12),A=A+k|0,D=Fy(D^A,8),T=T+D|0,k=Fy(k^T,7),S=S+O|0,R=Fy(R^S,16),M=M+R|0,O=Fy(O^M,12),S=S+O|0,R=Fy(R^S,8),M=M+R|0,O=Fy(O^M,7),x=x+C|0,L=Fy(L^x,16),N=N+L|0,C=Fy(C^N,12),x=x+C|0,L=Fy(L^x,8),N=N+L|0,C=Fy(C^N,7),I=I+P|0,B=Fy(B^I,16),_=_+B|0,P=Fy(P^_,12),I=I+P|0,B=Fy(B^I,8),_=_+B|0,P=Fy(P^_,7);let U=0;r[U++]=o+A|0,r[U++]=a+S|0,r[U++]=c+x|0,r[U++]=l+I|0,r[U++]=u+P|0,r[U++]=h+k|0,r[U++]=d+O|0,r[U++]=f+C|0,r[U++]=p+N|0,r[U++]=g+_|0,r[U++]=m+T|0,r[U++]=y+M|0,r[U++]=b+R|0,r[U++]=v+L|0,r[U++]=w+B|0,r[U++]=E+D|0}),{counterRight:!1,counterLength:4,allowShortKeys:!1}),Wy=new Uint8Array(16),Jy=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Wy.subarray(n))},Yy=new Uint8Array(32);function Zy(e,t,n,r,i){const s=e(t,n,Yy),o=Ky.create(s);i&&Jy(o,i),Jy(o,r);const a=new Uint8Array(16),c=(e=>new DataView(e.buffer,e.byteOffset,e.byteLength))(a);My(c,0,BigInt(i?i.length:0),!0),My(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return Ly(s,a),l}const Xy=((e,t)=>{function n(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(ky(n),void 0!==e.nonceLength){const t=i[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?ky(t):ky(t,e.nonceLength)}const o=e.tagLength;o&&void 0!==i[1]&&ky(i[1]);const a=t(n,...i),c=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");ky(t)}};let l=!1;return{encrypt(e,t){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ky(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(ky(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,n,r)=>({encrypt(i,s){const o=i.length;(s=Ty(o+16,s,!1)).set(i);const a=s.subarray(0,-16);e(t,n,a,a,1);const c=Zy(e,t,n,a,r);return s.set(c,o),Ly(c),s},decrypt(i,s){s=Ty(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=Zy(e,t,n,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,n,s,s,1),Ly(c),s}}))(Qy));class eb extends Tm{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,vm(e);const n=_m(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return wm(this),this.iHash.update(e),this}digestInto(e){wm(this),bm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tb=(e,t,n)=>new eb(e,t).update(n).digest();tb.create=(e,t)=>new eb(e,t);const nb=new Uint8Array([0]),rb=new Uint8Array;const ib=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(vm(e),ym(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=rb);const s=new Uint8Array(i*e.outputLen),o=tb.create(e,t),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)nb[0]=l+1,a.update(0===l?rb:c).update(n).update(nb).digestInto(c),s.set(c,e.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),nb.fill(0),s.slice(0,r)}(e,function(e,t,n){return vm(e),void 0===n&&(n=new Uint8Array(e.outputLen)),tb(e,_m(n),_m(t))}(e,t,n),r,i);function sb(e,t,n){return e&t^~e&n}function ob(e,t,n){return e&t^e&n^t&n}class ab extends Tm{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Pm(this.buffer)}update(e){wm(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=_m(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Pm(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){wm(this),Em(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Pm(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const cb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lb=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ub=new Uint32Array(64);class hb extends ab{constructor(){super(64,32,8,!1),this.A=0|lb[0],this.B=0|lb[1],this.C=0|lb[2],this.D=0|lb[3],this.E=0|lb[4],this.F=0|lb[5],this.G=0|lb[6],this.H=0|lb[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)ub[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=ub[u-15],t=ub[u-2],n=km(e,7)^km(e,18)^e>>>3,r=km(t,17)^km(t,19)^t>>>10;ub[u]=r+ub[u-7]+n+ub[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(km(o,6)^km(o,11)^km(o,25))+sb(o,a,c)+cb[u]+ub[u]|0,t=(km(n,2)^km(n,13)^km(n,22))+ob(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){ub.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const db=Mm((()=>new hb)),fb=BigInt(0);function pb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function gb(e){if(!pb(e))throw new Error("Uint8Array expected")}const mb=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const yb=48,bb=57,vb=65,wb=70,Eb=97,Ab=102;function Sb(e){return e>=yb&&e<=bb?e-yb:e>=vb&&e<=wb?e-(vb-10):e>=Eb&&e<=Ab?e-(Eb-10):void 0}function xb(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Sb(e.charCodeAt(s)),n=Sb(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Ib(e){return gb(e),function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?fb:BigInt("0x"+e)}(function(e){gb(e);let t="";for(let n=0;n<e.length;n++)t+=mb[e[n]];return t}(Uint8Array.from(e).reverse()))}function Pb(e,t){return function(e,t){return xb(e.toString(16).padStart(2*t,"0"))}(e,t).reverse()}function kb(e,t,n){let r;if("string"==typeof t)try{r=xb(t)}catch($v){throw new Error(e+" must be hex string or Uint8Array, cause: "+$v)}else{if(!pb(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const Ob=e=>"bigint"==typeof e&&fb<=e;function Cb(e,t,n,r){if(!function(e,t,n){return Ob(e)&&Ob(t)&&Ob(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Nb={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||pb(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};const _b=BigInt(0),Tb=BigInt(1);function Mb(e,t){const n=e%t;return n>=_b?n:t+n}function Rb(e,t,n){let r=e;for(;t-- >_b;)r*=r,r%=n;return r}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Lb=BigInt(0),Bb=BigInt(1);function Db(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Nb[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0)}(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}const Ub=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const jb=BigInt(1),zb=BigInt(2),Fb=BigInt(3),qb=BigInt(5);BigInt(8);const Hb=function(e){const t=Db(e),{P:n}=t,r=e=>Mb(e,n),i=t.montgomeryBits,s=Math.ceil(i/8),o=t.nByteLength,a=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>function(e,t,n){if(t<_b)throw new Error("invalid exponent, negatives unsupported");if(n<=_b)throw new Error("invalid modulus");if(n===Tb)return _b;let r=Tb;for(;t>_b;)t&Tb&&(r=r*e%n),e=e*e%n,t>>=Tb;return r}(e,n-BigInt(2),n));function l(e,t,n){const i=r(e*(t-n));return[t=r(t-i),n=r(n+i)]}const u=(t.a-BigInt(2))/BigInt(4);function h(e){return Pb(r(e),s)}function d(e,t){const d=function(e){const t=kb("u coordinate",e,s);return 32===o&&(t[31]&=127),Ib(t)}(t),f=function(e){const t=kb("scalar",e),n=t.length;if(n!==s&&n!==o)throw new Error("invalid scalar, expected "+s+" or "+o+" bytes, got "+n);return Ib(a(t))}(e),p=function(e,t){Cb("u",e,Lb,n),Cb("scalar",t,Lb,n);const s=t,o=e;let a,h=Bb,d=Lb,f=e,p=Bb,g=Lb;for(let n=BigInt(i-1);n>=Lb;n--){const e=s>>n&Bb;g^=e,a=l(g,h,f),h=a[0],f=a[1],a=l(g,d,p),d=a[0],p=a[1],g=e;const t=h+d,i=r(t*t),c=h-d,m=r(c*c),y=i-m,b=f+p,v=r((f-p)*t),w=r(b*c),E=v+w,A=v-w;f=r(E*E),p=r(o*r(A*A)),h=r(i*m),d=r(y*(i+r(u*y)))}a=l(g,h,f),h=a[0],f=a[1],a=l(g,d,p),d=a[0],p=a[1];const m=c(d);return r(h*m)}(d,f);if(p===Lb)throw new Error("invalid private or public key received");return h(p)}const f=h(t.Gu);function p(e){return d(e,f)}return{scalarMult:d,scalarMultBase:p,getSharedSecret:(e,t)=>d(e,t),getPublicKey:e=>p(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:f}}({P:Ub,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Ub,{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ub,o=e*e%s*e%s,a=Rb(o,zb,s)*o%s,c=Rb(a,jb,s)*e%s,l=Rb(c,qb,s)*c%s,u=Rb(l,t,s)*l%s,h=Rb(u,n,s)*u%s,d=Rb(h,r,s)*h%s,f=Rb(d,i,s)*d%s,p=Rb(f,i,s)*d%s,g=Rb(p,t,s)*l%s;return{pow_p_5_8:Rb(g,zb,s)*e%s,b2:o}}(e);return Mb(Rb(n,Fb,t)*r,t)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},randomBytes:Rm}),Vb="base10",$b="base16",Gb="base64pad",Kb="base64url",Qb="utf8";function Wb(){return Lg(Rm(32),$b)}function Jb(e){return Lg(db(Rg(e,$b)),$b)}function Yb(e){return Lg(db(Rg(e,Qb)),$b)}function Zb(e){return Rg(`${e}`,Vb)}function Xb(e){return Number(Lg(e,Vb))}function ev(e){const{encoding:t=Gb}=e;if(2===Xb(e.type))return Lg(op([e.type,e.sealed]),t);if(1===Xb(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Lg(op([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return Lg(op([e.type,e.iv,e.sealed]),t)}function tv(e){const{encoded:t,encoding:n=Gb}=e,r=Rg(t,n),i=r.slice(0,1);if(1===Xb(i)){const e=33,t=e+12,n=r.slice(1,e),s=r.slice(e,t);return{type:i,sealed:r.slice(t),iv:s,senderPublicKey:n}}if(2===Xb(i)){return{type:i,sealed:r.slice(1),iv:Rm(12)}}const s=r.slice(1,13);return{type:i,sealed:r.slice(13),iv:s}}function nv(e){const t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function rv(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function iv(e){return 2===e.type}function sv(e,t){const[n,r,i]=e.split("."),s=function(e){return Buffer.from(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n>0&&(t+="=".repeat(4-n)),t}(e),"base64")}(i);if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=db(`${n}.${r}`),l=function(e){return new Bg.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}(t),u=Lg(c,$b);if(!l.verify(u,{r:o,s:a}))throw new Error("Invalid signature");return np(e).payload}function ov(e){return e?.relay||{protocol:"irn"}}function av(e){const t=Dg[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function cv(e){const t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((r=>{if(r.startsWith(n)){const i=r.replace(n,""),s=e[r];t[i]=s}})),t}function lv(e){if(!e.includes("wc:")){const t=mm(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a={};o.forEach(((e,t)=>{a[t]=e}));const c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:uv(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:cv(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function uv(e){return e.startsWith("//")?e.substring(2):e}function hv(e){const t=new URLSearchParams,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const n={};return Object.keys(e).forEach((r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])})),n}(e.relay);Object.keys(n).sort().forEach((e=>{t.set(e,n[e])})),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function dv(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function fv(e){const t=[];return e.forEach((e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)})),t}function pv(e){return e.includes(":")}function gv(e){return pv(e)?e.split(":")[0]:e}function mv(e,t){t=t.map((e=>e.replace("did:pkh:","")));const n=function(e){const t={};return e?.forEach((e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push(`${r}:${i}`)})),t}(t);for(const[r,i]of Object.entries(n))i.methods?i.methods=hm(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}const yv={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},bv={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function vv(e,t){const{message:n,code:r}=bv[e];return{message:t?`${n} ${t}`:n,code:r}}function wv(e,t){const{message:n,code:r}=yv[e];return{message:t?`${n} ${t}`:n,code:r}}function Ev(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function Av(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Sv(e){return typeof e>"u"}function xv(e,t){return!(!t||!Sv(e))||"string"==typeof e&&!!e.trim().length}function Iv(e,t){return!(!t||!Sv(e))||"number"==typeof e&&!isNaN(e)}function Pv(e){return!(!xv(e,!1)||!e.includes(":"))&&2===e.split(":").length}function kv(e){let t=!0;return Ev(e)?e.length&&(t=e.every((e=>xv(e,!1)))):t=!1,t}function Ov(e,t,n){let r=null;return Object.entries(e).forEach((e=>{let[i,s]=e;if(r)return;const o=function(e,t,n){let r=null;return Ev(t)&&t.length?t.forEach((e=>{r||Pv(e)||(r=wv("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):Pv(e)||(r=wv("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(i,Fg(i,s),`${t} ${n}`);o&&(r=o)})),r}function Cv(e,t){let n=null;return Ev(e)?e.forEach((e=>{n||function(e){if(xv(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&Pv(e)}}return!1}(e)||(n=wv("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):n=wv("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Nv(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=function(e,t){let n=null;return kv(e?.methods)?kv(e?.events)||(n=wv("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=wv("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)})),n}function _v(e,t){let n=null;if(e&&Av(e)){const r=Nv(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=Cv(e?.accounts,`${t} namespace`);r&&(n=r)})),n}(e,t);i&&(n=i)}else n=vv("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function Tv(e){return xv(e.protocol,!0)}function Mv(e){return typeof e<"u"&&null!==typeof e}function Rv(e,t){return!(!Pv(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...fv(e.accounts))})),t}(e).includes(t))}function Lv(e,t,n){return!!xv(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{fv(e.accounts).includes(t)&&n.push(...e.methods)})),n}(e,t).includes(n)}function Bv(e,t,n){return!!xv(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{fv(e.accounts).includes(t)&&n.push(...e.events)})),n}(e,t).includes(n)}function Dv(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach((n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((r=>{t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),s=function(e){const t={};return Object.keys(e).forEach((n=>{if(n.includes(":"))t[n]=e[n];else{const r=fv(e[n].accounts);r?.forEach((r=>{t[r]={accounts:e[n].accounts.filter((e=>e.includes(`${r}:`))),methods:e[n].methods,events:e[n].events}}))}})),t}(t),o=Object.keys(i),a=Object.keys(s),c=Uv(Object.keys(e)),l=Uv(Object.keys(t)),u=c.filter((e=>!l.includes(e)));return u.length&&(r=vv("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),tm(o,a)||(r=vv("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||r)return;const i=fv(t[e].accounts);i.includes(e)||(r=vv("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))})),o.forEach((e=>{r||(tm(i[e].methods,s[e].methods)?tm(i[e].events,s[e].events)||(r=vv("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=vv("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))})),r}function Uv(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function jv(){const e=Jg();return new Promise((t=>{switch(e){case Vg:t(Wg()&&navigator?.onLine);break;case qg:t(async function(){if(Qg()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return e?.isConnected}return!0}());break;default:t(!0)}}))}function zv(e){switch(Jg()){case Vg:!function(e){!Qg()&&Wg()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case qg:!function(e){Qg()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&n.g?.NetInfo.addEventListener((t=>e(t?.isConnected)))}(e)}}const Fv={};class qv{static get(e){return Fv[e]}static set(e,t){Fv[e]=t}static delete(e){delete Fv[e]}}class Hv{}class Vv extends Hv{constructor(e){super()}}const $v=Sl.FIVE_SECONDS,Gv="heartbeat_pulse";class Kv extends Vv{constructor(e){super(e),this.events=new ll.EventEmitter,this.interval=$v,this.interval=e?.interval||$v}static async init(e){const t=new Kv(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),(0,Sl.toMiliseconds)(this.interval))}pulse(){this.events.emit(Gv)}}const Qv=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Wv=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Jv=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Yv(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function Zv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;const n=e.trim();if('"'===e[0]&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const e=n.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!Jv.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Qv.test(e)||Wv.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Yv)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function Xv(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(i=e(...n))&&"function"===typeof i.then?i:Promise.resolve(i)}catch(s){return Promise.reject(s)}var i}function ew(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return ew(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const tw="base64:";function nw(e){return"string"===typeof e?e:tw+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function rw(e){return"string"!==typeof e?e:e.startsWith(tw)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),(e=>e.codePointAt(0)))}(e.slice(7)):e}function iw(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function sw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iw(t.join(":"))}function ow(e){return(e=iw(e))?e+":":""}const aw=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function cw(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||aw()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const n of e.mountpoints)if(t.startsWith(n))return{base:n,relativeKey:t.slice(n.length),driver:e.mounts[n]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,n)=>e.mountpoints.filter((e=>e.startsWith(t)||n&&t.startsWith(e))).map((n=>({relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]}))),r=(t,n)=>{if(e.watching){n=iw(n);for(const r of e.watchListeners)r(t,n)}},i=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(e,n,r)=>{const i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(const o of e){const e="string"===typeof o,r=iw(e?o:o.key),i=e?void 0:o.value,a=e||!o.options?n:{...n,...o.options},c=t(r);s(c).items.push({key:r,value:i,relativeKey:c.relativeKey,options:a})}return Promise.all([...i.values()].map((e=>r(e)))).then((e=>e.flat()))},o={hasItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=iw(e);const{relativeKey:r,driver:i}=t(e);return Xv(i.hasItem,r,n)},getItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=iw(e);const{relativeKey:r,driver:i}=t(e);return Xv(i.getItem,r,n).then((e=>Zv(e)))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,(e=>e.driver.getItems?Xv(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:sw(e.base,t.key),value:Zv(t.value)}))))):Promise.all(e.items.map((t=>Xv(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:Zv(e)}))))))))},getItemRaw(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=iw(e);const{relativeKey:r,driver:i}=t(e);return i.getItemRaw?Xv(i.getItemRaw,r,n):Xv(i.getItem,r,n).then((e=>rw(e)))},async setItem(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return o.removeItem(e);e=iw(e);const{relativeKey:s,driver:a}=t(e);a.setItem&&(await Xv(a.setItem,s,ew(n),i),a.watch||r("update",e))},async setItems(e,t){await s(e,t,(async e=>{if(e.driver.setItems)return Xv(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:ew(e.value),options:e.options}))),t);e.driver.setItem&&await Promise.all(e.items.map((t=>Xv(e.driver.setItem,t.relativeKey,ew(t.value),t.options))))}))},async setItemRaw(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return o.removeItem(e,i);e=iw(e);const{relativeKey:s,driver:a}=t(e);if(a.setItemRaw)await Xv(a.setItemRaw,s,n,i);else{if(!a.setItem)return;await Xv(a.setItem,s,nw(n),i)}a.watch||r("update",e)},async removeItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={removeMeta:n}),e=iw(e);const{relativeKey:i,driver:s}=t(e);s.removeItem&&(await Xv(s.removeItem,i,n),(n.removeMeta||n.removeMata)&&await Xv(s.removeItem,i+"$",n),s.watch||r("remove",e))},async getMeta(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={nativeOnly:n}),e=iw(e);const{relativeKey:r,driver:i}=t(e),s=Object.create(null);if(i.getMeta&&Object.assign(s,await Xv(i.getMeta,r,n)),!n.nativeOnly){const e=await Xv(i.getItem,r+"$",n).then((e=>Zv(e)));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,n)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=ow(e);const r=n(e,!0);let i=[];const s=[];let o=!0;for(const n of r){n.driver.flags?.maxDepth||(o=!1);const e=await Xv(n.driver.getKeys,n.relativeBase,t);for(const t of e){const e=n.mountpoint+iw(t);i.some((t=>e.startsWith(t)))||s.push(e)}i=[n.mountpoint,...i.filter((e=>!e.startsWith(n.mountpoint)))]}const a=void 0!==t.maxDepth&&!o;return s.filter((n=>(!a||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e)))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=ow(e),await Promise.all(n(e,!1).map((async e=>{if(e.driver.clear)return Xv(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map((n=>e.driver.removeItem(n,t))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((e=>uw(e))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await lw(e.mounts[t],r,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await i()}),async unwatch(){e.watchListeners=[],await i()},mount(t,n){if((t=ow(t))&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort(((e,t)=>t.length-e.length))),e.mounts[t]=n,e.watching&&Promise.resolve(lw(n,r,t)).then((n=>{e.unwatch[t]=n})).catch(console.error),o},async unmount(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(t=ow(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t]?.(),delete e.unwatch[t]),n&&await uw(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t])},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=iw(e)+":";const n=t(e);return{driver:n.driver,base:n.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=iw(e);return n(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getItem(e,t)},set:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.setItem(e,t,n)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)}};return o}function lw(e,t,n){return e.watch?e.watch(((e,r)=>t(e,n+r))):()=>{}}async function uw(e){"function"===typeof e.dispose&&await Xv(e.dispose)}function hw(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function dw(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=hw(n);return(e,n)=>r.then((r=>n(r.transaction(t,e).objectStore(t))))}let fw;function pw(){return fw||(fw=dw("keyval-store","keyval")),fw}function gw(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:pw())("readonly",(t=>hw(t.get(e))))}function mw(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},hw(e.transaction)}var yw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=dw(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await gw(n(e),r)>"u"),getItem:async e=>await gw(n(e),r)??null,setItem:(e,t)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:pw())("readwrite",(n=>(n.put(t,e),hw(n.transaction))))}(n(e),t,r),removeItem:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:pw())("readwrite",(t=>(t.delete(e),hw(t.transaction))))}(n(e),r),getKeys:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pw())("readonly",(e=>{if(e.getAllKeys)return hw(e.getAllKeys());const t=[];return mw(e,(e=>t.push(e.key))).then((()=>t))}))}(r),clear:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pw())("readwrite",(e=>(e.clear(),hw(e.transaction))))}(r)}};class bw{constructor(){this.indexedDb=cw({driver:yw({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,_u(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},ww={exports:{}};function Ew(e){var t;return[e[0],Nu(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof vw<"u"&&vw.localStorage?ww.exports=vw.localStorage:typeof window<"u"&&window.localStorage?ww.exports=window.localStorage:ww.exports=new t}();class Aw{constructor(){this.localStorage=ww.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Ew)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return Nu(t)}async setItem(e,t){this.localStorage.setItem(e,_u(t))}async removeItem(e){this.localStorage.removeItem(e)}}const Sw=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class xw{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new Aw;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),Sw(e,o)})(e,new bw,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}var Iw=n(5711),Pw=n.n(Iw);const kw="info",Ow="custom_context",Cw=1024e3;class Nw{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class _w{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Nw(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class Tw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cw;this.level=e??"error",this.levelValue=Iw.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new _w(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===Iw.levels.values.error?console.error(e):t===Iw.levels.values.warn?console.warn(e):t===Iw.levels.values.debug?console.debug(e):t===Iw.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(_u({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new _w(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(_u({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class Mw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cw;this.baseChunkLogger=new Tw(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}class Rw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cw;this.baseChunkLogger=new Tw(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var Lw=Object.defineProperty,Bw=Object.defineProperties,Dw=Object.getOwnPropertyDescriptors,Uw=Object.getOwnPropertySymbols,jw=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable,Fw=(e,t,n)=>t in e?Lw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qw=(e,t)=>{for(var n in t||(t={}))jw.call(t,n)&&Fw(e,n,t[n]);if(Uw)for(var n of Uw(t))zw.call(t,n)&&Fw(e,n,t[n]);return e},Hw=(e,t)=>Bw(e,Dw(t));function Vw(e){return Hw(qw({},e),{level:e?.level||kw})}function $w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ow,n="";return n=typeof e.bindings>"u"?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ow]||""}(e,t):e.bindings().context||"",n}function Gw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ow;const r=function(e,t){const n=$w(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ow);return n.trim()?`${n}/${t}`:t}(e,t,n);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ow]=t,e}(e.child({context:r}),r,n)}function Kw(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new Mw(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Pw()(Hw(qw({},e.opts),{level:"trace",browser:Hw(qw({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new Rw(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Pw()(Hw(qw({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}var Qw=Object.defineProperty,Ww=(e,t,n)=>((e,t,n)=>t in e?Qw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Jw extends Hv{constructor(e){super(),this.opts=e,Ww(this,"protocol","wc"),Ww(this,"version",2)}}var Yw=Object.defineProperty,Zw=(e,t,n)=>((e,t,n)=>t in e?Yw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Xw extends Hv{constructor(e,t){super(),this.core=e,this.logger=t,Zw(this,"records",new Map)}}class eE{constructor(e,t){this.logger=e,this.core=t}}class tE extends Hv{constructor(e,t){super(),this.relayer=e,this.logger=t}}class nE extends Hv{constructor(e){super()}}class rE{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class iE extends Hv{constructor(e,t){super(),this.relayer=e,this.logger=t}}class sE extends Hv{constructor(e,t){super(),this.core=e,this.logger=t}}class oE{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class aE{constructor(e,t){this.projectId=e,this.logger=t}}class cE{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var lE=Object.defineProperty,uE=(e,t,n)=>((e,t,n)=>t in e?lE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);ul();class hE{constructor(e){this.opts=e,uE(this,"protocol","wc"),uE(this,"version",2)}}ll.EventEmitter;class dE{constructor(e){this.client=e}}const fE="PARSE_ERROR",pE="INVALID_REQUEST",gE="METHOD_NOT_FOUND",mE="INVALID_PARAMS",yE="INTERNAL_ERROR",bE="SERVER_ERROR",vE=[-32700,-32600,-32601,-32602,-32603],wE={[fE]:{code:-32700,message:"Parse error"},[pE]:{code:-32600,message:"Invalid Request"},[gE]:{code:-32601,message:"Method not found"},[mE]:{code:-32602,message:"Invalid params"},[yE]:{code:-32603,message:"Internal error"},[bE]:{code:-32e3,message:"Server error"}},EE=bE;function AE(e){return vE.includes(e)}function SE(e){return Object.keys(wE).includes(e)?wE[e]:wE[EE]}function xE(e){const t=Object.values(wE).find((t=>t.code===e));return t||wE[EE]}function IE(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var PE=n(8129);function kE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function OE(){return BigInt(kE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function CE(e,t,n){return{id:n||kE(),jsonrpc:"2.0",method:e,params:t}}function NE(e,t){return{id:e,jsonrpc:"2.0",result:t}}function _E(e,t,n){return{id:e,jsonrpc:"2.0",error:TE(t,n)}}function TE(e,t){return"undefined"===typeof e?SE(yE):("string"===typeof e&&(e=Object.assign(Object.assign({},SE(bE)),{message:e})),"undefined"!==typeof t&&(e.data=t),AE(e.code)&&(e=xE(e.code)),e)}class ME{}class RE extends ME{constructor(){super()}}class LE extends RE{constructor(e){super()}}function BE(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof n&&new RegExp(t).test(n)}function DE(e){return BE(e,"^https?:")}function UE(e){return BE(e,"^wss?:")}function jE(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function zE(e){return jE(e)&&"method"in e}function FE(e){return jE(e)&&(qE(e)||HE(e))}function qE(e){return"result"in e}function HE(e){return"error"in e}class VE extends LE{constructor(e){super(e),this.events=new ll.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(CE(e.method,e.params||[],e.id||OE().toString()),t)}async requestStrict(e,t){return new Promise((async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(ft){r(ft)}this.events.on(`${e.id}`,(e=>{HE(e)?r(e.error):n(e.result)}));try{await this.connection.send(e,t)}catch(ft){r(ft)}}))}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),FE(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const $E=e=>e.split("?")[0],GE=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(1198);class KE{constructor(e){if(this.url=e,this.events=new ll.EventEmitter,this.registering=!1,!UE(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(_u(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!UE(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,r)=>{const i=(0,PE.isReactNative)()?void 0:{rejectUnauthorized:(o=e,!new RegExp("wss?://localhost(:d{2,5})?").test(o))},s=new GE(e,[],i);var o;typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?s.onerror=e=>{const t=e;r(this.emitError(t.error))}:s.on("error",(e=>{r(this.emitError(e))})),s.onopen=()=>{this.onOpen(s),t(s)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Nu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=_E(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return IE(e,$E(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${$E(this.url)}`));return this.events.emit("register_error",t),t}}const QE="core",WE=`wc@2:${QE}:`,JE="error",YE={database:":memory:"},ZE="client_ed25519_seed",XE=Sl.ONE_DAY,eA=Sl.SIX_HOURS,tA="wss://relay.walletconnect.org",nA="relayer_message",rA="relayer_message_ack",iA="relayer_connect",sA="relayer_disconnect",oA="relayer_error",aA="relayer_connection_stalled",cA="relayer_publish",lA="payload",uA="connect",hA="disconnect",dA="error",fA="2.19.1",pA={link_mode:"link_mode",relay:"relay"},gA="inbound",mA="outbound",yA="WALLETCONNECT_LINK_MODE_APPS",bA="subscription_created",vA="subscription_deleted",wA="subscription_sync",EA="subscription_resubscribed",AA=(Sl.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:Sl.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Sl.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Sl.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Sl.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Sl.ONE_DAY,prompt:!1,tag:0},res:{ttl:Sl.ONE_DAY,prompt:!1,tag:0}}}),SA="pairing_create",xA="pairing_expire",IA="pairing_delete",PA="pairing_ping",kA="history_created",OA="history_updated",CA="history_deleted",NA="history_sync",_A="expirer_created",TA="expirer_deleted",MA="expirer_expired",RA="expirer_sync",LA="https://verify.walletconnect.org",BA=LA,DA=`${BA}/v3`,UA=["https://verify.walletconnect.com",LA],jA="pairing_started",zA="pairing_uri_validation_success",FA="pairing_uri_not_expired",qA="store_new_pairing",HA="subscribing_pairing_topic",VA="subscribe_pairing_topic_success",$A="existing_pairing",GA="pairing_not_expired",KA="emit_inactive_pairing",QA="emit_session_proposal",WA="no_internet_connection",JA="malformed_pairing_uri",YA="active_pairing_already_exists",ZA="subscribe_pairing_topic_failure",XA="pairing_expired",eS="proposal_listener_not_found",tS="session_approve_started",nS="session_namespaces_validation_success",rS="subscribing_session_topic",iS="subscribe_session_topic_success",sS="publishing_session_approve",oS="session_approve_publish_success",aS="store_session",cS="publishing_session_settle",lS="session_settle_publish_success",uS="no_internet_connection",hS="proposal_expired",dS="subscribe_session_topic_failure",fS="session_approve_publish_failure",pS="session_settle_publish_failure",gS="session_approve_namespace_validation_failure",mS="proposal_not_found",yS="authenticated_session_approve_started",bS="create_authenticated_session_topic",vS="cacaos_verified",wS="store_authenticated_session",ES="subscribing_authenticated_session_topic",AS="subscribe_authenticated_session_topic_success",SS="publishing_authenticated_session_approve",xS="no_internet_connection",IS="invalid_cacao",PS="subscribe_authenticated_session_topic_failure",kS="authenticated_session_approve_publish_failure",OS="authenticated_session_pending_request_not_found";var CS=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}},NS=CS;const _S=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class TS{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class MS{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return LS(this,e)}}class RS{constructor(e){this.decoders=e}or(e){return LS(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const LS=(e,t)=>new RS({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class BS{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new TS(e,t,n),this.decoder=new MS(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const DS=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new BS(t,n,r,i)},US=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=NS(r,n);return DS({prefix:t,name:n,encode:i,decode:e=>_S(s(e))})},jS=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return DS({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},zS=DS({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var FS=Object.freeze({__proto__:null,identity:zS});const qS=jS({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var HS=Object.freeze({__proto__:null,base2:qS});const VS=jS({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var $S=Object.freeze({__proto__:null,base8:VS});const GS=US({prefix:"9",name:"base10",alphabet:"0123456789"});var KS=Object.freeze({__proto__:null,base10:GS});const QS=jS({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),WS=jS({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var JS=Object.freeze({__proto__:null,base16:QS,base16upper:WS});const YS=jS({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ZS=jS({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),XS=jS({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ex=jS({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tx=jS({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nx=jS({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rx=jS({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ix=jS({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sx=jS({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ox=Object.freeze({__proto__:null,base32:YS,base32upper:ZS,base32pad:XS,base32padupper:ex,base32hex:tx,base32hexupper:nx,base32hexpad:rx,base32hexpadupper:ix,base32z:sx});const ax=US({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cx=US({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lx=Object.freeze({__proto__:null,base36:ax,base36upper:cx});const ux=US({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hx=US({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var dx=Object.freeze({__proto__:null,base58btc:ux,base58flickr:hx});const fx=jS({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),px=jS({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gx=jS({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mx=jS({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var yx=Object.freeze({__proto__:null,base64:fx,base64pad:px,base64url:gx,base64urlpad:mx});const bx=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),vx=bx.reduce(((e,t,n)=>(e[n]=t,e)),[]),wx=bx.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const Ex=DS({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=vx[t]),"")},decode:function(e){const t=[];for(const n of e){const e=wx[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var Ax=Object.freeze({__proto__:null,base256emoji:Ex}),Sx=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Px;)n[r++]=255&t|xx,t/=128;for(;t&Ix;)n[r++]=255&t|xx,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},xx=128,Ix=-128,Px=Math.pow(2,31);var kx=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&Cx)<<s:(r&Cx)*Math.pow(2,s),s+=7}while(r>=Ox);return e.bytes=o-n,i},Ox=128,Cx=127;var Nx=Math.pow(2,7),_x=Math.pow(2,14),Tx=Math.pow(2,21),Mx=Math.pow(2,28),Rx=Math.pow(2,35),Lx=Math.pow(2,42),Bx=Math.pow(2,49),Dx=Math.pow(2,56),Ux=Math.pow(2,63),jx={encode:Sx,decode:kx,encodingLength:function(e){return e<Nx?1:e<_x?2:e<Tx?3:e<Mx?4:e<Rx?5:e<Lx?6:e<Bx?7:e<Dx?8:e<Ux?9:10}},zx=jx;const Fx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return zx.encode(e,t,n),t},qx=e=>zx.encodingLength(e),Hx=(e,t)=>{const n=t.byteLength,r=qx(e),i=r+qx(n),s=new Uint8Array(i+n);return Fx(e,s,0),Fx(n,s,r),s.set(t,i),new Vx(e,n,t,s)};class Vx{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const $x=e=>{let{name:t,code:n,encode:r}=e;return new Gx(t,n,r)};class Gx{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Hx(this.code,t):t.then((e=>Hx(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Kx=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Qx=$x({name:"sha2-256",code:18,encode:Kx("SHA-256")}),Wx=$x({name:"sha2-512",code:19,encode:Kx("SHA-512")});Object.freeze({__proto__:null,sha256:Qx,sha512:Wx});const Jx=_S,Yx={code:0,name:"identity",encode:Jx,digest:e=>Hx(0,Jx(e))};Object.freeze({__proto__:null,identity:Yx});new TextEncoder,new TextDecoder;const Zx={...FS,...HS,...$S,...KS,...JS,...ox,...lx,...dx,...yx,...Ax};function Xx(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const eI=Xx("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),tI=Xx("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),nI={utf8:eI,"utf-8":eI,hex:Zx.base16,latin1:tI,ascii:tI,binary:tI,...Zx};var rI=Object.defineProperty,iI=(e,t,n)=>((e,t,n)=>t in e?rI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class sI{constructor(e,t){this.core=e,this.logger=t,iI(this,"keychain",new Map),iI(this,"name","keychain"),iI(this,"version","0.3"),iI(this,"initialized",!1),iI(this,"storagePrefix",WE),iI(this,"init",(async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}})),iI(this,"has",(e=>(this.isInitialized(),this.keychain.has(e)))),iI(this,"set",(async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()})),iI(this,"get",(e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=vv("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t})),iI(this,"del",(async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()})),this.core=e,this.logger=Gw(t,this.name)}get context(){return $w(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,nm(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?rm(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}}var oI=Object.defineProperty,aI=(e,t,n)=>((e,t,n)=>t in e?oI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class cI{constructor(e,t,n){this.core=e,this.logger=t,aI(this,"name","crypto"),aI(this,"keychain"),aI(this,"randomSessionIdentifier",Wb()),aI(this,"initialized",!1),aI(this,"init",(async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)})),aI(this,"hasKeys",(e=>(this.isInitialized(),this.keychain.has(e)))),aI(this,"getClientId",(async()=>{this.isInitialized();return ep(rp(await this.getClientSeed()).publicKey)})),aI(this,"generateKeyPair",(()=>{this.isInitialized();const e=function(){const e=Hb.utils.randomPrivateKey(),t=Hb.getPublicKey(e);return{privateKey:Lg(e,$b),publicKey:Lg(t,$b)}}();return this.setPrivateKey(e.publicKey,e.privateKey)})),aI(this,"signJWT",(async e=>{this.isInitialized();const t=rp(await this.getClientSeed()),n=this.randomSessionIdentifier,r=XE;return await ip(n,e,r,t)})),aI(this,"generateSharedKey",((e,t,n)=>{this.isInitialized();const r=function(e,t){const n=Hb.getSharedSecret(Rg(e,$b),Rg(t,$b));return Lg(ib(db,n,void 0,void 0,32),$b)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)})),aI(this,"setSymKey",(async(e,t)=>{this.isInitialized();const n=t||Jb(e);return await this.keychain.set(n,e),n})),aI(this,"deleteKeyPair",(async e=>{this.isInitialized(),await this.keychain.del(e)})),aI(this,"deleteSymKey",(async e=>{this.isInitialized(),await this.keychain.del(e)})),aI(this,"encode",(async(e,t,n)=>{this.isInitialized();const r=nv(n),i=_u(t);if(iv(r))return function(e,t){const n=Zb(2),r=Rm(12);return ev({type:n,sealed:Rg(e,Qb),iv:r,encoding:t})}(i,n?.encoding);if(rv(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=Zb(typeof e.type<"u"?e.type:0);if(1===Xb(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Rg(e.senderPublicKey,$b):void 0,r=typeof e.iv<"u"?Rg(e.iv,$b):Rm(12),i=Rg(e.symKey,$b);return ev({type:t,sealed:Xy(i,r).encrypt(Rg(e.message,Qb)),iv:r,senderPublicKey:n,encoding:e.encoding})}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:n?.encoding})})),aI(this,"decode",(async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=tv({encoded:e,encoding:t?.encoding});return nv({type:Xb(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Lg(n.senderPublicKey,$b):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,n);if(iv(r)){const e=function(e,t){const{sealed:n}=tv({encoded:e,encoding:t});return Lg(n,Qb)}(t,n?.encoding);return Nu(e)}if(rv(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=Rg(e.symKey,$b),{sealed:n,iv:r}=tv(e),i=Xy(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return Lg(i,Qb)}({symKey:this.getSymKey(e),encoded:t,encoding:n?.encoding});return Nu(r)}catch(i){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(i)}})),aI(this,"getPayloadType",(function(e){return Xb(tv({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gb}).type)})),aI(this,"getPayloadSenderPublicKey",(function(e){const t=tv({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gb});return t.senderPublicKey?Lg(t.senderPublicKey,$b):void 0})),this.core=e,this.logger=Gw(t,this.name),this.keychain=n||new sI(this.core,this.logger)}get context(){return $w(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ZE)}catch{e=Wb(),await this.keychain.set(ZE,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=nI[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):globalThis.Buffer.from(e,"utf8")}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lI=Object.defineProperty,uI=Object.defineProperties,hI=Object.getOwnPropertyDescriptors,dI=Object.getOwnPropertySymbols,fI=Object.prototype.hasOwnProperty,pI=Object.prototype.propertyIsEnumerable,gI=(e,t,n)=>t in e?lI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mI=(e,t,n)=>gI(e,"symbol"!=typeof t?t+"":t,n);class yI extends eE{constructor(e,t){super(e,t),this.logger=e,this.core=t,mI(this,"messages",new Map),mI(this,"messagesWithoutClientAck",new Map),mI(this,"name","messages"),mI(this,"version","0.3"),mI(this,"initialized",!1),mI(this,"storagePrefix",WE),mI(this,"init",(async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch($v){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error($v)}finally{this.initialized=!0}}})),mI(this,"set",(async(e,t,n)=>{this.isInitialized();const r=Yb(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===gA){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>uI(e,hI(t)))(((e,t)=>{for(var n in t||(t={}))fI.call(t,n)&&gI(e,n,t[n]);if(dI)for(var n of dI(t))pI.call(t,n)&&gI(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r})),mI(this,"get",(e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t})),mI(this,"getWithoutAck",(e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t})),mI(this,"has",((e,t)=>{this.isInitialized();return typeof this.get(e)[Yb(t)]<"u"})),mI(this,"ack",(async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);if(typeof n>"u")return;delete n[Yb(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist()})),mI(this,"del",(async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()})),this.logger=Gw(e,this.name),this.core=t}get context(){return $w(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,nm(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,nm(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?rm(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?rm(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}}var bI=Object.defineProperty,vI=Object.defineProperties,wI=Object.getOwnPropertyDescriptors,EI=Object.getOwnPropertySymbols,AI=Object.prototype.hasOwnProperty,SI=Object.prototype.propertyIsEnumerable,xI=(e,t,n)=>t in e?bI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,II=(e,t)=>{for(var n in t||(t={}))AI.call(t,n)&&xI(e,n,t[n]);if(EI)for(var n of EI(t))SI.call(t,n)&&xI(e,n,t[n]);return e},PI=(e,t)=>vI(e,wI(t)),kI=(e,t,n)=>xI(e,"symbol"!=typeof t?t+"":t,n);class OI extends tE{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,kI(this,"events",new ll.EventEmitter),kI(this,"name","publisher"),kI(this,"queue",new Map),kI(this,"publishTimeout",(0,Sl.toMiliseconds)(Sl.ONE_MINUTE)),kI(this,"initialPublishTimeout",(0,Sl.toMiliseconds)(15*Sl.ONE_SECOND)),kI(this,"needsTransportRestart",!1),kI(this,"publish",(async(e,t,n)=>{var r;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const i=n?.ttl||eA,s=ov(n),o=n?.prompt||!1,a=n?.tag||0,c=n?.id||OE().toString(),l={topic:e,message:t,opts:{ttl:i,relay:s,prompt:o,tag:a,id:c,attestation:n?.attestation,tvf:n?.tvf}},u=`Failed to publish payload, please try again. id:${c} tag:${a}`;try{const r=new Promise((async r=>{const s=e=>{let{id:t}=e;l.opts.id===t&&(this.removeRequestFromQueue(t),this.relayer.events.removeListener(cA,s),r(l))};this.relayer.events.on(cA,s);const u=sm(new Promise(((r,s)=>{this.rpcPublish({topic:e,message:t,ttl:i,prompt:o,tag:a,id:c,attestation:n?.attestation,tvf:n?.tvf}).then(r).catch((e=>{this.logger.warn(e,e?.message),s(e)}))})),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${c} tag:${a}`);try{await u,this.events.removeListener(cA,s)}catch(h){this.queue.set(c,PI(II({},l),{attempt:1})),this.logger.warn(h,h?.message)}}));this.logger.trace({type:"method",method:"publish",params:{id:c,topic:e,message:t,opts:n}}),await sm(r,this.publishTimeout,u)}catch(h){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(h),null!=(r=n?.internal)&&r.throwOnFailedPublish)throw h}finally{this.queue.delete(c)}})),kI(this,"on",((e,t)=>{this.events.on(e,t)})),kI(this,"once",((e,t)=>{this.events.once(e,t)})),kI(this,"off",((e,t)=>{this.events.off(e,t)})),kI(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.relayer=e,this.logger=Gw(t,this.name),this.registerEventListeners()}get context(){return $w(this.logger)}async rpcPublish(e){var t,n,r,i;const{topic:s,message:o,ttl:a=eA,prompt:c,tag:l,id:u,attestation:h,tvf:d}=e,f={method:av(ov().protocol).publish,params:II({topic:s,message:o,ttl:a,prompt:c,tag:l,attestation:h},d),id:u};Sv(null==(t=f.params)?void 0:t.prompt)&&(null==(n=f.params)||delete n.prompt),Sv(null==(r=f.params)?void 0:r.tag)&&(null==(i=f.params)||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f});const p=await this.relayer.request(f);return this.relayer.events.emit(cA,e),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async(e,t)=>{const n=e.attempt+1;this.queue.set(t,PI(II({},e),{attempt:n}));const{topic:r,message:i,opts:s,attestation:o}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(PI(II({},e),{topic:r,message:i,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:o,tvf:s.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)}))}registerEventListeners(){this.relayer.core.heartbeat.on(Gv,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(aA);this.checkQueue()})),this.relayer.on(rA,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}var CI=Object.defineProperty,NI=(e,t,n)=>((e,t,n)=>t in e?CI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class _I{constructor(){NI(this,"map",new Map),NI(this,"set",((e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])})),NI(this,"get",(e=>this.map.get(e)||[])),NI(this,"exists",((e,t)=>this.get(e).includes(t))),NI(this,"delete",((e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter((e=>e!==t));r.length?this.map.set(e,r):this.map.delete(e)})),NI(this,"clear",(()=>{this.map.clear()}))}get topics(){return Array.from(this.map.keys())}}var TI=Object.defineProperty,MI=Object.defineProperties,RI=Object.getOwnPropertyDescriptors,LI=Object.getOwnPropertySymbols,BI=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable,UI=(e,t,n)=>t in e?TI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jI=(e,t)=>{for(var n in t||(t={}))BI.call(t,n)&&UI(e,n,t[n]);if(LI)for(var n of LI(t))DI.call(t,n)&&UI(e,n,t[n]);return e},zI=(e,t)=>MI(e,RI(t)),FI=(e,t,n)=>UI(e,"symbol"!=typeof t?t+"":t,n);class qI extends iE{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,FI(this,"subscriptions",new Map),FI(this,"topicMap",new _I),FI(this,"events",new ll.EventEmitter),FI(this,"name","subscription"),FI(this,"version","0.3"),FI(this,"pending",new Map),FI(this,"cached",[]),FI(this,"initialized",!1),FI(this,"storagePrefix",WE),FI(this,"subscribeTimeout",(0,Sl.toMiliseconds)(Sl.ONE_MINUTE)),FI(this,"initialSubscribeTimeout",(0,Sl.toMiliseconds)(15*Sl.ONE_SECOND)),FI(this,"clientId"),FI(this,"batchSubscribeTopicsLimit",500),FI(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0})),FI(this,"subscribe",(async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const n=ov(t),r={topic:e,relay:n,transportType:t?.transportType};this.pending.set(e,r);const i=await this.rpcSubscribe(e,n,t);return"string"==typeof i&&(this.onSubscribe(i,r),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),i}catch(ft){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(ft),ft}})),FI(this,"unsubscribe",(async(e,t)=>{this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)})),FI(this,"isSubscribed",(e=>new Promise((t=>{t(this.topicMap.topics.includes(e))})))),FI(this,"isKnownTopic",(e=>new Promise((t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some((t=>t.topic===e)))})))),FI(this,"on",((e,t)=>{this.events.on(e,t)})),FI(this,"once",((e,t)=>{this.events.once(e,t)})),FI(this,"off",((e,t)=>{this.events.off(e,t)})),FI(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),FI(this,"start",(async()=>{await this.onConnect()})),FI(this,"stop",(async()=>{await this.onDisconnect()})),FI(this,"restart",(async()=>{await this.restore(),await this.onRestart()})),FI(this,"checkPending",(async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e)})),FI(this,"registerEventListeners",(()=>{this.relayer.core.heartbeat.on(Gv,(async()=>{await this.checkPending()})),this.events.on(bA,(async e=>{const t=bA;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(vA,(async e=>{const t=vA;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))})),this.relayer=e,this.logger=Gw(t,this.name),this.clientId=""}get context(){return $w(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map((async n=>await this.unsubscribeById(e,n,t))))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=ov(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=wv("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(qw){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(qw),qw}}async rpcSubscribe(e,t,n){var r;(!n||n?.transportType===pA.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const i={method:av(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const s=null==(r=n?.internal)?void 0:r.throwOnFailedPublish;try{const t=await this.getSubscriptionId(e);if(n?.transportType===pA.link_mode)return setTimeout((()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch((e=>this.logger.warn(e)))}),(0,Sl.toMiliseconds)(Sl.ONE_SECOND)),t;const r=new Promise((async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(bA,n),t(r.id))};this.events.on(bA,n);try{const r=await sm(new Promise(((e,t)=>{this.relayer.request(i).catch((e=>{this.logger.warn(e,e?.message),t(e)})).then(e)})),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(bA,n),t(r)}catch{}})),o=await sm(r,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!o&&s)throw new Error(`Subscribing to ${e} failed, please try again`);return o?t:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(aA),s)throw o}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:av(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await sm(new Promise((e=>{this.relayer.request(t).catch((e=>this.logger.warn(e))).then(e)})),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(aA)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:av(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map((e=>e.topic))}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await sm(new Promise(((e,n)=>{this.relayer.request(t).catch((e=>{this.logger.warn(e),n(e)})).then(e)})),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(aA)}return n}rpcUnsubscribe(e,t,n){const r={method:av(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,zI(jI({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,jI({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,jI({},t)),this.topicMap.set(t.topic,e),this.events.emit(bA,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=vv("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(vA,zI(jI({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(wA)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(EA)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=vv("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map((async e=>zI(jI({},e),{id:await this.getSubscriptionId(e.topic)}))))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise((t=>setTimeout(t,e)))}((0,Sl.toMiliseconds)(Sl.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Yb(e+await this.getClientId())}}var HI=Object.defineProperty,VI=Object.getOwnPropertySymbols,$I=Object.prototype.hasOwnProperty,GI=Object.prototype.propertyIsEnumerable,KI=(e,t,n)=>t in e?HI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QI=(e,t)=>{for(var n in t||(t={}))$I.call(t,n)&&KI(e,n,t[n]);if(VI)for(var n of VI(t))GI.call(t,n)&&KI(e,n,t[n]);return e},WI=(e,t,n)=>KI(e,"symbol"!=typeof t?t+"":t,n);class JI extends nE{constructor(e){super(e),WI(this,"protocol","wc"),WI(this,"version",2),WI(this,"core"),WI(this,"logger"),WI(this,"events",new ll.EventEmitter),WI(this,"provider"),WI(this,"messages"),WI(this,"subscriber"),WI(this,"publisher"),WI(this,"name","relayer"),WI(this,"transportExplicitlyClosed",!1),WI(this,"initialized",!1),WI(this,"connectionAttemptInProgress",!1),WI(this,"relayUrl"),WI(this,"projectId"),WI(this,"packageName"),WI(this,"bundleId"),WI(this,"hasExperiencedNetworkDisruption",!1),WI(this,"pingTimeout"),WI(this,"heartBeatTimeout",(0,Sl.toMiliseconds)(Sl.THIRTY_SECONDS+Sl.FIVE_SECONDS)),WI(this,"reconnectTimeout"),WI(this,"connectPromise"),WI(this,"reconnectInProgress",!1),WI(this,"requestsInFlight",[]),WI(this,"connectTimeout",(0,Sl.toMiliseconds)(15*Sl.ONE_SECOND)),WI(this,"request",(async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||OE().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i=`${r}:${(null==(n=e.params)?void 0:n.tag)||""}`;this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter((e=>e!==i)),s}catch(i){throw this.logger.debug(`Failed to Publish Request: ${r}`),i}})),WI(this,"resetPingTimeout",(()=>{Kg()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(i){this.logger.warn(i,i?.message)}}),this.heartBeatTimeout))})),WI(this,"onPayloadHandler",(e=>{this.onProviderPayload(e),this.resetPingTimeout()})),WI(this,"onConnectHandler",(()=>{this.logger.warn({},"Relayer connected \ud83d\udedc"),this.startPingTimeout(),this.events.emit(iA)})),WI(this,"onDisconnectHandler",(()=>{this.logger.warn({},"Relayer disconnected \ud83d\uded1"),this.requestsInFlight=[],this.onProviderDisconnect()})),WI(this,"onProviderErrorHandler",(e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(oA,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()})),WI(this,"registerProviderListeners",(()=>{this.provider.on(lA,this.onPayloadHandler),this.provider.on(uA,this.onConnectHandler),this.provider.on(hA,this.onDisconnectHandler),this.provider.on(dA,this.onProviderErrorHandler)})),this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Gw(e.logger,this.name):Pw()(Vw({level:e.logger||"error"})),this.messages=new yI(this.logger,e.core),this.subscriber=new qI(this,this.logger),this.publisher=new OI(this,this.logger),this.relayUrl=e?.relayUrl||tA,this.projectId=e.projectId,Qg()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"android"===(null==n.g?void 0:n.g.Platform.OS)?this.packageName=Yg():Qg()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"ios"===(null==n.g?void 0:n.g.Platform.OS)&&(this.bundleId=Yg()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return $w(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:pA.relay},mA)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===t?.transportType)&&await this.toEstablishConnection();const s=typeof(null==(n=t?.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=t?.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(bA,c),o())};return await Promise.all([new Promise((e=>{o=e,this.subscriber.on(bA,c)})),new Promise((async(n,r)=>{a=await this.subscriber.subscribe(e,QI({internal:{throwOnFailedPublish:s}},t)).catch((e=>{s&&r(e)}))||a,n()}))]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await sm(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise((async(t,n)=>{await this.connect(e).then(t).catch(n).finally((()=>{this.connectPromise=void 0}))})),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}else this.logger.warn("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await jv())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===e?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort(((e,t)=>e.publishedAt-t.publishedAt));this.logger.debug(`Batch of ${t.length} message events sorted`);for(const n of t)try{await this.onMessageEvent(n)}catch(qw){this.logger.warn(qw,"Error while processing batch message event: "+qw?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:cm(Sl.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(nA,e),await this.recordMessageEvent(e,gA)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise((async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(hA,n),await sm(new Promise(((e,t)=>{this.provider.connect().then(e).catch(t)})),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch((e=>{t(e)})).finally((()=>{this.provider.off(hA,n),clearTimeout(this.reconnectTimeout)})),await new Promise((async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(hA,n),await this.subscriber.start().then(e).catch(t).finally((()=>{this.provider.off(hA,n)}))})),this.hasExperiencedNetworkDisruption=!1,e()}))}catch($v){await this.subscriber.stop();const t=$v;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise((e=>setTimeout(e,(0,Sl.toMiliseconds)(1*t)))),t++}}startPingTimeout(){var e,t,n,r,i;if(Kg())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(s){this.logger.warn(s,s?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new VE(new KE(em({sdkVersion:fA,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const r=this.messages.has(t,n);return r&&this.logger.warn(`Ignoring duplicate message: ${n}`),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),zE(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:pA.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(QI({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else FE(e)&&this.events.emit(rA,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,gA),this.events.emit(nA,e))}async acknowledgePayload(e){const t=NE(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(lA,this.onPayloadHandler),this.provider.off(uA,this.onConnectHandler),this.provider.off(hA,this.onDisconnectHandler),this.provider.off(dA,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await jv();zv((async t=>{e!==t&&(e=t,t?await this.transportOpen().catch((e=>this.logger.error(e,e?.message))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(sA),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout((async()=>{await this.transportOpen().catch((e=>this.logger.error(e,e?.message))),this.reconnectTimeout=void 0,this.reconnectInProgress=!1}),(0,Sl.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function YI(){}function ZI(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function XI(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}function eP(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const tP="[object Arguments]",nP="[object Object]";function rP(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return iP(e,t,s,o)}return iP(e,t,s,o)}function iP(e,t,n,r){if(Object.is(e,t))return!0;let i=eP(e),s=eP(t);if(i===tP&&(i=nP),s===tP&&(s=nP),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=n??new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!rP(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex((i=>rP(a,i,void 0,e,t,n,r)));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!rP(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&iP(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&iP(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case nP:{if(!(iP(e.constructor,t.constructor,n,r)||ZI(e)&&ZI(t)))return!1;const i=[...Object.keys(e),...XI(e)],s=[...Object.keys(t),...XI(t)];if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++){const s=i[o],a=e[s];if(!Object.hasOwn(t,s))return!1;if(!rP(a,t[s],s,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function sP(e,t){return function(e,t,n){return rP(e,t,void 0,void 0,void 0,void 0,n)}(e,t,YI)}var oP=Object.defineProperty,aP=Object.getOwnPropertySymbols,cP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,uP=(e,t,n)=>t in e?oP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hP=(e,t)=>{for(var n in t||(t={}))cP.call(t,n)&&uP(e,n,t[n]);if(aP)for(var n of aP(t))lP.call(t,n)&&uP(e,n,t[n]);return e},dP=(e,t,n)=>uP(e,"symbol"!=typeof t?t+"":t,n);class fP extends rE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:WE,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,n,r),this.core=e,this.logger=t,this.name=n,dP(this,"map",new Map),dP(this,"version","0.3"),dP(this,"cached",[]),dP(this,"initialized",!1),dP(this,"getKey"),dP(this,"storagePrefix",WE),dP(this,"recentlyDeleted",[]),dP(this,"recentlyDeletedLimit",200),dP(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!Sv(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return e?.topic}(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)})),dP(this,"set",(async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())})),dP(this,"get",(e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)))),dP(this,"getAll",(e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((n=>sP(t[n],e[n]))))):this.values))),dP(this,"update",(async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=hP(hP({},this.getData(e)),t);this.map.set(e,n),await this.persist()})),dP(this,"delete",(async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())})),this.logger=Gw(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return $w(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=vv("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}const{message:t}=vv("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=vv("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}}var pP=Object.defineProperty,gP=(e,t,n)=>((e,t,n)=>t in e?pP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class mP{constructor(e,t){this.core=e,this.logger=t,gP(this,"name","pairing"),gP(this,"version","0.3"),gP(this,"events",new(ul())),gP(this,"pairings"),gP(this,"initialized",!1),gP(this,"storagePrefix",WE),gP(this,"ignoredPayloadTypes",[1]),gP(this,"registeredMethods",[]),gP(this,"init",(async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))})),gP(this,"register",(e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]})),gP(this,"create",(async e=>{this.isInitialized();const t=Wb(),n=await this.core.crypto.setSymKey(t),r=cm(Sl.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:e?.methods},o=hv({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:e?.methods});return this.events.emit(SA,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:e?.transportType}),{topic:n,uri:o}})),gP(this,"pair",(async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[jA]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=lv(e.uri);let a;if(t.props.properties.topic=n,t.addTrace(zA),t.addTrace(FA),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace($A),a.active)throw t.setError(YA),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);t.addTrace(GA)}const c=s||cm(Sl.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace(qA),e.activatePairing&&await this.activate({topic:n}),this.events.emit(SA,l),t.addTrace(KA),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace(HA);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{t.setError(WA)}try{await this.core.relayer.subscribe(n,{relay:i})}catch(u){throw t.setError(ZA),u}return t.addTrace(VA),l})),gP(this,"activate",(async e=>{let{topic:t}=e;this.isInitialized();const n=cm(Sl.FIVE_MINUTES);this.core.expirer.set(t,n),await this.pairings.update(t,{active:!0,expiry:n})})),gP(this,"ping",(async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=im();this.events.once(um("pairing_ping",e),(e=>{let{error:t}=e;t?i(t):r()})),await n()}})),gP(this,"updateExpiry",(async e=>{let{topic:t,expiry:n}=e;this.isInitialized(),await this.pairings.update(t,{expiry:n})})),gP(this,"updateMetadata",(async e=>{let{topic:t,metadata:n}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:n})})),gP(this,"getPairings",(()=>(this.isInitialized(),this.pairings.values))),gP(this,"disconnect",(async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",wv("USER_DISCONNECTED")),await this.deletePairing(t))})),gP(this,"formatUriFromPairing",(e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return hv({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})})),gP(this,"sendRequest",(async(e,t,n)=>{const r=CE(t,n),i=await this.core.crypto.encode(e,r),s=AA[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id})),gP(this,"sendResult",(async(e,t,n)=>{const r=NE(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=AA[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)})),gP(this,"sendError",(async(e,t,n)=>{const r=_E(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=AA[s]?AA[s].res:AA.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)})),gP(this,"deletePairing",(async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,wv("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])})),gP(this,"cleanup",(async()=>{const e=this.pairings.getAll().filter((e=>lm(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))})),gP(this,"onRelayEventRequest",(async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}})),gP(this,"onRelayEventResponse",(async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)})),gP(this,"onPairingPingRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit(PA,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}})),gP(this,"onPairingPingResponse",((e,t)=>{const{id:n}=t;setTimeout((()=>{qE(t)?this.events.emit(um("pairing_ping",n),{}):HE(t)&&this.events.emit(um("pairing_ping",n),{error:t.error})}),500)})),gP(this,"onPairingDeleteRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(IA,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}})),gP(this,"onUnknownRpcMethodRequest",(async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=wv("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(i){await this.sendError(n,e,i),this.logger.error(i)}})),gP(this,"onUnknownRpcMethodResponse",(e=>{this.registeredMethods.includes(e)||this.logger.error(wv("WC_METHOD_UNSUPPORTED",e))})),gP(this,"isValidPair",((e,t)=>{var n;if(!Mv(e)){const{message:n}=vv("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(JA),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch{return!1}}try{if(xv(e,!1))return!!t(e)||t(mm(e))}catch{}return!1}(e.uri)){const{message:n}=vv("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(JA),new Error(n)}const r=lv(e?.uri);if(null==(n=r?.relay)||!n.protocol){const{message:e}=vv("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(JA),new Error(e)}if(null==r||!r.symKey){const{message:e}=vv("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(JA),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,Sl.toMiliseconds)(r?.expiryTimestamp)<Date.now()){t.setError(XA);const{message:e}=vv("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}})),gP(this,"isValidPing",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)})),gP(this,"isValidDisconnect",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)})),gP(this,"isValidPairingTopic",(async e=>{if(!xv(e,!1)){const{message:t}=vv("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=vv("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(lm(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=vv("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}})),this.core=e,this.logger=Gw(t,this.name),this.pairings=new fP(this.core,this.logger,this.name,this.storagePrefix)}get context(){return $w(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(nA,(async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==pA.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);zE(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):FE(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(ft){this.logger.error(ft)}}))}registerExpirerEvents(){this.core.expirer.on(MA,(async e=>{const{topic:t}=am(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(xA,{topic:t}))}))}}var yP=Object.defineProperty,bP=(e,t,n)=>((e,t,n)=>t in e?yP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class vP extends Xw{constructor(e,t){super(e,t),this.core=e,this.logger=t,bP(this,"records",new Map),bP(this,"events",new ll.EventEmitter),bP(this,"name","history"),bP(this,"version","0.3"),bP(this,"cached",[]),bP(this,"initialized",!1),bP(this,"storagePrefix",WE),bP(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)})),bP(this,"set",((e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:cm(Sl.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(kA,r)})),bP(this,"resolve",(async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=HE(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(OA,t))})),bP(this,"get",(async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)))),bP(this,"delete",((e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(CA,n)}})),this.persist()})),bP(this,"exists",(async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e))),bP(this,"on",((e,t)=>{this.events.on(e,t)})),bP(this,"once",((e,t)=>{this.events.once(e,t)})),bP(this,"off",((e,t)=>{this.events.off(e,t)})),bP(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.logger=Gw(t,this.name)}get context(){return $w(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:CE(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=vv("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(NA)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=vv("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(kA,(e=>{const t=kA;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(OA,(e=>{const t=OA;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(CA,(e=>{const t=CA;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})})),this.core.heartbeat.on(Gv,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach((t=>{(0,Sl.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(CA,t,!1),e=!0)})),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wP=Object.defineProperty,EP=(e,t,n)=>((e,t,n)=>t in e?wP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class AP extends sE{constructor(e,t){super(e,t),this.core=e,this.logger=t,EP(this,"expirations",new Map),EP(this,"events",new ll.EventEmitter),EP(this,"name","expirer"),EP(this,"version","0.3"),EP(this,"cached",[]),EP(this,"initialized",!1),EP(this,"storagePrefix",WE),EP(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)})),EP(this,"has",(e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}})),EP(this,"set",((e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(_A,{target:n,expiration:r})})),EP(this,"get",(e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)})),EP(this,"del",(e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(TA,{target:t,expiration:n})}})),EP(this,"on",((e,t)=>{this.events.on(e,t)})),EP(this,"once",((e,t)=>{this.events.once(e,t)})),EP(this,"off",((e,t)=>{this.events.off(e,t)})),EP(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.logger=Gw(t,this.name)}get context(){return $w(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return om("topic",e)}(e);if("number"==typeof e)return function(e){return om("id",e)}(e);const{message:t}=vv("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(RA)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=vv("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=vv("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,Sl.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(MA,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(Gv,(()=>this.checkExpirations())),this.events.on(_A,(e=>{const t=_A;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(MA,(e=>{const t=MA;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(TA,(e=>{const t=TA;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}}var SP=Object.defineProperty,xP=(e,t,n)=>((e,t,n)=>t in e?SP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class IP extends oE{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,xP(this,"name","verify-api"),xP(this,"abortController"),xP(this,"isDevEnv"),xP(this,"verifyUrlV3",DA),xP(this,"storagePrefix",WE),xP(this,"version",2),xP(this,"publicKey"),xP(this,"fetchPromise"),xP(this,"init",(async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,Sl.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))})),xP(this,"register",(async e=>{if(!Wg()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${n}&decryptedId=${r}`;try{const e=(0,xl.getDocument)(),t=this.startAbortTimer(5*Sl.ONE_SECOND),r=await new Promise(((r,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if(np(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),r(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})}));return this.logger.debug("jwt attestation",r),r}catch(s){this.logger.warn(s)}return""})),xP(this,"resolve",(async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(np(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(n,i)})),xP(this,"fetchAttestation",(async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);const n=this.startAbortTimer(5*Sl.ONE_SECOND),r=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0})),xP(this,"getVerifyUrl",(e=>{let t=e||BA;return UA.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${BA}`),t=BA),t})),xP(this,"fetchPublicKey",(async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const e=this.startAbortTimer(Sl.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(qw){this.logger.warn(qw)}})),xP(this,"persistPublicKey",(async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e})),xP(this,"removePublicKey",(async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0})),xP(this,"isValidJwtAttestation",(async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(r){this.logger.error(r),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(r){this.logger.error(r),this.logger.warn("error validating attestation")}})),xP(this,"getPublicKey",(async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey())),xP(this,"fetchAndPersistPublicKey",(async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise((async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))}));const e=await this.fetchPromise;return this.fetchPromise=void 0,e})),xP(this,"validateAttestation",((e,t)=>{const n=sv(e,t.publicKey),r={hasExpired:(0,Sl.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}})),this.logger=Gw(t,this.name),this.abortController=new AbortController,this.isDevEnv=gm(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return $w(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,Sl.toMiliseconds)(e))}}var PP=Object.defineProperty,kP=(e,t,n)=>((e,t,n)=>t in e?PP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class OP extends aE{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,kP(this,"context","echo"),kP(this,"registerDeviceToken",(async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})})),this.logger=Gw(t,this.context)}}var CP=Object.defineProperty,NP=Object.getOwnPropertySymbols,_P=Object.prototype.hasOwnProperty,TP=Object.prototype.propertyIsEnumerable,MP=(e,t,n)=>t in e?CP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RP=(e,t)=>{for(var n in t||(t={}))_P.call(t,n)&&MP(e,n,t[n]);if(NP)for(var n of NP(t))TP.call(t,n)&&MP(e,n,t[n]);return e},LP=(e,t,n)=>MP(e,"symbol"!=typeof t?t+"":t,n);class BP extends cE{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,n),this.core=e,this.logger=t,LP(this,"context","event-client"),LP(this,"storagePrefix",WE),LP(this,"storageVersion",.1),LP(this,"events",new Map),LP(this,"shouldPersist",!1),LP(this,"init",(async()=>{if(!gm())try{const e={eventId:pm(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Xg(this.core.relayer.protocol,this.core.relayer.version,fA)}}};await this.sendEvent([e])}catch(qw){this.logger.warn(qw)}})),LP(this,"createEvent",(e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=pm(),o=this.core.projectId||"",a=Date.now(),c=RP({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c})),LP(this,"getEvent",(e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find((e=>e.props.properties.topic===n));return r?RP(RP({},r),this.setMethods(r.eventId)):void 0})),LP(this,"deleteEvent",(e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0})),LP(this,"setEventListeners",(()=>{this.core.heartbeat.on(Gv,(async()=>{this.shouldPersist&&await this.persist(),this.events.forEach((e=>{(0,Sl.fromMiliseconds)(Date.now())-(0,Sl.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)}))}))})),LP(this,"setMethods",(e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}))),LP(this,"addTrace",((e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)})),LP(this,"setError",((e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)})),LP(this,"persist",(async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1})),LP(this,"restore",(async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach((e=>{this.events.set(e.eventId,RP(RP({},e),this.setMethods(e.eventId)))}))}catch(qw){this.logger.warn(qw)}})),LP(this,"submit",(async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(ft){this.logger.warn(ft)}})),LP(this,"sendEvent",(async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${fA}${t}`,{method:"POST",body:JSON.stringify(e)})})),LP(this,"getAppDomain",(()=>Zg().url)),this.logger=Gw(t,this.context),this.telemetryEnabled=n,n?this.restore().then((async()=>{await this.submit(),this.setEventListeners()})):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var DP=Object.defineProperty,UP=Object.getOwnPropertySymbols,jP=Object.prototype.hasOwnProperty,zP=Object.prototype.propertyIsEnumerable,FP=(e,t,n)=>t in e?DP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qP=(e,t)=>{for(var n in t||(t={}))jP.call(t,n)&&FP(e,n,t[n]);if(UP)for(var n of UP(t))zP.call(t,n)&&FP(e,n,t[n]);return e},HP=(e,t,n)=>FP(e,"symbol"!=typeof t?t+"":t,n);class VP extends Jw{constructor(e){var t;super(e),HP(this,"protocol","wc"),HP(this,"version",2),HP(this,"name",QE),HP(this,"relayUrl"),HP(this,"projectId"),HP(this,"customStoragePrefix"),HP(this,"events",new ll.EventEmitter),HP(this,"logger"),HP(this,"heartbeat"),HP(this,"relayer"),HP(this,"crypto"),HP(this,"storage"),HP(this,"history"),HP(this,"expirer"),HP(this,"pairing"),HP(this,"verify"),HP(this,"echoClient"),HP(this,"linkModeSupportedApps"),HP(this,"eventClient"),HP(this,"initialized",!1),HP(this,"logChunkController"),HP(this,"on",((e,t)=>this.events.on(e,t))),HP(this,"once",((e,t)=>this.events.once(e,t))),HP(this,"off",((e,t)=>this.events.off(e,t))),HP(this,"removeListener",((e,t)=>this.events.removeListener(e,t))),HP(this,"dispatchEnvelope",(e=>{let{topic:t,message:n,sessionExists:r}=e;if(!t||!n)return;const i={topic:t,message:n,publishedAt:Date.now(),transportType:pA.link_mode};this.relayer.onLinkMessageEvent(i,{sessionExists:r})})),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||tA,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=Vw({level:"string"==typeof e?.logger&&e.logger?e.logger:JE,name:QE}),{logger:r,chunkLoggerController:i}=Kw({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=i,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Gw(r,this.name),this.heartbeat=new Kv,this.crypto=new cI(this,this.logger,e?.keychain),this.history=new vP(this,this.logger),this.expirer=new AP(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new xw(qP(qP({},YE),e?.storageOptions)),this.relayer=new JI({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new mP(this,this.logger),this.verify=new IP(this,this.logger,this.storage),this.echoClient=new OP(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new BP(this,this.logger,e?.telemetryEnabled)}static async init(e){const t=new VP(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return $w(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(yA,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(yA)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const $P=VP,GP="client",KP=`wc@2:${GP}:`,QP=GP,WP="error",JP="WALLETCONNECT_DEEPLINK_CHOICE",YP="Proposal expired",ZP=Sl.SEVEN_DAYS,XP={wc_sessionPropose:{req:{ttl:Sl.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Sl.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Sl.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Sl.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Sl.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Sl.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Sl.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Sl.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Sl.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Sl.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Sl.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Sl.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Sl.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Sl.FIVE_MINUTES,prompt:!1,tag:1119}}},ek={min:Sl.FIVE_MINUTES,max:Sl.SEVEN_DAYS},tk="IDLE",nk="ACTIVE",rk={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},ik=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],sk="wc@1.5:auth:",ok=`${sk}:PUB_KEY`;var ak=Object.defineProperty,ck=Object.defineProperties,lk=Object.getOwnPropertyDescriptors,uk=Object.getOwnPropertySymbols,hk=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,fk=(e,t,n)=>t in e?ak(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pk=(e,t)=>{for(var n in t||(t={}))hk.call(t,n)&&fk(e,n,t[n]);if(uk)for(var n of uk(t))dk.call(t,n)&&fk(e,n,t[n]);return e},gk=(e,t)=>ck(e,lk(t)),mk=(e,t,n)=>fk(e,"symbol"!=typeof t?t+"":t,n);class yk extends dE{constructor(e){var t;super(e),t=this,mk(this,"name","engine"),mk(this,"events",new(ul())),mk(this,"initialized",!1),mk(this,"requestQueue",{state:tk,queue:[]}),mk(this,"sessionRequestQueue",{state:tk,queue:[]}),mk(this,"requestQueueDelay",Sl.ONE_SECOND),mk(this,"expectedPairingMethodMap",new Map),mk(this,"recentlyDeletedMap",new Map),mk(this,"recentlyDeletedLimit",200),mk(this,"relayMessageCache",[]),mk(this,"pendingSessions",new Map),mk(this,"init",(async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(XP)}),this.initialized=!0,setTimeout((async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,Sl.toMiliseconds)(this.requestQueueDelay)))})),mk(this,"connect",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=gk(pk({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:a}=t;let c,l=n,u=!1;try{if(l){const e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(jw){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),jw}if(!l||!u){const{topic:e,uri:t}=await this.client.core.pairing.create();l=e,c=t}if(!l){const{message:e}=vv("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(e)}const h=await this.client.core.crypto.generateKeyPair(),d=XP.wc_sessionPropose.req.ttl||Sl.FIVE_MINUTES,f=cm(d),p=gk(pk(pk({requiredNamespaces:r,optionalNamespaces:i,relays:a??[{protocol:"irn"}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:kE()}),g=um("session_connect",p.id),{reject:m,resolve:y,done:b}=im(d,YP),v=e=>{let{id:t}=e;t===p.id&&(this.client.events.off("proposal_expire",v),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:YP,code:0}}))};return this.client.events.on("proposal_expire",v),this.events.once(g,(e=>{let{error:t,session:n}=e;this.client.events.off("proposal_expire",v),t?m(t):n&&y(n)})),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:p,throwOnFailedPublish:!0,clientRpcId:p.id}),await this.setProposal(p.id,p),{uri:c,approval:b}})),mk(this,"pair",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error("pair() failed"),t}})),mk(this,"approve",(async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[tS]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw i.setError(uS),S}try{await this.isValidProposalId(e?.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(mS),S}try{await this.isValidApprove(e)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(gS),S}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:u}=e,h=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:d,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=h;let m=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:d});m||(m=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:tS,properties:{topic:d,trace:[tS,nS]}}));const y=await this.client.core.crypto.generateKeyPair(),b=f.publicKey,v=await this.client.core.crypto.generateSharedKey(y,b),w=pk(pk(pk({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:y,metadata:this.client.metadata},expiry:cm(ZP)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),E=pA.relay;m.addTrace(rS);try{await this.client.core.relayer.subscribe(v,{transportType:E})}catch(S){throw m.setError(dS),S}m.addTrace(iS);const A=gk(pk({},w),{topic:v,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:d,acknowledged:!1,self:w.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:y,transportType:pA.relay});await this.client.session.set(v,A),m.addTrace(aS);try{m.addTrace(cS),await this.sendRequest({topic:v,method:"wc_sessionSettle",params:w,throwOnFailedPublish:!0}).catch((e=>{throw m?.setError(pS),e})),m.addTrace(lS),m.addTrace(sS),await this.sendResult({id:s,topic:d,result:{relay:{protocol:o??"irn"},responderPublicKey:y},throwOnFailedPublish:!0}).catch((e=>{throw m?.setError(fS),e})),m.addTrace(oS)}catch(S){throw this.client.logger.error(S),this.client.session.delete(v,wv("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),S}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:d,metadata:f.metadata}),await this.client.proposal.delete(s,wv("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:d}),await this.setExpiry(v,cm(ZP)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}})),mk(this,"reject",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(i){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),i}r&&(await this.sendError({id:t,topic:r,error:n,rpcOpts:XP.wc_sessionPropose.reject}),await this.client.proposal.delete(t,wv("USER_DISCONNECTED")))})),mk(this,"update",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(l){throw this.client.logger.error("update() -> isValidUpdate() failed"),l}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=im(),o=kE(),a=OE().toString(),c=this.client.session.get(t).namespaces;return this.events.once(um("session_update",o),(e=>{let{error:t}=e;t?s(t):i()})),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch((e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)})),{acknowledged:r}})),mk(this,"extend",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(o){throw this.client.logger.error("extend() -> isValidExtend() failed"),o}const{topic:t}=e,n=kE(),{done:r,resolve:i,reject:s}=im();return this.events.once(um("session_extend",n),(e=>{let{error:t}=e;t?s(t):i()})),await this.setExpiry(t,cm(ZP)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch((e=>{s(e)})),{acknowledged:r}})),mk(this,"request",(async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(g){throw this.client.logger.error("request() -> isValidRequest() failed"),g}const{chainId:t,request:n,topic:r,expiry:i=XP.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);s?.transportType===pA.relay&&await this.confirmOnlineStateOrThrow();const o=kE(),a=OE().toString(),{done:c,resolve:l,reject:u}=im(i,"Request expired. Please try again.");this.events.once(um("session_request",o),(e=>{let{error:t,result:n}=e;t?u(t):l(n)}));const h="wc_sessionRequest",d=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(d)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:{request:gk(pk({},n),{expiryTimestamp:cm(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:d}).catch((e=>u(e))),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await c();const f={request:gk(pk({},n),{expiryTimestamp:cm(i)}),chainId:t},p=this.shouldSetTVF(h,f);return await Promise.all([new Promise((async e=>{await this.sendRequest(pk({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:f,expiry:i,throwOnFailedPublish:!0},p&&{tvf:this.getTVFParams(o,f)})).catch((e=>u(e))),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()})),new Promise((async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(Wg()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(i){console.error(i)}return n}(this.client.core.storage,JP);await dm({id:o,topic:r,wcDeepLink:e})}e()})),c()]).then((e=>e[2]))})),mk(this,"respond",(async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:n}=e,{id:r}=n,i=this.client.session.get(t);i.transportType===pA.relay&&await this.confirmOnlineStateOrThrow();const s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);qE(n)?await this.sendResult({id:r,topic:t,result:n.result,throwOnFailedPublish:!0,appLink:s}):HE(n)&&await this.sendError({id:r,topic:t,error:n.error,appLink:s}),this.cleanupAfterResponse(e)})),mk(this,"ping",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch($v){throw this.client.logger.error("ping() -> isValidPing() failed"),$v}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=kE(),n=OE().toString(),{done:r,resolve:i,reject:s}=im();this.events.once(um("session_ping",e),(e=>{let{error:t}=e;t?s(t):i()})),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))})),mk(this,"emit",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=OE().toString(),s=kE();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})})),mk(this,"disconnect",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:wv("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=vv("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}})),mk(this,"find",(e=>(this.isInitialized(),this.client.session.getAll().filter((t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!tm(i,r)&&(r.forEach((t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=fv(r),c=n[t];(!tm(Fg(t,c),a)||!tm(c.methods,i)||!tm(c.events,o))&&(s=!1)})),s)}(t,e)))))),mk(this,"getPendingSessionRequests",(()=>this.client.pendingRequest.getAll())),mk(this,"authenticate",(async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?pA.link_mode:pA.relay;i===pA.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:h,nbf:d,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:m,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:y}});const b=await this.client.core.crypto.generateKeyPair(),v=Jb(b);if(await Promise.all([this.client.auth.authKeys.set(ok,{responseTopic:v,publicKey:b}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:m})]),await this.client.core.relayer.subscribe(v,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${m}`),f.length>0){const{namespace:e}=jg(s[0]);let t=by(e,"request",f);xy(g)&&(t=wy(t,g.pop())),g.push(t)}const w=p&&p>XP.wc_sessionAuthenticate.req.ttl?p:XP.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:u??"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:h,nbf:d,resources:g},requester:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:cm(w)},A={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:cm(XP.wc_sessionPropose.req.ttl),id:kE()},{done:S,resolve:x,reject:I}=im(w,"Request expired"),P=kE(),k=um("session_connect",A.id),O=um("session_request",P),C=async e=>{let{error:t,session:n}=e;this.events.off(O,N),t?I(t):n&&x({session:n})},N=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(P,{message:"fulfilled",code:0}),e.error){const t=wv("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(k,C),I(e.error.message))}await this.deleteProposal(A.id),this.events.off(k,C);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const t of o){await dy({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),I(wv("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,n=xy(e.resources),r=[uy(e.iss)],i=hy(e.iss);if(n){const e=Ay(n),t=Sy(n);c.push(...e),r.push(...t)}for(const t of r)l.push(`${t}:${i}`)}const u=await this.client.core.crypto.generateSharedKey(b,a.publicKey);let h;c.length>0&&(h={topic:u,acknowledged:!0,self:{publicKey:b,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:cm(ZP),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:mv([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,h),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),h=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:pA.link_mode})),x({auths:o,session:h})};let _;this.events.once(k,C),this.events.once(O,N);try{if(r){const e=CE("wc_sessionAuthenticate",E,P);this.client.core.history.set(m,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:Kb});_=dv(t,m,n)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:E,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:P}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:A,expiry:XP.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(Hu){throw this.events.off(k,C),this.events.off(O,N),Hu}return await this.setProposal(A.id,A),await this.setAuthRequest(P,{request:gk(pk({},E),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:_??y,response:S}})),mk(this,"approveSessionAuthenticate",(async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[yS]}});try{this.isInitialized()}catch(p){throw r.setError(xS),p}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError(OS),new Error(`Could not find pending auth request with id ${t}`);const s=i.transportType||pA.relay;s===pA.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Jb(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],h=[];for(const g of n){if(!await dy({cacao:g,projectId:this.client.core.projectId})){r.setError(IS);const e=wv("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace(vS);const{p:e}=g,n=xy(e.resources),i=[uy(e.iss)],s=hy(e.iss);if(n){const e=Ay(n),t=Sy(n);u.push(...e),i.push(...t)}for(const t of i)h.push(`${t}:${s}`)}const d=await this.client.core.crypto.generateSharedKey(a,o);let f;if(r.addTrace(bS),u?.length>0){f={topic:d,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:cm(ZP),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:mv([...new Set(u)],[...new Set(h)]),transportType:s},r.addTrace(ES);try{await this.client.core.relayer.subscribe(d,{transportType:s})}catch(p){throw r.setError(PS),p}r.addTrace(AS),await this.client.session.set(d,f),r.addTrace(wS),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace(SS);try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(p){throw r.setError(kS),p}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:f}})),mk(this,"rejectSessionAuthenticate",(async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error(`Could not find pending auth request with id ${t}`);r.transportType===pA.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=Jb(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:XP.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,wv("USER_DISCONNECTED"))})),mk(this,"formatAuthMessage",(e=>{this.isInitialized();const{request:t,iss:n}=e;return fy(t,n)})),mk(this,"processRelayMessageCache",(()=>{setTimeout((async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}}),50)})),mk(this,"cleanupDuplicatePairings",(async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter((n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic}));if(0===n.length)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map((e=>this.client.core.pairing.disconnect({topic:e.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}})),mk(this,"deleteSession",(async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,wv("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(JP).catch((e=>this.client.logger.warn(e))),this.getPendingSessionRequests().forEach((e=>{e.topic===n&&this.deletePendingSessionRequest(e.id,wv("USER_DISCONNECTED"))})),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=tk),i&&this.client.events.emit("session_delete",{id:s,topic:n})})),mk(this,"deleteProposal",(async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});n?.setError(hS)}catch{}await Promise.all([this.client.proposal.delete(e,wv("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")})),mk(this,"deletePendingSessionRequest",(async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter((t=>t.id!==e)),r&&(t.sessionRequestQueue.state=tk,t.client.events.emit("session_request_expire",{id:e}))})),mk(this,"deletePendingAuthRequest",(async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)])})),mk(this,"setExpiry",(async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))})),mk(this,"setProposal",(async(e,t)=>{this.client.core.expirer.set(e,cm(XP.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)})),mk(this,"setAuthRequest",(async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=pA.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})})),mk(this,"setPendingSessionRequest",(async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||cm(XP.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})})),mk(this,"sendRequest",(async e=>{const{topic:t,method:r,params:i,expiry:s,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c,appLink:l,tvf:u}=e,h=CE(r,i,a);let d;const f=!!l;try{const e=f?Kb:Gb;d=await this.client.core.crypto.encode(t,h,{encoding:e})}catch(m){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),m}let p;if(ik.includes(r)){const e=Yb(JSON.stringify(h)),t=Yb(d);p=await this.client.core.verify.register({id:t,decryptedId:e})}const g=XP[r].req;if(g.attestation=p,s&&(g.ttl=s),o&&(g.id=o),this.client.core.history.set(t,h),f){const e=dv(l,t,d);await n.g.Linking.openURL(e,this.client.name)}else{const e=XP[r].req;s&&(e.ttl=s),o&&(e.id=o),e.tvf=gk(pk({},u),{correlationId:h.id}),c?(e.internal=gk(pk({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,e)):this.client.core.relayer.publish(t,d,e).catch((e=>this.client.logger.error(e)))}return h.id})),mk(this,"sendResult",(async e=>{const{id:t,topic:r,result:i,throwOnFailedPublish:s,encodeOpts:o,appLink:a}=e,c=NE(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?Kb:Gb;l=await this.client.core.crypto.encode(r,c,gk(pk({},o||{}),{encoding:e}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${r} failed`),f}let h,d;try{h=await this.client.core.history.get(r,t);const e=h.request;try{this.shouldSetTVF(e.method,e.params)&&(d=this.getTVFParams(t,e.params,i))}catch(p){this.client.logger.warn("sendResult() -> getTVFParams() failed",p)}}catch(f){throw this.client.logger.error(`sendResult() -> history.get(${r}, ${t}) failed`),f}if(u){const e=dv(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,n=XP[e].res;n.tvf=gk(pk({},d),{correlationId:t}),s?(n.internal=gk(pk({},n.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,l,n)):this.client.core.relayer.publish(r,l,n).catch((e=>this.client.logger.error(e)))}await this.client.core.history.resolve(c)})),mk(this,"sendError",(async e=>{const{id:t,topic:r,error:i,encodeOpts:s,rpcOpts:o,appLink:a}=e,c=_E(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?Kb:Gb;l=await this.client.core.crypto.encode(r,c,gk(pk({},s||{}),{encoding:e}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${r} failed`),d}let h;try{h=await this.client.core.history.get(r,t)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${r}, ${t}) failed`),d}if(u){const e=dv(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,t=o||XP[e].res;this.client.core.relayer.publish(r,l,t)}await this.client.core.history.resolve(c)})),mk(this,"cleanup",(async()=>{const e=[],t=[];this.client.session.getAll().forEach((t=>{let n=!1;lm(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)})),this.client.proposal.getAll().forEach((e=>{lm(e.expiryTimestamp)&&t.push(e.id)})),await Promise.all([...e.map((e=>this.deleteSession({topic:e}))),...t.map((e=>this.deleteProposal(e)))])})),mk(this,"onProviderMessageEvent",(async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)})),mk(this,"onRelayEventRequest",(async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()})),mk(this,"processRequestsQueue",(async()=>{if(this.requestQueue.state!==nk){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=nk;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=tk}else this.client.logger.info("Request queue already active, skipping...")})),mk(this,"processRequest",(async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}})),mk(this,"onRelayEventResponse",(async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info(`Unsupported response method ${i}`)}})),mk(this,"onRelayEventUnknownPayload",(e=>{const{topic:t}=e,{message:n}=vv("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)})),mk(this,"shouldIgnorePairingRequest",(e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n))&&!!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)})),mk(this,"onSessionProposeRequest",(async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(eS)),this.isValidConnect(pk({},n.params));const a=s.expiryTimestamp||cm(XP.wc_sessionPropose.req.ttl),c=pk({id:o,pairingTopic:t,expiryTimestamp:a},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:r,hash:Yb(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});e?.addTrace(QA),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(a){await this.sendError({id:o,topic:t,error:a,rpcOpts:XP.wc_sessionPropose.autoReject}),this.client.logger.error(a)}})),mk(this,"onSessionProposeResponse",(async(e,t,n)=>{const{id:r}=t;if(qE(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if(HE(t)){await this.client.proposal.delete(r,wv("USER_DISCONNECTED"));const e=um("session_connect",r);if(0===this.events.listenerCount(e))throw new Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}})),mk(this,"onSessionSettleRequest",(async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l}=t.params,u=[...this.pendingSessions.values()].find((t=>t.sessionTopic===e));if(!u)return this.client.logger.error(`Pending session not found for topic ${e}`);const h=this.client.proposal.get(u.proposalId),d=gk(pk(pk(pk({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:pA.relay});await this.client.session.set(d.topic,d),await this.setExpiry(d.topic,d.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:d.peer.metadata}),this.client.events.emit("session_connect",{session:d}),this.events.emit(um("session_connect",u.proposalId),{session:d}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(d),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}})),mk(this,"onSessionSettleResponse",(async(e,t)=>{const{id:n}=t;qE(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(um("session_approve",n),{})):HE(t)&&(await this.client.session.delete(e,wv("USER_DISCONNECTED")),this.events.emit(um("session_approve",n),{error:t.error}))})),mk(this,"onSessionUpdateRequest",(async(e,t)=>{const{params:n,id:r}=t;try{const t=`${e}_session_update`,s=qv.get(t);if(s&&this.isRequestOutOfSync(s,r))return this.client.logger.warn(`Discarding out of sync request - ${r}`),void this.sendError({id:r,topic:e,error:wv("INVALID_UPDATE_REQUEST")});this.isValidUpdate(pk({topic:e},n));try{qv.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0})}catch(i){throw qv.delete(t),i}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(s){await this.sendError({id:r,topic:e,error:s}),this.client.logger.error(s)}})),mk(this,"isRequestOutOfSync",((e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3))),mk(this,"onSessionUpdateResponse",((e,t)=>{const{id:n}=t,r=um("session_update",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);qE(t)?this.events.emit(um("session_update",n),{}):HE(t)&&this.events.emit(um("session_update",n),{error:t.error})})),mk(this,"onSessionExtendRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,cm(ZP)),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(qw){await this.sendError({id:n,topic:e,error:qw}),this.client.logger.error(qw)}})),mk(this,"onSessionExtendResponse",((e,t)=>{const{id:n}=t,r=um("session_extend",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);qE(t)?this.events.emit(um("session_extend",n),{}):HE(t)&&this.events.emit(um("session_extend",n),{error:t.error})})),mk(this,"onSessionPingRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(qw){await this.sendError({id:n,topic:e,error:qw}),this.client.logger.error(qw)}})),mk(this,"onSessionPingResponse",((e,t)=>{const{id:n}=t,r=um("session_ping",n);setTimeout((()=>{if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners 2176`);qE(t)?this.events.emit(um("session_ping",n),{}):HE(t)&&this.events.emit(um("session_ping",n),{error:t.error})}),500)})),mk(this,"onSessionDeleteRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise((t=>{this.client.core.relayer.once(cA,(async()=>{t(await this.deleteSession({topic:e,id:n}))}))})),this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:wv("USER_DISCONNECTED")})]).catch((e=>this.client.logger.error(e)))}catch(qw){this.client.logger.error(qw)}})),mk(this,"onSessionRequest",(async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(pk({topic:i},u));const e=this.client.session.get(i),s={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:Yb(JSON.stringify(CE("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===pA.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(h){await this.sendError({id:l,topic:i,error:h}),this.client.logger.error(h)}})),mk(this,"onSessionRequestResponse",((e,t)=>{const{id:n}=t,r=um("session_request",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);qE(t)?this.events.emit(um("session_request",n),{result:t.result}):HE(t)&&this.events.emit(um("session_request",n),{error:t.error})})),mk(this,"onSessionEventRequest",(async(e,t)=>{const{id:n,params:r}=t;try{const t=`${e}_session_event_${r.event.name}`,i=qv.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidEmit(pk({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),qv.set(t,n)}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}})),mk(this,"onSessionAuthenticateResponse",((e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),qE(t)?this.events.emit(um("session_request",n),{result:t.result}):HE(t)&&this.events.emit(um("session_request",n),{error:t.error})})),mk(this,"onSessionAuthenticateRequest",(async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:Yb(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===pA.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(a){this.client.logger.error(a);const e=r.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(r.params.requester.metadata,o),s={type:1,receiverPublicKey:e,senderPublicKey:t};await this.sendError({id:r.id,topic:n,error:a,encodeOpts:s,rpcOpts:XP.wc_sessionAuthenticate.autoReject,appLink:i})}})),mk(this,"addSessionRequestToSessionRequestQueue",(e=>{this.sessionRequestQueue.queue.push(e)})),mk(this,"cleanupAfterResponse",(e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=tk,this.processSessionRequestQueue()}),(0,Sl.toMiliseconds)(this.requestQueueDelay))})),mk(this,"cleanupPendingSentRequestsForTopic",(e=>{let{topic:t,error:n}=e;const r=this.client.core.history.pending;r.length>0&&r.filter((e=>e.topic===t&&"wc_sessionRequest"===e.request.method)).forEach((e=>{const t=um("session_request",e.request.id);if(0===this.events.listenerCount(t))throw new Error(`emitting ${t} without any listeners`);this.events.emit(um("session_request",e.request.id),{error:n})}))})),mk(this,"processSessionRequestQueue",(()=>{if(this.sessionRequestQueue.state===nk)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.sessionRequestQueue.state=nk,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")})),mk(this,"emitSessionRequest",(e=>{this.client.events.emit("session_request",e)})),mk(this,"onPairingCreated",(e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));t&&this.onSessionProposeRequest({topic:e.topic,payload:CE("wc_sessionPropose",gk(pk({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})})),mk(this,"isValidConnect",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(Sv(t)||await this.isValidPairingTopic(t),!function(e,t){let n=!1;return t&&!e?n=!0:e&&Ev(e)&&e.length&&e.forEach((e=>{n=Tv(e)})),n}(o,!0)){const{message:e}=vv("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(e)}if(!Sv(n)&&0!==Av(n)&&this.validateNamespaces(n,"requiredNamespaces"),!Sv(r)&&0!==Av(r)&&this.validateNamespaces(r,"optionalNamespaces"),Sv(i)||this.validateSessionProps(i,"sessionProperties"),!Sv(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every((t=>e.includes(t))))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}})),mk(this,"validateNamespaces",((e,t)=>{const n=function(e,t,n){let r=null;if(e&&Av(e)){const i=Nv(e,t);i&&(r=i);const s=Ov(e,t,n);s&&(r=s)}else r=vv("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}(e,"connect()",t);if(n)throw new Error(n.message)})),mk(this,"isValidApprove",(async e=>{if(!Mv(e))throw new Error(vv("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=_v(n,"approve()");if(a)throw new Error(a.message);const c=Dv(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!xv(r,!0)){const{message:e}=vv("MISSING_OR_INVALID",`approve() relayProtocol: ${r}`);throw new Error(e)}if(Sv(i)||this.validateSessionProps(i,"sessionProperties"),!Sv(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every((t=>e.has(t))))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}})),mk(this,"isValidReject",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!Iv(e.code,!1)||!e.message||!xv(e.message,!1))}(n)){const{message:e}=vv("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(e)}})),mk(this,"isValidSessionSettleRequest",(e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!Tv(t)){const{message:e}=vv("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let n=null;return xv(e?.publicKey,!1)||(n=vv("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=_v(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(lm(i)){const{message:e}=vv("EXPIRED","onSessionSettleRequest()");throw new Error(e)}})),mk(this,"isValidUpdate",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=_v(n,"update()");if(i)throw new Error(i.message);const s=Dv(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)})),mk(this,"isValidExtend",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)})),mk(this,"isValidRequest",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!Rv(s,r)){const{message:e}=vv("MISSING_OR_INVALID",`request() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(Sv(e)||!xv(e.method,!1))}(n)){const{message:e}=vv("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(e)}if(!Lv(s,r,n.method)){const{message:e}=vv("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(e)}if(i&&!function(e,t){return Iv(e,!1)&&e<=t.max&&e>=t.min}(i,ek)){const{message:e}=vv("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${ek.min} and ${ek.max}`);throw new Error(e)}})),mk(this,"isValidRespond",(async e=>{var t;if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(i){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),i}if(!function(e){return!(Sv(e)||Sv(e.result)&&Sv(e.error)||!Iv(e.id,!1)||!xv(e.jsonrpc,!1))}(r)){const{message:e}=vv("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw new Error(e)}})),mk(this,"isValidPing",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)})),mk(this,"isValidEmit",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!Rv(i,r)){const{message:e}=vv("MISSING_OR_INVALID",`emit() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(Sv(e)||!xv(e.name,!1))}(n)){const{message:e}=vv("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}if(!Bv(i,r,n.name)){const{message:e}=vv("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}})),mk(this,"isValidDisconnect",(async e=>{if(!Mv(e)){const{message:t}=vv("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)})),mk(this,"isValidAuthenticate",(e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!xv(n,!1))throw new Error("uri is required parameter");if(!xv(r,!1))throw new Error("domain is required parameter");if(!xv(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map((e=>jg(e).namespace)))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=jg(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")})),mk(this,"getVerifyContext",(async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||BA,validation:"UNKNOWN",origin:i.url||""}};try{if(s===pA.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.warn(a)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o})),mk(this,"validateSessionProps",((e,t)=>{Object.values(e).forEach(((n,r)=>{if(null==n){const{message:i}=vv("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${n} for key ${Object.keys(e)[r]}`);throw new Error(i)}}))})),mk(this,"getPendingAuthRequest",(e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0})),mk(this,"addToRecentlyDeleted",((e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}})),mk(this,"checkRecentlyDeleted",(e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=vv("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(n)}})),mk(this,"isLinkModeEnabled",((e,t)=>{var r,i,s,o,a,c,l,u,h;return!(!e||t!==pA.link_mode)&&(!0===(null==(i=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:i.linkMode)&&void 0!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&""!==(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)&&void 0!==(null==(l=e?.redirect)?void 0:l.universal)&&""!==(null==(u=e?.redirect)?void 0:u.universal)&&!0===(null==(h=e?.redirect)?void 0:h.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==n.g?void 0:n.g.Linking)<"u")})),mk(this,"getAppLinkIfEnabled",((e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=e?.redirect)?void 0:n.universal:void 0})),mk(this,"handleLinkModeMessage",(e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const n=fm(t,"topic")||"",r=decodeURIComponent(fm(t,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:pA.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:r,sessionExists:i})})),mk(this,"registerLinkModeListeners",(async()=>{var e;if(gm()||Qg()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==n.g?void 0:n.g.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout((()=>{this.handleLinkModeMessage({url:t})}),50)}}})),mk(this,"shouldSetTVF",((e,t)=>{if(!t||"wc_sessionRequest"!==e)return!1;const{request:n}=t;return Object.keys(rk).includes(n.method)})),mk(this,"getTVFParams",((e,t,n)=>{var r,i;try{const s=t.request.method,o=this.extractTxHashesFromResult(s,n);return gk(pk({correlationId:e,rpcMethods:[s],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[null==(i=null==(r=t.request.params)?void 0:r[0])?void 0:i.to]}),{txHashes:o})}catch(s){this.client.logger.warn("Error getting TVF params",s)}return{}})),mk(this,"isValidContractData",(e=>{var t;if(!e)return!1;try{const n=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0}catch{}return!1})),mk(this,"extractTxHashesFromResult",((e,t)=>{try{if("string"==typeof t)return[t];const n=t[rk[e].key];if(Ev(n))return"solana_signAllTransactions"===e?n.map((e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return Cu.encode(s)}(e))):n;if("string"==typeof n)return[n]}catch($v){this.client.logger.warn("Error extracting tx hashes from result",$v)}return[]}))}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,r]of Object.entries(t))for(const e of r)try{await this.onProviderMessageEvent({topic:n,message:e,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${e}`)}}catch(ft){this.client.logger.warn("processPendingMessageEvents failed",ft)}}isInitialized(){if(!this.initialized){const{message:e}=vv("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(nA,(e=>{this.onProviderMessageEvent(e)}))}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(ok)?this.client.auth.authKeys.get(ok):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===pA.link_mode?Kb:Gb});zE(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:Yb(n)})):FE(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,n)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(MA,(async e=>{const{topic:t,id:n}=am(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,vv("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,vv("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))}))}registerPairingEvents(){this.client.core.pairing.events.on(SA,(e=>this.onPairingCreated(e))),this.client.core.pairing.events.on(IA,(e=>{this.addToRecentlyDeleted(e.topic,"pairing")}))}isValidPairingTopic(e){if(!xv(e,!1)){const{message:t}=vv("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=vv("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(lm(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=vv("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!xv(e,!1)){const{message:t}=vv("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=vv("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(lm(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=vv("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=vv("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(xv(e,!1)){const{message:t}=vv("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=vv("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=vv("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=vv("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(lm(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=vv("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class bk extends fP{constructor(e,t){super(e,t,"proposal",KP),this.core=e,this.logger=t}}class vk extends fP{constructor(e,t){super(e,t,"session",KP),this.core=e,this.logger=t}}class wk extends fP{constructor(e,t){super(e,t,"request",KP,(e=>e.id)),this.core=e,this.logger=t}}class Ek extends fP{constructor(e,t){super(e,t,"authKeys",sk,(()=>ok)),this.core=e,this.logger=t}}class Ak extends fP{constructor(e,t){super(e,t,"pairingTopics",sk),this.core=e,this.logger=t}}class Sk extends fP{constructor(e,t){super(e,t,"requests",sk,(e=>e.id)),this.core=e,this.logger=t}}var xk=Object.defineProperty,Ik=(e,t,n)=>((e,t,n)=>t in e?xk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Pk{constructor(e,t){this.core=e,this.logger=t,Ik(this,"authKeys"),Ik(this,"pairingTopics"),Ik(this,"requests"),this.authKeys=new Ek(this.core,this.logger),this.pairingTopics=new Ak(this.core,this.logger),this.requests=new Sk(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var kk=Object.defineProperty,Ok=(e,t,n)=>((e,t,n)=>t in e?kk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Ck extends hE{constructor(e){super(e),Ok(this,"protocol","wc"),Ok(this,"version",2),Ok(this,"name",QP),Ok(this,"metadata"),Ok(this,"core"),Ok(this,"logger"),Ok(this,"events",new ll.EventEmitter),Ok(this,"engine"),Ok(this,"session"),Ok(this,"proposal"),Ok(this,"pendingRequest"),Ok(this,"auth"),Ok(this,"signConfig"),Ok(this,"on",((e,t)=>this.events.on(e,t))),Ok(this,"once",((e,t)=>this.events.once(e,t))),Ok(this,"off",((e,t)=>this.events.off(e,t))),Ok(this,"removeListener",((e,t)=>this.events.removeListener(e,t))),Ok(this,"removeAllListeners",(e=>this.events.removeAllListeners(e))),Ok(this,"connect",(async e=>{try{return await this.engine.connect(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"pair",(async e=>{try{return await this.engine.pair(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"approve",(async e=>{try{return await this.engine.approve(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"reject",(async e=>{try{return await this.engine.reject(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"update",(async e=>{try{return await this.engine.update(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"extend",(async e=>{try{return await this.engine.extend(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"request",(async e=>{try{return await this.engine.request(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"respond",(async e=>{try{return await this.engine.respond(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"ping",(async e=>{try{return await this.engine.ping(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"emit",(async e=>{try{return await this.engine.emit(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"disconnect",(async e=>{try{return await this.engine.disconnect(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"find",(e=>{try{return this.engine.find(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"getPendingSessionRequests",(()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}})),Ok(this,"authenticate",(async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(qw){throw this.logger.error(qw.message),qw}})),Ok(this,"formatAuthMessage",(e=>{try{return this.engine.formatAuthMessage(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"approveSessionAuthenticate",(async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch($v){throw this.logger.error($v.message),$v}})),Ok(this,"rejectSessionAuthenticate",(async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch($v){throw this.logger.error($v.message),$v}})),this.name=e?.name||QP,this.metadata=e?.metadata||Zg(),this.signConfig=e?.signConfig;const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:Pw()(Vw({level:e?.logger||WP}));this.core=e?.core||new $P(e),this.logger=Gw(t,this.name),this.session=new vk(this.core,this.logger),this.proposal=new bk(this.core,this.logger),this.pendingRequest=new wk(this.core,this.logger),this.engine=new yk(this),this.auth=new Pk(this.core,this.logger)}static async init(e){const t=new Ck(e);return await t.initialize(),t}get context(){return $w(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout((()=>{this.engine.processRelayMessageCache()}),(0,Sl.toMiliseconds)(Sl.ONE_SECOND))}catch(ft){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(ft.message),ft}}}var Nk=n(9038),_k=n.n(Nk),Tk=Object.defineProperty,Mk=Object.defineProperties,Rk=Object.getOwnPropertyDescriptors,Lk=Object.getOwnPropertySymbols,Bk=Object.prototype.hasOwnProperty,Dk=Object.prototype.propertyIsEnumerable,Uk=(e,t,n)=>t in e?Tk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jk=(e,t)=>{for(var n in t||(t={}))Bk.call(t,n)&&Uk(e,n,t[n]);if(Lk)for(var n of Lk(t))Dk.call(t,n)&&Uk(e,n,t[n]);return e},zk=(e,t)=>Mk(e,Rk(t));const Fk={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class qk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new ll.EventEmitter,this.isAvailable=!1,this.registering=!1,!DE(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=_u(e),n=await(await _k()(this.url,zk(jk({},Fk),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!DE(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()}))}))}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=_u({id:1,jsonrpc:"2.0",method:"test",params:[]});await _k()(e,zk(jk({},Fk),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Nu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=_E(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e){return IE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Hk="error",Vk="wc@2:universal_provider:",$k="https://rpc.walletconnect.org/v1/",Gk="generic",Kk=`${$k}bundler`,Qk="default_chain_changed";function Wk(){}function Jk(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function Yk(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Zk(e){return"object"==typeof e&&null!==e}function Xk(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}function eO(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const tO="[object RegExp]",nO="[object String]",rO="[object Number]",iO="[object Boolean]",sO="[object Arguments]",oO="[object Symbol]",aO="[object Date]",cO="[object Map]",lO="[object Set]",uO="[object Array]",hO="[object ArrayBuffer]",dO="[object Object]",fO="[object DataView]",pO="[object Uint8Array]",gO="[object Uint8ClampedArray]",mO="[object Uint16Array]",yO="[object Uint32Array]",bO="[object Int8Array]",vO="[object Int16Array]",wO="[object Int32Array]",EO="[object Float32Array]",AO="[object Float64Array]";function SO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const s=i?.(e,t,n,r);if(null!=s)return s;if(Jk(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=SO(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[s,o]of e)t.set(s,SO(o,s,n,r,i));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const s of e)t.add(SO(s,void 0,n,r,i));return t}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(Yk(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=SO(e[s],s,n,r,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),xO(t,e,n,r,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),xO(t,e,n,r,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),xO(t,e,n,r,i),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,xO(t,e,n,r,i),t}if("object"==typeof e&&function(e){switch(eO(e)){case sO:case uO:case hO:case fO:case iO:case aO:case EO:case AO:case bO:case vO:case wO:case cO:case rO:case dO:case tO:case lO:case nO:case oO:case pO:case gO:case mO:case yO:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),xO(t,e,n,r,i),t}return e}function xO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...Xk(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=SO(t[a],a,n,r,i))}}function IO(e,t){return function(e,t){return SO(e,void 0,e,new Map,t)}(e,((n,r,i,s)=>{const o=t?.(n,r,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case rO:case nO:case iO:{const t=new e.constructor(e?.valueOf());return xO(t,e),t}case sO:{const t={};return xO(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}))}function PO(e){return IO(e)}function kO(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===eO(e)}function OO(e){return Yk(e)}function CO(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return!(null==t||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable)&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function NO(e,t,n,r){if(Jk(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(Jk(e))return e;if(Array.isArray(e)||Yk(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const t=new n(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const t=new n(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const n=Object.create(t);return Object.assign(n,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]=t[e]??void 0}const i=[...Object.keys(t),...Xk(t)];for(let s=0;s<i.length;s++){const o=i[s];let a=t[o],c=e[o];if(kO(a)&&(a={...a}),kO(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=PO(a)),Array.isArray(a))if("object"==typeof c&&null!=c){const e=[],t=Reflect.ownKeys(c);for(let n=0;n<t.length;n++){const r=t[n];e[r]=c[r]}c=e}else c=[];const l=n(c,a,o,e,t,r);null!=l?e[o]=l:Array.isArray(a)||Zk(c)&&Zk(a)?e[o]=NO(c,a,n,r):null==c&&CO(a)?e[o]=NO({},a,n,r):null==c&&OO(a)?e[o]=PO(a):(void 0===c||void 0!==a)&&(e[o]=a)}return e}function _O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.slice(0,-1),s=n[n.length-1];let o=e;for(let a=0;a<i.length;a++)o=NO(o,i[a],s,new Map);return o}(e,...n,Wk)}var TO=Object.defineProperty,MO=Object.defineProperties,RO=Object.getOwnPropertyDescriptors,LO=Object.getOwnPropertySymbols,BO=Object.prototype.hasOwnProperty,DO=Object.prototype.propertyIsEnumerable,UO=(e,t,n)=>t in e?TO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jO=(e,t)=>{for(var n in t||(t={}))BO.call(t,n)&&UO(e,n,t[n]);if(LO)for(var n of LO(t))DO.call(t,n)&&UO(e,n,t[n]);return e},zO=(e,t)=>MO(e,RO(t));function FO(e,t,n){var r;const i=jg(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||`${$k}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function qO(e){return e.includes(":")?e.split(":")[1]:e}function HO(e){return e.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))}function VO(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _O($O(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),$O(e))}function $O(e){var t,n,r,i;const s={};if(!Av(e))return s;for(const[o,a]of Object.entries(e)){const e=pv(o)?[o]:a.chains,c=a.methods||[],l=a.events||[],u=a.rpcMap||{},h=gv(o);s[h]=zO(jO(jO({},s[h]),a),{chains:hm(e,null==(t=s[h])?void 0:t.chains),methods:hm(c,null==(n=s[h])?void 0:n.methods),events:hm(l,null==(r=s[h])?void 0:r.events),rpcMap:jO(jO({},u),null==(i=s[h])?void 0:i.rpcMap)})}return s}function GO(e){return e.includes(":")?e.split(":")[2]:e}function KO(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=pv(n)?[n]:r.chains?r.chains:HO(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function QO(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const WO={},JO=e=>WO[e],YO=(e,t)=>{WO[e]=t};var ZO=Object.defineProperty,XO=(e,t,n)=>((e,t,n)=>t in e?ZO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class eC{constructor(e){XO(this,"name","polkadot"),XO(this,"client"),XO(this,"httpProviders"),XO(this,"events"),XO(this,"namespace"),XO(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Qk,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=qO(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}}var tC=Object.defineProperty,nC=Object.defineProperties,rC=Object.getOwnPropertyDescriptors,iC=Object.getOwnPropertySymbols,sC=Object.prototype.hasOwnProperty,oC=Object.prototype.propertyIsEnumerable,aC=(e,t,n)=>t in e?tC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cC=(e,t)=>{for(var n in t||(t={}))sC.call(t,n)&&aC(e,n,t[n]);if(iC)for(var n of iC(t))oC.call(t,n)&&aC(e,n,t[n]);return e},lC=(e,t)=>nC(e,rC(t)),uC=(e,t,n)=>aC(e,"symbol"!=typeof t?t+"":t,n);class hC{constructor(e){uC(this,"name","eip155"),uC(this,"client"),uC(this,"chainId"),uC(this,"namespace"),uC(this,"httpProviders"),uC(this,"events"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Qk,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||FO(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=parseInt(qO(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:`0x${r}`;const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,n,r;const i=null==(n=null==(t=e.request)?void 0:t.params)?void 0:n[0];if(!i)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const s=this.client.session.get(e.topic),o=(null==(r=s?.sessionProperties)?void 0:r.capabilities)||{};if(null!=o&&o[i])return o?.[i];const a=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:lC(cC({},s.sessionProperties||{}),{capabilities:lC(cC({},o||{}),{[i]:a})})})}catch(c){console.warn("Failed to update session with capabilities",c)}return a}async getCallStatus(e){var t,n;const r=this.client.session.get(e.topic),i=null==(t=r.sessionProperties)?void 0:t.bundler_name;if(i){const t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(o){console.warn("Failed to fetch call status from bundler",o,t)}}const s=null==(n=r.sessionProperties)?void 0:n.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var n;const r=new URL(e),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(CE("eth_getUserOperationReceipt",[null==(n=t.request.params)?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${Kk}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}var dC=Object.defineProperty,fC=(e,t,n)=>((e,t,n)=>t in e?dC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class pC{constructor(e){fC(this,"name","solana"),fC(this,"client"),fC(this,"httpProviders"),fC(this,"events"),fC(this,"namespace"),fC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Qk,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=qO(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}}var gC=Object.defineProperty,mC=(e,t,n)=>((e,t,n)=>t in e?gC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class yC{constructor(e){mC(this,"name","cosmos"),mC(this,"client"),mC(this,"httpProviders"),mC(this,"events"),mC(this,"namespace"),mC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Qk,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=qO(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}}var bC=Object.defineProperty,vC=(e,t,n)=>((e,t,n)=>t in e?bC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class wC{constructor(e){vC(this,"name","algorand"),vC(this,"client"),vC(this,"httpProviders"),vC(this,"events"),vC(this,"namespace"),vC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||FO(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Qk,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;e[t]=this.createHttpProvider(t,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new VE(new qk(n,JO("disableProviderPing")))}}var EC=Object.defineProperty,AC=(e,t,n)=>((e,t,n)=>t in e?EC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class SC{constructor(e){AC(this,"name","cip34"),AC(this,"client"),AC(this,"httpProviders"),AC(this,"events"),AC(this,"namespace"),AC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Qk,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=this.getCardanoRPCUrl(t),r=qO(t);e[r]=this.createHttpProvider(r,n)})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}}var xC=Object.defineProperty,IC=(e,t,n)=>((e,t,n)=>t in e?xC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class PC{constructor(e){IC(this,"name","elrond"),IC(this,"client"),IC(this,"httpProviders"),IC(this,"events"),IC(this,"namespace"),IC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Qk,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=qO(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}}var kC=Object.defineProperty,OC=(e,t,n)=>((e,t,n)=>t in e?kC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class CC{constructor(e){OC(this,"name","multiversx"),OC(this,"client"),OC(this,"httpProviders"),OC(this,"events"),OC(this,"namespace"),OC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Qk,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=qO(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}}var NC=Object.defineProperty,_C=(e,t,n)=>((e,t,n)=>t in e?NC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class TC{constructor(e){_C(this,"name","near"),_C(this,"client"),_C(this,"httpProviders"),_C(this,"events"),_C(this,"namespace"),_C(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||FO(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Qk,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;e[t]=this.createHttpProvider(t,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace);return typeof n>"u"?void 0:new VE(new qk(n,JO("disableProviderPing")))}}var MC=Object.defineProperty,RC=(e,t,n)=>((e,t,n)=>t in e?MC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class LC{constructor(e){RC(this,"name","tezos"),RC(this,"client"),RC(this,"httpProviders"),RC(this,"events"),RC(this,"namespace"),RC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||FO(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Qk,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{e[t]=this.createHttpProvider(t)})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace);return typeof n>"u"?void 0:new VE(new qk(n))}}var BC=Object.defineProperty,DC=(e,t,n)=>((e,t,n)=>t in e?BC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class UC{constructor(e){DC(this,"name",Gk),DC(this,"client"),DC(this,"httpProviders"),DC(this,"events"),DC(this,"namespace"),DC(this,"chainId"),this.namespace=e.namespace,this.events=JO("events"),this.client=JO("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Qk,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){var e,t;const n={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach((e=>{const t=jg(e);n[`${t.namespace}:${t.reference}`]=this.createHttpProvider(e)})),n}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||FO(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new VE(new qk(n,JO("disableProviderPing")))}}var jC=Object.defineProperty,zC=Object.defineProperties,FC=Object.getOwnPropertyDescriptors,qC=Object.getOwnPropertySymbols,HC=Object.prototype.hasOwnProperty,VC=Object.prototype.propertyIsEnumerable,$C=(e,t,n)=>t in e?jC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GC=(e,t)=>{for(var n in t||(t={}))HC.call(t,n)&&$C(e,n,t[n]);if(qC)for(var n of qC(t))VC.call(t,n)&&$C(e,n,t[n]);return e},KC=(e,t)=>zC(e,FC(t)),QC=(e,t,n)=>$C(e,"symbol"!=typeof t?t+"":t,n);class WC{constructor(e){QC(this,"client"),QC(this,"namespaces"),QC(this,"optionalNamespaces"),QC(this,"sessionProperties"),QC(this,"scopedProperties"),QC(this,"events",new(ul())),QC(this,"rpcProviders",{}),QC(this,"session"),QC(this,"providerOpts"),QC(this,"logger"),QC(this,"uri"),QC(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:Pw()(Vw({level:e?.logger||Hk})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new WC(e);return await t.initialize(),t}async request(e,t,n){const[r,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:GC({},e),chainId:`${r}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,t,n,r){const i=(new Date).getTime();this.request(e,n,r).then((e=>t(null,NE(i,e)))).catch((e=>t(e,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:wv("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:r}=await this.client.authenticate(e,t);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();if(this.session=i.session,this.session){const e=KO(this.session.namespaces);this.namespaces=VO(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const r=await n();this.session=r;const i=KO(r.namespaces);return this.namespaces=VO(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e),i=this.getProvider(n);i.name===Gk?i.setDefaultChain(`${n}:${r}`,t):i.setDefaultChain(r,t)}catch(qw){if(!/Please call connect/.test(qw.message))throw qw}}async cleanupPendingPairings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Ev(t)){for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await Ck.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Hk,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(qw){throw this.logger.error("Failed to get session",qw),new Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map((e=>gv(e))))];YO("client",this.client),YO("events",this.events),YO("disableProviderPing",this.disableProviderPing),e.forEach((e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter((t=>t.includes(e)));if(!n.length)return[];const r=[];return n.forEach((e=>{const n=t.namespaces[e].accounts;r.push(...n)})),r}(e,this.session),n=HO(t),r=VO(this.namespaces,this.optionalNamespaces),i=KC(GC({},r[e]),{accounts:t,chains:n});switch(e){case"eip155":this.rpcProviders[e]=new hC({namespace:i});break;case"algorand":this.rpcProviders[e]=new wC({namespace:i});break;case"solana":this.rpcProviders[e]=new pC({namespace:i});break;case"cosmos":this.rpcProviders[e]=new yC({namespace:i});break;case"polkadot":this.rpcProviders[e]=new eC({namespace:i});break;case"cip34":this.rpcProviders[e]=new SC({namespace:i});break;case"elrond":this.rpcProviders[e]=new PC({namespace:i});break;case"multiversx":this.rpcProviders[e]=new CC({namespace:i});break;case"near":this.rpcProviders[e]=new TC({namespace:i});break;case"tezos":this.rpcProviders[e]=new LC({namespace:i});break;default:this.rpcProviders[Gk]?this.rpcProviders[Gk].updateNamespace(i):this.rpcProviders[Gk]=new UC({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(e=>{var t;const{topic:n}=e;n===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)})),this.client.on("session_event",(e=>{var t;const{params:n,topic:r}=e;if(r!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=n;if("accountsChanged"===i.name){const e=i.data;e&&Ev(e)&&this.events.emit("accountsChanged",e.map(GO))}else if("chainChanged"===i.name){const e=n.chainId,t=n.event.data,r=gv(e),i=QO(e)!==QO(t)?`${r}:${QO(t)}`:e;this.onChainChanged(i)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)})),this.client.on("session_update",(e=>{let{topic:t,params:n}=e;var r,i;if(t!==(null==(r=this.session)?void 0:r.topic))return;const{namespaces:s}=n,o=null==(i=this.client)?void 0:i.session.get(t);this.session=KC(GC({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})})),this.client.on("session_delete",(async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",KC(GC({},wv("USER_DISCONNECTED")),{data:e.topic})))})),this.on(Qk,(e=>{this.onChainChanged(e,!0)}))}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Gk]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])}))}setNamespaces(e){const{namespaces:t,optionalNamespaces:n,sessionProperties:r,scopedProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=r,this.scopedProperties=i}validateChain(e){const[t,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map((e=>gv(e))).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const r=gv(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.namespaces)return;const[n,r]=this.validateChain(e);r&&(t||this.getProvider(n).setDefaultChain(r),this.namespaces[n]?this.namespaces[n].defaultChain=r:this.namespaces[`${n}:${r}`]?this.namespaces[`${n}:${r}`].defaultChain=r:this.namespaces[`${n}:${r}`]={defaultChain:r},this.events.emit("chainChanged",r),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var n;const r=(null==(n=this.session)?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Vk}/${e}${r}`,t)}async getFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${Vk}/${e}${n}`)}async deleteFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${Vk}/${e}${n}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(Vk)&&await this.client.core.storage.removeItem(e)}catch(t){this.logger.warn("Failed to cleanup storage",t)}}}const JC=WC,YC=["eth_sendTransaction","personal_sign"],ZC=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],XC=["chainChanged","accountsChanged"],eN=["chainChanged","accountsChanged","message","disconnect","connect"];var tN=Object.defineProperty,nN=Object.defineProperties,rN=Object.getOwnPropertyDescriptors,iN=Object.getOwnPropertySymbols,sN=Object.prototype.hasOwnProperty,oN=Object.prototype.propertyIsEnumerable,aN=(e,t,n)=>t in e?tN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cN=(e,t)=>{for(var n in t||(t={}))sN.call(t,n)&&aN(e,n,t[n]);if(iN)for(var n of iN(t))oN.call(t,n)&&aN(e,n,t[n]);return e},lN=(e,t)=>nN(e,rN(t)),uN=(e,t,n)=>aN(e,"symbol"!=typeof t?t+"":t,n);function hN(e){return Number(e[0].split(":")[1])}function dN(e){return`0x${e.toString(16)}`}class fN{constructor(){uN(this,"events",new ll.EventEmitter),uN(this,"namespace","eip155"),uN(this,"accounts",[]),uN(this,"signer"),uN(this,"chainId",1),uN(this,"modal"),uN(this,"rpc"),uN(this,"STORAGE_KEY","wc@2:ethereum_provider:"),uN(this,"on",((e,t)=>(this.events.on(e,t),this))),uN(this,"once",((e,t)=>(this.events.once(e,t),this))),uN(this,"removeListener",((e,t)=>(this.events.removeListener(e,t),this))),uN(this,"off",((e,t)=>(this.events.off(e,t),this))),uN(this,"parseAccount",(e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e)),this.signer={},this.rpc={}}static async init(e){const t=new fN;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,n){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),n)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:t,optional:n}=function(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!Ev(t))throw new Error("Invalid chains");const c={chains:t,methods:r||YC,events:s||XC,rpcMap:cN({},t.length?{[hN(t)]:a[hN(t)]}:{})},l=s?.filter((e=>!XC.includes(e))),u=r?.filter((e=>!YC.includes(e)));if(!n&&!o&&!i&&(null==l||!l.length)&&(null==u||!u.length))return{required:t.length?c:void 0};const h={chains:[...new Set(l?.length&&u?.length||!n?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:ZC))],events:[...new Set(c.events.concat(null!=o&&o.length?o:eN))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?h:void 0}}(this.rpc);try{const r=await new Promise((async(r,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal((e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))})));const o=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(lN(cN({namespaces:cN({},t&&{[this.namespace]:t})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic,scopedProperties:o})).then((e=>{r(e)})).catch((e=>{i(new Error(e.message))}))}));if(!r)return;const i=zg(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:dN(this.chainId)})}catch(r){throw this.signer.logger.error(r),r}finally{this.modal&&this.modal.closeModal()}}async authenticate(e,t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const n=await new Promise((async(n,r)=>{var i;this.rpc.showQrModal&&(null==(i=this.modal)||i.subscribeModal((e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))}))),await this.signer.authenticate(lN(cN({},e),{chains:this.rpc.chains}),t).then((e=>{n(e)})).catch((e=>{r(new Error(e.message))}))})),r=n.session;if(r){const e=zg(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:dN(this.chainId)})}return n}catch(qw){throw this.signer.logger.error(qw),qw}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(e=>{const{params:t}=e,{event:n}=t;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)})),this.signer.on("chainChanged",(e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",dN(this.chainId)),this.persist()})),this.signer.on("session_update",(e=>{this.events.emit("session_update",e)})),this.signer.on("session_delete",(e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",lN(cN({},wv("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(e=>{var t,n;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(n=this.modal)||n.openModal({uri:e})),this.events.emit("display_uri",e)}))}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter((e=>this.isCompatibleChainId(e))).map((e=>this.parseChainId(e)));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",dN(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,r]=e.split(":");return{chainId:`${t}:${n}`,address:r}}setAccounts(e){this.accounts=e.filter((e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId)).map((e=>this.parseAccountId(e).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const r=null!=(t=e?.chains)?t:[],i=null!=(n=e?.optionalChains)?n:[],s=r.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=r.length?e?.methods||YC:[],a=r.length?e?.events||XC:[],c=e?.optionalMethods||[],l=e?.optionalEvents||[],u=e?.rpcMap||this.buildRpcMap(s,e.projectId),h=e?.qrModalOptions||void 0;return{chains:r?.map((e=>this.formatChainId(e))),optionalChains:i.map((e=>this.formatChainId(e))),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:u,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach((e=>{n[e]=this.getRpcUrl(e,t)})),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?hN(this.rpc.chains):hN(this.rpc.optionalChains),this.signer=await JC.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{const{WalletConnectModal:t}=await Promise.resolve().then(n.bind(n,7171));e=t}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(cN({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(qw){throw this.signer.logger.error(qw),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:r}=e;t&&Ev(t)&&(this.rpc.chains=t.map((e=>this.formatChainId(e))),t.forEach((e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)}))),n&&Ev(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map((e=>this.formatChainId(e))),n.forEach((e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)})))}getRpcUrl(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch((e=>this.signer.logger.warn(e)))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((e=>this.parseAccount(e)))}}const pN=fN;var gN=n(7171);const mN=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newBaseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];var yN=n(579);const bN=function(){const[e,t]=(0,m.useState)(null),[n,r]=(0,m.useState)(null),[i,s]=(0,m.useState)([]),[o,a]=(0,m.useState)(!1),[c,l]=(0,m.useState)(null),[u,h]=(0,m.useState)(null),d=new gN.WalletConnectModal({projectId:"d512d1dac86c0440191b4e4f981c58ec",themeMode:"dark",themeVariables:{"--wcm-z-index":"1000"}});(0,m.useEffect)((()=>{if(u)return u.on("accountsChanged",(e=>{e.length>0?(t(e[0]),n&&f(n,e[0])):(t(null),s([]),h(null),r(null))})),u.on("chainChanged",(()=>{window.location.reload()})),()=>{u.disconnect()}}),[u,n]);const f=async(e,t)=>{if(e&&t)try{const r=e.filters.Transfer(null,t),i=await e.queryFilter(r,0,"latest");console.log("Eventos Transfer encontrados:",i.length),i.forEach(((e,t)=>{console.log(`Evento ${t}: Token ID ${e.args.tokenId.toString()}`)}));const o=[];for(let t=0;t<i.length;t++){const r=i[t].args.tokenId.toString();console.log(`Procesando token ID ${r}...`);try{let t=await e.tokenURI(r);console.log(`Token ID ${r} URI: ${t}`);const n=await e.ownerOf(r);console.log(`Token ID ${r} existe y pertenece a: ${n}`);const i=await fetch(t);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.text();console.log(`Raw metadata for token ${r}:`,s);const a=JSON.parse(s);console.log(`Parsed metadata for token ${r}:`,JSON.stringify(a));const c=a.image||"https://via.placeholder.com/150",l=a.name||`NFT ${r}`;console.log(`Image for token ${r}:`,c),console.log(`Name for token ${r}:`,l);const u={tokenId:r,uri:t,image:c,name:l};console.log(`NFT creado para token ${r}:`,u),o.push(u)}catch(n){console.error(`Error processing token ${r}:`,n.message)}}console.log("NFTs list antes de filtrar:",o);const a=o.filter((e=>null!==e&&void 0!==e));console.log("NFTs filtrados:",a),s(a)}catch(n){console.error("Error al cargar NFTs:",n),l("Error al cargar los NFTs. Revisa la consola para m\xe1s detalles.")}};return(0,yN.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"#ffffff",fontFamily:"'Montserrat', sans-serif",padding:"40px 20px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,yN.jsx)("h1",{style:{fontSize:"3rem",fontWeight:"bold",marginBottom:"20px",color:"#00aaff",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)"},children:"OmegaNFT"}),e?(0,yN.jsxs)("p",{style:{fontSize:"1.2rem",marginBottom:"30px",color:"#cccccc"},children:["Cuenta conectada: ",e]}):(0,yN.jsx)("button",{onClick:async()=>{a(!0),l(null);try{const e=await pN.init({projectId:"d512d1dac86c0440191b4e4f981c58ec",chains:[80002],optionalChains:[80002],showQrModal:!1,methods:["eth_requestAccounts","eth_sendTransaction","eth_sign"],events:["chainChanged","accountsChanged"],metadata:{name:"OmegaNFT",description:"Frontend for OmegaNFT project",url:"https://www.digibiosolutions.com/omega-nft-frontend/",icons:["https://www.digibiosolutions.com/omega-nfts-metadata/omega-nfts-metadata/images/0.png"]}});await e.connect({modal:d});const n=await e.request({method:"eth_requestAccounts"}),i=new Jc(e),s=await i.getSigner(),o=new di("0xCc9FeC4A298D2320748116F24d859c91455f7245",mN,s);h(e),r(o),t(n[0]),console.log("Conectado a:",n[0]),await f(o,n[0])}catch(e){console.error("Error al conectar:",e),l("Error al conectar con la wallet. Revisa la consola para m\xe1s detalles.")}finally{a(!1)}},disabled:o,style:{padding:"12px 30px",fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff",backgroundColor:"#00aaff",border:"none",borderRadius:"25px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 170, 255, 0.3)",marginBottom:"30px"},onMouseOver:e=>e.target.style.backgroundColor="#0088cc",onMouseOut:e=>e.target.style.backgroundColor="#00aaff",children:o?"Conectando...":"Conectar con MetaMask"}),c&&(0,yN.jsx)("p",{style:{fontSize:"1rem",color:"#ff5555",marginBottom:"20px"},children:c}),e&&(0,yN.jsx)("button",{onClick:async()=>{if(n)try{const t=await n.mint({value:cl("0.01")});await t.wait(),alert("NFT minteado con \xe9xito!"),await f(n,e)}catch(t){console.error("Error al mintear:",t),alert("Error al mintear el NFT. Revisa la consola.")}else l("Por favor, conecta tu wallet para mintear un NFT.")},disabled:!n,style:{padding:"12px 30px",fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff",backgroundColor:"#00aaff",border:"none",borderRadius:"25px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 170, 255, 0.3)",marginBottom:"40px"},onMouseOver:e=>e.target.style.backgroundColor="#0088cc",onMouseOut:e=>e.target.style.backgroundColor="#00aaff",children:"Mintear NFT (0.01 MATIC)"}),(0,yN.jsx)("h2",{style:{fontSize:"2rem",marginBottom:"30px",color:"#00aaff"},children:"Mis NFTs"}),(0,yN.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",maxWidth:"1200px",width:"100%"},children:i.map(((e,t)=>(0,yN.jsxs)("div",{style:{backgroundColor:"#2a2a4a",borderRadius:"15px",padding:"20px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",children:[(0,yN.jsx)("div",{style:{width:"100%",maxHeight:"250px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"15px",overflow:"hidden"},children:(0,yN.jsx)("img",{src:e.image,alt:`NFT ${e.tokenId}`,style:{width:"100%",height:"auto",maxHeight:"250px",objectFit:"contain",borderRadius:"10px"}})}),(0,yN.jsx)("h3",{style:{fontSize:"1.2rem",marginBottom:"10px",color:"#ffffff"},children:e.name}),(0,yN.jsxs)("p",{style:{fontSize:"0.9rem",color:"#cccccc",marginBottom:"10px"},children:["Token ID: ",e.tokenId]}),(0,yN.jsxs)("p",{style:{fontSize:"0.8rem",color:"#999999",wordBreak:"break-all"},children:["URI: ",e.uri]})]},t)))})]})},vN=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};y.createRoot(document.getElementById("root")).render((0,yN.jsx)(m.StrictMode,{children:(0,yN.jsx)(bN,{})})),vN()})()})();
//# sourceMappingURL=main.58ffe528.js.map